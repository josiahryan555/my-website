"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[179],{2011:(ht,Me,F)=>{F.d(Me,{Dh:()=>pe,GT:()=>fe,cc:()=>Re,hO:()=>Ve,on:()=>j,pX:()=>ae,xv:()=>me});var d=F(4650),te=F(9260),O=F(2122);ht=F.hmd(ht);const le=["ngOnDestroy"],ae=(ge,tt,lt,ke={})=>new Proxy(ge,{get:(be,Ce)=>lt.runOutsideAngular(()=>{var He;if(ge[Ce])return!(null===(He=ke?.spy)||void 0===He)&&He.get&&ke.spy.get(Ce,ge[Ce]),ge[Ce];if(le.indexOf(Ce)>-1)return()=>{};const $e=tt.toPromise().then(B=>{const ye=B&&B[Ce];return"function"==typeof ye?ye.bind(B):ye&&ye.then?ye.then(W=>lt.run(()=>W)):lt.run(()=>ye)});return new Proxy(()=>{},{get:(B,ye)=>$e[ye],apply:(B,ye,W)=>$e.then(ee=>{var oe;const ie=ee&&ee(...W);return!(null===(oe=ke?.spy)||void 0===oe)&&oe.apply&&ke.spy.apply(Ce,W,ie),ie})})})}),fe=(ge,tt)=>{tt.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(ke=>{Object.defineProperty(ge.prototype,ke,Object.getOwnPropertyDescriptor(lt.prototype||lt,ke))})})};class se{constructor(tt){return tt}}const pe=new d.OlP("angularfire2.app.options"),me=new d.OlP("angularfire2.app.name");function j(ge,tt,lt){const be="object"==typeof lt&&lt||{};be.name=be.name||"string"==typeof lt&&lt||"[DEFAULT]";const He=te.Z.apps.filter($e=>$e&&$e.name===be.name)[0]||tt.runOutsideAngular(()=>te.Z.initializeApp(ge,be));try{JSON.stringify(ge)!==JSON.stringify(He.options)&&H("error",`${He.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(He)}const H=(ge,...tt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ge](...tt)},Q={provide:se,useFactory:j,deps:[pe,d.R0b,[new d.FiY,me]]};let Ve=(()=>{class ge{constructor(lt){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,lt.toString())}static initializeApp(lt,ke){return{ngModule:ge,providers:[{provide:pe,useValue:lt},{provide:me,useValue:ke}]}}}return ge.\u0275fac=function(lt){return new(lt||ge)(d.LFG(d.Lbi))},ge.\u0275mod=d.oAB({type:ge}),ge.\u0275inj=d.cJS({providers:[Q]}),ge})();function Re(ge,tt,lt,ke,be){const[,Ce,He]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===ge)||[];if(Ce)return function Ie(ge,tt){try{return ge.toString()===tt.toString()}catch{return ge===tt}}(be,He)||(_e("error",`${tt} was already initialized on the ${lt} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:be,was:He})),Ce;{const $e=ke();return globalThis.\u0275AngularfireInstanceCache.push([ge,$e,be]),$e}}const st=!!ht.hot,_e=(ge,...tt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ge](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ht,Me,F)=>{F.d(Me,{q4:()=>Qe,iC:()=>rs,HU:()=>Wr,vb:()=>ks,JM:()=>ka});var d=F(4650),te=F(259),O=F(5861),le=F(9681),ae=F(2090),fe=F(4859),se=F(1877),pe=F(8766);const me="@firebase/installations",j="0.6.0",Q=`w:${j}`,Ve="FIS_v2",tt=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lt(C){return C instanceof ae.ZR&&C.code.includes("request-failed")}function ke({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function be(C){return{token:C.token,requestStatus:2,expiresIn:ee(C.expiresIn),creationTime:Date.now()}}function Ce(C,D){return He.apply(this,arguments)}function He(){return(He=(0,O.Z)(function*(C,D){const V=(yield D.json()).error;return tt.create("request-failed",{requestName:C,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function $e({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function B(C,{refreshToken:D}){const k=$e(C);return k.append("Authorization",function oe(C){return`${Ve} ${C}`}(D)),k}function ye(C){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ee(C){return Number(C.replace("s","000"))}function ie(C,D){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:k}){const V=ke(C),X=$e(C),re=D.getImmediate({optional:!0});if(re){const ut=yield re.getHeartbeatsHeader();ut&&X.append("x-firebase-client",ut)}const Be={method:"POST",headers:X,body:JSON.stringify({fid:k,authVersion:Ve,appId:C.appId,sdkVersion:Q})},Xe=yield ye(()=>fetch(V,Be));if(Xe.ok){const ut=yield Xe.json();return{fid:ut.fid||k,registrationStatus:2,refreshToken:ut.refreshToken,authToken:be(ut.authToken)}}throw yield Ce("Create Installation",Xe)})).apply(this,arguments)}function Oe(C){return new Promise(D=>{setTimeout(D,C)})}const en=/^[cdef][\w-]{21}$/;function Ke(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function un(C){return function mt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return en.test(k)?k:""}catch{return""}}function Cn(C){return`${C.appName}!${C.appId}`}const Xt=new Map;function tn(C,D){const k=Cn(C);fn(k,D),function Wi(C,D){const k=function Rr(){return!pi&&"BroadcastChannel"in self&&(pi=new BroadcastChannel("[Firebase] FID Change"),pi.onmessage=C=>{fn(C.data.key,C.data.fid)}),pi}();k&&k.postMessage({key:C,fid:D}),function jr(){0===Xt.size&&pi&&(pi.close(),pi=null)}()}(k,D)}function fn(C,D){const k=Xt.get(C);if(k)for(const V of k)V(D)}let pi=null;const Qr="firebase-installations-store";let Xr=null;function la(){return Xr||(Xr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Qr)}})),Xr}function Ye(C,D){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(C,D){const k=Cn(C),X=(yield la()).transaction(Qr,"readwrite"),re=X.objectStore(Qr),Te=yield re.get(k);return yield re.put(D,k),yield X.done,(!Te||Te.fid!==D.fid)&&tn(C,D.fid),D})).apply(this,arguments)}function ms(C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,O.Z)(function*(C){const D=Cn(C),V=(yield la()).transaction(Qr,"readwrite");yield V.objectStore(Qr).delete(D),yield V.done})).apply(this,arguments)}function Jr(C,D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(C,D){const k=Cn(C),X=(yield la()).transaction(Qr,"readwrite"),re=X.objectStore(Qr),Te=yield re.get(k),Be=D(Te);return void 0===Be?yield re.delete(k):yield re.put(Be,k),yield X.done,Be&&(!Te||Te.fid!==Be.fid)&&tn(C,Be.fid),Be})).apply(this,arguments)}function Pn(C){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(C){let D;const k=yield Jr(C.appConfig,V=>{const X=wn(V),re=Et(C,X);return D=re.registrationPromise,re.installationEntry});return""===k.fid?{installationEntry:yield D}:{installationEntry:k,registrationPromise:D}})).apply(this,arguments)}function wn(C){return Rt(C||{fid:Ke(),registrationStatus:0})}function Et(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(tt.create("app-offline"))};const k={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function ct(C,D){return an.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:mr(C)}:{installationEntry:D}}function an(){return(an=(0,O.Z)(function*(C,D){try{const k=yield ie(C,D);return Ye(C.appConfig,k)}catch(k){throw lt(k)&&409===k.customData.serverCode?yield ms(C.appConfig):yield Ye(C.appConfig,{fid:D.fid,registrationStatus:0}),k}})).apply(this,arguments)}function mr(C){return jn.apply(this,arguments)}function jn(){return(jn=(0,O.Z)(function*(C){let D=yield Hr(C.appConfig);for(;1===D.registrationStatus;)yield Oe(100),D=yield Hr(C.appConfig);if(0===D.registrationStatus){const{installationEntry:k,registrationPromise:V}=yield Pn(C);return V||k}return D})).apply(this,arguments)}function Hr(C){return Jr(C,D=>{if(!D)throw tt.create("installation-not-found");return Rt(D)})}function Rt(C){return function gs(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function nn(C,D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},k){const V=rn(C,k),X=B(C,k),re=D.getImmediate({optional:!0});if(re){const ut=yield re.getHeartbeatsHeader();ut&&X.append("x-firebase-client",ut)}const Be={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Q,appId:C.appId}})},Xe=yield ye(()=>fetch(V,Be));if(Xe.ok)return be(yield Xe.json());throw yield Ce("Generate Auth Token",Xe)})).apply(this,arguments)}function rn(C,{fid:D}){return`${ke(C)}/${D}/authTokens:generate`}function Xn(C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(C,D=!1){let k;const V=yield Jr(C.appConfig,re=>{if(!jt(re))throw tt.create("not-registered");const Te=re.authToken;if(!D&&$(Te))return re;if(1===Te.requestStatus)return k=it(C,D),re;{if(!navigator.onLine)throw tt.create("app-offline");const Be=K(re);return k=xt(C,Be),Be}});return k?yield k:V.authToken})).apply(this,arguments)}function it(C,D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(C,D){let k=yield nt(C.appConfig);for(;1===k.authToken.requestStatus;)yield Oe(100),k=yield nt(C.appConfig);const V=k.authToken;return 0===V.requestStatus?Xn(C,D):V})).apply(this,arguments)}function nt(C){return Jr(C,D=>{if(!jt(D))throw tt.create("not-registered");return function we(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function xt(C,D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(C,D){try{const k=yield nn(C,D),V=Object.assign(Object.assign({},D),{authToken:k});return yield Ye(C.appConfig,V),k}catch(k){if(!lt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ye(C.appConfig,V)}else yield ms(C.appConfig);throw k}})).apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function $(C){return 2===C.requestStatus&&!function U(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function K(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function ze(){return(ze=(0,O.Z)(function*(C){const D=C,{installationEntry:k,registrationPromise:V}=yield Pn(D);return V?V.catch(console.error):Xn(D).catch(console.error),k.fid})).apply(this,arguments)}function Jt(){return(Jt=(0,O.Z)(function*(C,D=!1){const k=C;return yield yn(k),(yield Xn(k,D)).token})).apply(this,arguments)}function yn(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(C){const{registrationPromise:D}=yield Pn(C);D&&(yield D)})).apply(this,arguments)}function ys(C){return tt.create("missing-app-config-values",{valueName:C})}const Do="installations",An=C=>{const D=C.getProvider("app").getImmediate(),k=function Dn(C){if(!C||!C.options)throw ys("App Configuration");if(!C.name)throw ys("App Name");const D=["projectId","apiKey","appId"];for(const k of D)if(!C.options[k])throw ys(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Hs=C=>{const D=C.getProvider("app").getImmediate(),k=(0,le._getProvider)(D,Do).getImmediate();return{getId:()=>function J(C){return ze.apply(this,arguments)}(k),getToken:X=>function gt(C){return Jt.apply(this,arguments)}(k,X)}};(function Qa(){(0,le._registerComponent)(new fe.wA(Do,An,"PUBLIC")),(0,le._registerComponent)(new fe.wA("installations-internal",Hs,"PRIVATE"))})(),(0,le.registerVersion)(me,j),(0,le.registerVersion)(me,j,"esm2017");const Fi="@firebase/remote-config",$n=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class uh{constructor(D,k,V,X){this.client=D,this.storage=k,this.storageCache=V,this.logger=X}isCachedDataFresh(D,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-k,X=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${X}.`),X}fetch(D){var k=this;return(0,O.Z)(function*(){const[V,X]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(X&&k.isCachedDataFresh(D.cacheMaxAgeMillis,V))return X;D.eTag=X&&X.eTag;const re=yield k.client.fetch(D),Te=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Te.push(k.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Te),re})()}}function mu(C=navigator){return C.languages&&C.languages[0]||C.language}class gu{constructor(D,k,V,X,re,Te){this.firebaseInstallations=D,this.sdkVersion=k,this.namespace=V,this.projectId=X,this.apiKey=re,this.appId=Te}fetch(D){var k=this;return(0,O.Z)(function*(){const[V,X]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Xe={sdk_version:k.sdkVersion,app_instance_id:V,app_instance_id_token:X,app_id:k.appId,language_code:mu()},ut={method:"POST",headers:Be,body:JSON.stringify(Xe)},Lt=fetch(Te,ut),Ct=new Promise((Un,Kr)=>{D.signal.addEventListener(()=>{const is=new Error("The operation was aborted.");is.name="AbortError",Kr(is)})});let qn;try{yield Promise.race([Lt,Ct]),qn=yield Lt}catch(Un){let Kr="fetch-client-network";throw"AbortError"===Un?.name&&(Kr="fetch-timeout"),$n.create(Kr,{originalErrorMessage:Un?.message})}let Vn=qn.status;const zo=qn.headers.get("ETag")||void 0;let so,Pt;if(200===qn.status){let Un;try{Un=yield qn.json()}catch(Kr){throw $n.create("fetch-client-parse",{originalErrorMessage:Kr?.message})}so=Un.entries,Pt=Un.state}if("INSTANCE_STATE_UNSPECIFIED"===Pt?Vn=500:"NO_CHANGE"===Pt?Vn=304:("NO_TEMPLATE"===Pt||"EMPTY_CONFIG"===Pt)&&(so={}),304!==Vn&&200!==Vn)throw $n.create("fetch-status",{httpStatus:Vn});return{status:Vn,eTag:zo,config:so}})()}}class op{constructor(D,k){this.client=D,this.storage=k}fetch(D){var k=this;return(0,O.Z)(function*(){const V=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:k,backoffCount:V}){var X=this;return(0,O.Z)(function*(){yield function er(C,D){return new Promise((k,V)=>{const X=Math.max(D-Date.now(),0),re=setTimeout(k,X);C.addEventListener(()=>{clearTimeout(re),V($n.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,k);try{const re=yield X.client.fetch(D);return yield X.storage.deleteThrottleMetadata(),re}catch(re){if(!function Pc(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(re))throw re;const Te={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield X.storage.setThrottleMetadata(Te),X.attemptFetch(D,Te)}})()}}class Fc{constructor(D,k,V,X,re){this.app=D,this._client=k,this._storageCache=V,this._storage=X,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yu(C,D){const k=C.target.error||void 0;return $n.create(D,{originalErrorMessage:k&&k?.message})}const ws="app_namespace_store";class cp{constructor(D,k,V,X=function up(){return new Promise((C,D)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=V=>{D(yu(V,"storage-open"))},k.onsuccess=V=>{C(V.target.result)},k.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(ws,{keyPath:"compositeKey"})}}catch(k){D($n.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=D,this.appName=k,this.namespace=V,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var k=this;return(0,O.Z)(function*(){const V=yield k.openDbPromise;return new Promise((X,re)=>{const Be=V.transaction([ws],"readonly").objectStore(ws),Xe=k.createCompositeKey(D);try{const ut=Be.get(Xe);ut.onerror=Lt=>{re(yu(Lt,"storage-get"))},ut.onsuccess=Lt=>{const Ct=Lt.target.result;X(Ct?Ct.value:void 0)}}catch(ut){re($n.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(D,k){var V=this;return(0,O.Z)(function*(){const X=yield V.openDbPromise;return new Promise((re,Te)=>{const Xe=X.transaction([ws],"readwrite").objectStore(ws),ut=V.createCompositeKey(D);try{const Lt=Xe.put({compositeKey:ut,value:k});Lt.onerror=Ct=>{Te(yu(Ct,"storage-set"))},Lt.onsuccess=()=>{re()}}catch(Lt){Te($n.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(D){var k=this;return(0,O.Z)(function*(){const V=yield k.openDbPromise;return new Promise((X,re)=>{const Be=V.transaction([ws],"readwrite").objectStore(ws),Xe=k.createCompositeKey(D);try{const ut=Be.delete(Xe);ut.onerror=Lt=>{re(yu(Lt,"storage-delete"))},ut.onsuccess=()=>{X()}}catch(ut){re($n.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Vc{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const k=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),X=D.storage.getActiveConfig(),re=yield k;re&&(D.lastFetchStatus=re);const Te=yield V;Te&&(D.lastSuccessfulFetchTimestampMillis=Te);const Be=yield X;Be&&(D.activeConfig=Be)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ja(){return ch.apply(this,arguments)}function ch(){return(ch=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Es(){(0,le._registerComponent)(new fe.wA("remote-config",function C(D,{instanceIdentifier:k}){const V=D.getProvider("app").getImmediate(),X=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,ae.hl)())throw $n.create("indexed-db-unavailable");const{projectId:re,apiKey:Te,appId:Be}=V.options;if(!re)throw $n.create("registration-project-id");if(!Te)throw $n.create("registration-api-key");if(!Be)throw $n.create("registration-app-id");const Xe=new cp(Be,V.name,k=k||"firebase"),ut=new Vc(Xe),Lt=new se.Yd(Fi);Lt.logLevel=se.in.ERROR;const Ct=new gu(X,le.SDK_VERSION,k,re,Te,Be),qn=new op(Ct,Xe),Vn=new uh(qn,Xe,ut,Lt),zo=new Fc(V,Vn,ut,Xe,Lt);return function lr(C){const D=(0,ae.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(zo),zo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Fi,"0.4.0"),(0,le.registerVersion)(Fi,"0.4.0","esm2017")}();const Li="/firebase-messaging-sw.js",Zi="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",da="google.c.a.c_id",el="google.c.a.c_l",_u="google.c.a.ts",dh="google.c.a.e";var Qi=(()=>{return(C=Qi||(Qi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Qi;var C})();function ei(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gr(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(k),X=new Uint8Array(V.length);for(let re=0;re<V.length;++re)X[re]=V.charCodeAt(re);return X}const So="fcm_token_details_db",yr="fcm_token_object_Store";function hh(C){return fh.apply(this,arguments)}function fh(){return fh=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(So))return null;let D=null;return(yield(0,pe.X3)(So,5,{upgrade:(V=(0,O.Z)(function*(X,re,Te,Be){var Xe;if(re<2||!X.objectStoreNames.contains(yr))return;const ut=Be.objectStore(yr),Lt=yield ut.index("fcmSenderId").get(C);if(yield ut.clear(),Lt)if(2===re){const Ct=Lt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;D={token:Ct.fcmToken,createTime:null!==(Xe=Ct.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:ei(Ct.vapidKey)}}}else if(3===re){const Ct=Lt;D={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:ei(Ct.auth),p256dh:ei(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:ei(Ct.vapidKey)}}}else if(4===re){const Ct=Lt;D={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:ei(Ct.auth),p256dh:ei(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:ei(Ct.vapidKey)}}}}),function(re,Te,Be,Xe){return V.apply(this,arguments)})})).close(),yield(0,pe.Lj)(So),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),kn(D)?D:null;var V}),fh.apply(this,arguments)}function kn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const ti="firebase-messaging-store";let Ar=null;function nl(){return Ar||(Ar=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(ti)}})),Ar}function Mo(C){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,O.Z)(function*(C){const D=yi(C),V=yield(yield nl()).transaction(ti).objectStore(ti).get(D);if(V)return V;{const X=yield hh(C.appConfig.senderId);if(X)return yield Qt(C,X),X}})).apply(this,arguments)}function Qt(C,D){return rl.apply(this,arguments)}function rl(){return(rl=(0,O.Z)(function*(C,D){const k=yi(C),X=(yield nl()).transaction(ti,"readwrite");return yield X.objectStore(ti).put(D,k),yield X.done,D})).apply(this,arguments)}function qs(C){return il.apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(C){const D=yi(C),V=(yield nl()).transaction(ti,"readwrite");yield V.objectStore(ti).delete(D),yield V.done})).apply(this,arguments)}function yi({appConfig:C}){return C.appId}const Mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kt(C,D){return ol.apply(this,arguments)}function ol(){return(ol=(0,O.Z)(function*(C,D){const k=yield wu(C),V=Se(D),X={method:"POST",headers:k,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(Ji(C.appConfig),X)).json()}catch(Te){throw Mn.create("token-subscribe-failed",{errorInfo:Te?.toString()})}if(re.error)throw Mn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Mn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function mh(C,D){return al.apply(this,arguments)}function al(){return(al=(0,O.Z)(function*(C,D){const k=yield wu(C),V=Se(D.subscriptionOptions),X={method:"PATCH",headers:k,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(`${Ji(C.appConfig)}/${D.token}`,X)).json()}catch(Te){throw Mn.create("token-update-failed",{errorInfo:Te?.toString()})}if(re.error)throw Mn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Mn.create("token-update-no-token");return re.token})).apply(this,arguments)}function ll(C,D){return bu.apply(this,arguments)}function bu(){return(bu=(0,O.Z)(function*(C,D){const V={method:"DELETE",headers:yield wu(C)};try{const re=yield(yield fetch(`${Ji(C.appConfig)}/${D}`,V)).json();if(re.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(X){throw Mn.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function Ji({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function wu(C){return ha.apply(this,arguments)}function ha(){return(ha=(0,O.Z)(function*({appConfig:C,installations:D}){const k=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Se({p256dh:C,auth:D,endpoint:k,vapidKey:V}){const X={web:{endpoint:k,auth:D,p256dh:C}};return V!==Yi&&(X.web.applicationPubKey=V),X}const qt=6048e5;function ul(C){return cl.apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(C){const D=yield Eu(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:ei(D.getKey("auth")),p256dh:ei(D.getKey("p256dh"))},V=yield Mo(C.firebaseDependencies);if(V){if(jc(V.subscriptionOptions,k))return Date.now()>=V.createTime+qt?xo(C,{token:V.token,createTime:Date.now(),subscriptionOptions:k}):V.token;try{yield ll(C.firebaseDependencies,V.token)}catch(X){console.warn(X)}return fa(C.firebaseDependencies,k)}return fa(C.firebaseDependencies,k)})).apply(this,arguments)}function Rn(C){return dl.apply(this,arguments)}function dl(){return(dl=(0,O.Z)(function*(C){const D=yield Mo(C.firebaseDependencies);D&&(yield ll(C.firebaseDependencies,D.token),yield qs(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function xo(C,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,O.Z)(function*(C,D){try{const k=yield mh(C.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:k,createTime:Date.now()});return yield Qt(C.firebaseDependencies,V),k}catch(k){throw yield Rn(C),k}})).apply(this,arguments)}function fa(C,D){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(C,D){const V={token:yield kt(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Qt(C,V),V.token})).apply(this,arguments)}function Eu(C,D){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gr(D)})})).apply(this,arguments)}function jc(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function ma(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Nn(C,D){if(!D.notification)return;C.notification={};const k=D.notification.title;k&&(C.notification.title=k);const V=D.notification.body;V&&(C.notification.body=V);const X=D.notification.image;X&&(C.notification.image=X);const re=D.notification.icon;re&&(C.notification.icon=re)}(D,C),function Vi(C,D){!D.data||(C.data=D.data)}(D,C),function Cu(C,D){var k,V,X,re,Te;if(!(D.fcmOptions||null!==(k=D.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const Be=null!==(X=null===(V=D.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==X?X:null===(re=D.notification)||void 0===re?void 0:re.click_action;Be&&(C.fcmOptions.link=Be);const Xe=null===(Te=D.fcmOptions)||void 0===Te?void 0:Te.analytics_label;Xe&&(C.fcmOptions.analyticsLabel=Xe)}(D,C),D}function Ws(C){return"object"==typeof C&&!!C&&da in C}function es(C,D){const k=[];for(let V=0;V<C.length;V++)k.push(C.charAt(V)),V<D.length&&k.push(D.charAt(V));return k.join("")}function ga(C){return Mn.create("missing-app-config-values",{valueName:C})}es("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),es("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hp{constructor(D,k,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function dp(C){if(!C||!C.options)throw ga("App Configuration Object");if(!C.name)throw ga("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const V of D)if(!k[V])throw ga(V);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:X,installations:k,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Du(C){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Li,{scope:Zi}),C.swRegistration.update().catch(()=>{})}catch(D){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ya(C,D){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Du(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function _a(C,D){return Au.apply(this,arguments)}function Au(){return(Au=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Yi)})).apply(this,arguments)}function pl(){return(pl=(0,O.Z)(function*(C,D){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield _a(C,D?.vapidKey),yield ya(C,D?.serviceWorkerRegistration),ul(C)})).apply(this,arguments)}function Su(C,D,k){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,O.Z)(function*(C,D,k){const V=xu(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:k[da],message_name:k[el],message_time:k[_u],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xu(C){switch(C){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ks(){return(Ks=(0,O.Z)(function*(C,D){const k=D.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===Qi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ma(k)):C.onMessageHandler.next(ma(k)));const V=k.data;Ws(V)&&"1"===V[dh]&&(yield Su(C,k.messageType,V))})).apply(this,arguments)}const Zs="@firebase/messaging",tr=C=>{const D=new hp(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Hc(C,D){return Ks.apply(this,arguments)}(D,k)),D},zr=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:V=>function fl(C,D){return pl.apply(this,arguments)}(D,V)}};function $c(){return ku.apply(this,arguments)}function ku(){return(ku=(0,O.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function En(){(0,le._registerComponent)(new fe.wA("messaging",tr,"PUBLIC")),(0,le._registerComponent)(new fe.wA("messaging-internal",zr,"PRIVATE")),(0,le.registerVersion)(Zs,"0.12.0"),(0,le.registerVersion)(Zs,"0.12.0","esm2017")}();const Ro="analytics",qc="firebase_id",Qs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_l="https://www.googletagmanager.com/gtag/js",On=new se.Yd("@firebase/analytics");function vl(C){return Promise.all(C.map(D=>D.catch(k=>k)))}function bl(C,D){const k=document.createElement("script");k.src=`${_l}?l=${C}&id=${D}`,k.async=!0,document.head.appendChild(k)}function yh(C,D,k,V,X,re){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,O.Z)(function*(C,D,k,V,X,re){const Te=V[X];try{if(Te)yield D[Te];else{const Xe=(yield vl(k)).find(ut=>ut.measurementId===X);Xe&&(yield D[Xe.appId])}}catch(Be){On.error(Be)}C("config",X,re)})).apply(this,arguments)}function No(C,D,k,V,X){return Js.apply(this,arguments)}function Js(){return(Js=(0,O.Z)(function*(C,D,k,V,X){try{let re=[];if(X&&X.send_to){let Te=X.send_to;Array.isArray(Te)||(Te=[Te]);const Be=yield vl(k);for(const Xe of Te){const ut=Be.find(Ct=>Ct.measurementId===Xe),Lt=ut&&D[ut.appId];if(!Lt){re=[];break}re.push(Lt)}}0===re.length&&(re=Object.values(D)),yield Promise.all(re),C("event",V,X||{})}catch(re){On.error(re)}})).apply(this,arguments)}function Kc(C){const D=window.document.getElementsByTagName("script");for(const k of Object.values(D))if(k.src&&k.src.includes(_l)&&k.src.includes(C))return k;return null}const cr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ea=new class Ui{constructor(D={},k=1e3){this.throttleMetadata=D,this.intervalMillis=k}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,k){this.throttleMetadata[D]=k}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Yc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ia(C){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,O.Z)(function*(C){var D;const{appId:k,apiKey:V}=C,X={method:"GET",headers:Yc(V)},re=Qs.replace("{app-id}",k),Te=yield fetch(re,X);if(200!==Te.status&&304!==Te.status){let Be="";try{const Xe=yield Te.json();null!==(D=Xe.error)&&void 0!==D&&D.message&&(Be=Xe.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Be})}return Te.json()})).apply(this,arguments)}function Fn(C){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(C,D=Ea,k){const{appId:V,apiKey:X,measurementId:re}=C.options;if(!V)throw cr.create("no-app-id");if(!X){if(re)return{measurementId:re,appId:V};throw cr.create("no-api-key")}const Te=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Cl;return setTimeout((0,O.Z)(function*(){Be.abort()}),void 0!==k?k:6e4),El({appId:V,apiKey:X,measurementId:re},Te,Be,D)})).apply(this,arguments)}function El(C,D,k){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:k},V,X=Ea){var re;const{appId:Te,measurementId:Be}=C;try{yield Ca(V,D)}catch(Xe){if(Be)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:Te,measurementId:Be};throw Xe}try{const Xe=yield Ia(C);return X.deleteThrottleMetadata(Te),Xe}catch(Xe){const ut=Xe;if(!Il(ut)){if(X.deleteThrottleMetadata(Te),Be)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Te,measurementId:Be};throw Xe}const Lt=503===Number(null===(re=ut?.customData)||void 0===re?void 0:re.httpStatus)?(0,ae.$s)(k,X.intervalMillis,30):(0,ae.$s)(k,X.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Lt,backoffCount:k+1};return X.setThrottleMetadata(Te,Ct),On.debug(`Calling attemptFetch again in ${Lt} millis`),El(C,Ct,V,X)}})).apply(this,arguments)}function Ca(C,D){return new Promise((k,V)=>{const X=Math.max(D-Date.now(),0),re=setTimeout(k,X);C.addEventListener(()=>{clearTimeout(re),V(cr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Il(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Cl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ds,Ta;function Ts(){return(Ts=(0,O.Z)(function*(C,D,k,V,X){if(X&&X.global)C("event",k,V);else{const re=yield D;C("event",k,Object.assign(Object.assign({},V),{send_to:re}))}})).apply(this,arguments)}function no(C){Ta=C}function Pu(C){Ds=C}function ns(){return Al.apply(this,arguments)}function Al(){return(Al=(0,O.Z)(function*(){if(!(0,ae.hl)())return On.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(C){return On.warn(cr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,O.Z)(function*(C,D,k,V,X,re,Te){var Be;const Xe=Fn(C);Xe.then(Vn=>{k[Vn.measurementId]=Vn.appId,C.options.measurementId&&Vn.measurementId!==C.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vn=>On.error(Vn)),D.push(Xe);const ut=ns().then(Vn=>{if(Vn)return V.getId()}),[Lt,Ct]=yield Promise.all([Xe,ut]);Kc(re)||bl(re,Lt.measurementId),Ta&&(X("consent","default",Ta),no(void 0)),X("js",new Date);const qn=null!==(Be=Te?.config)&&void 0!==Be?Be:{};return qn.origin="firebase",qn.update=!0,null!=Ct&&(qn[qc]=Ct),X("config",Lt.measurementId,qn),Ds&&(X("set",Ds),Pu(void 0)),Lt.measurementId})).apply(this,arguments)}class Sl{constructor(D){this.app=D}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},As=[];const Lo={};let Uo,ro,Vo="dataLayer",Aa=!1;function _g(C,D,k){!function fp(){const C=[];if((0,ae.ru)()&&C.push("This is a browser extension environment."),(0,ae.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((V,X)=>`(${X+1}) ${V}`).join(" "),k=cr.create("invalid-analytics-context",{errorInfo:D});On.warn(k.message)}}();const V=C.options.appId;if(!V)throw cr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw cr.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[V])throw cr.create("already-exists",{id:V});if(!Aa){!function Wc(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(Vo);const{wrappedGtag:re,gtagCore:Te}=function va(C,D,k,V,X){let re=function(...Te){window[V].push(arguments)};return window[X]&&"function"==typeof window[X]&&(re=window[X]),window[X]=function wl(C,D,k,V){function re(){return(re=(0,O.Z)(function*(Te,Be,Xe){try{"event"===Te?yield No(C,D,k,Be,Xe):"config"===Te?yield yh(C,D,k,V,Be,Xe):"consent"===Te?C("consent","update",Xe):C("set",Be)}catch(ut){On.error(ut)}})).apply(this,arguments)}return function X(Te,Be,Xe){return re.apply(this,arguments)}}(re,C,D,k),{gtagCore:re,wrappedGtag:window[X]}}(qr,As,Lo,Vo,"gtag");ro=re,Uo=Te,Aa=!0}return qr[V]=function Po(C,D,k,V,X,re,Te){return Fo.apply(this,arguments)}(C,As,Lo,D,Uo,Vo,k),new Sl(C)}function bg(){return _h.apply(this,arguments)}function _h(){return(_h=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const rt="@firebase/analytics";!function Tn(){(0,le._registerComponent)(new fe.wA(Ro,(D,{options:k})=>_g(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new fe.wA("analytics-internal",function C(D){try{const k=D.getProvider(Ro).getImmediate();return{logEvent:(V,X,re)=>function mn(C,D,k,V){C=(0,ae.m9)(C),function Qc(C,D,k,V,X){return Ts.apply(this,arguments)}(ro,qr[C.app.options.appId],D,k,V).catch(X=>On.error(X))}(k,V,X,re)}}catch(k){throw cr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(rt,"0.9.0"),(0,le.registerVersion)(rt,"0.9.0","esm2017")}();var bi=F(4408),_r=F(7565);const xl=new class Ss extends _r.v{}(class Sa extends bi.o{constructor(D,k){super(D,k),this.scheduler=D,this.work=k}schedule(D,k=0){return k>0?super.schedule(D,k):(this.delay=k,this.state=D,this.scheduler.flush(this),this)}execute(D,k){return k>0||this.closed?super.execute(D,k):this._execute(D,k)}requestAsyncId(D,k,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,k,V):(D.flush(this),0)}});var Fu=F(4986),Ma=F(8505),jo=F(9468),Ms=F(5363);const Qe=new d.GfV("7.5.0"),xa="__angularfire_symbol__analyticsIsSupportedValue",xs="__angularfire_symbol__analyticsIsSupported",Ho="__angularfire_symbol__remoteConfigIsSupportedValue",$o="__angularfire_symbol__remoteConfigIsSupported",Ln="__angularfire_symbol__messagingIsSupportedValue",Lu="__angularfire_symbol__messagingIsSupported";function ka(C,D,k){if(D){if(1===D.length)return D[0];const re=D.filter(Te=>Te.app===k);if(1===re.length)return re[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[xs]||(globalThis[xs]=bg().then(C=>globalThis[xa]=C).catch(()=>globalThis[xa]=!1)),globalThis[Lu]||(globalThis[Lu]=$c().then(C=>globalThis[Ln]=C).catch(()=>globalThis[Ln]=!1)),globalThis[$o]||(globalThis[$o]=Ja().then(C=>globalThis[Ho]=C).catch(()=>globalThis[Ho]=!1));const ks=(C,D)=>{const k=D?[D]:(0,te.C6)(),V=[];return k.forEach(X=>{X.container.getProvider(C).instances.forEach(Te=>{V.includes(Te)||V.push(Te)})}),V};function Bi(){}class wi{constructor(D,k=xl){this.zone=D,this.delegate=k}now(){return this.delegate.now()}schedule(D,k,V){const X=this.zone;return this.delegate.schedule(function(Te){X.runGuarded(()=>{D.apply(this,[Te])})},k,V)}}class Uu{constructor(D){this.zone=D,this.task=null}call(D,k){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bi,{},Bi,Bi)),k.pipe((0,Ma.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wr=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new wi(Zone.current)),this.insideAngular=k.run(()=>new wi(Zone.current,Fu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Pr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function rs(C){return Pr(),function zn(C){return function(k){return(k=k.lift(new Uu(C.ngZone))).pipe((0,jo.R)(C.outsideAngular),(0,Ms.Q)(C.insideAngular))}}(Pr())(C)}},2090:(ht,Me,F)=>{F.d(Me,{$s:()=>nt,BH:()=>zt,G6:()=>Ce,L:()=>pe,LL:()=>Xt,Pz:()=>en,Sg:()=>Ke,UG:()=>Ie,US:()=>fe,ZB:()=>H,ZR:()=>Cn,aH:()=>mt,b$:()=>ge,eu:()=>$e,hl:()=>He,jU:()=>st,m9:()=>jt,ne:()=>Bn,pd:()=>Oi,r3:()=>mi,ru:()=>_e,tV:()=>me,uI:()=>Re,vZ:()=>Ye,w1:()=>lt,xO:()=>Qn,xb:()=>Xr,z$:()=>Ve,zI:()=>B,zd:()=>Jr});const le=function($){const U=[];let K=0;for(let we=0;we<$.length;we++){let J=$.charCodeAt(we);J<128?U[K++]=J:J<2048?(U[K++]=J>>6|192,U[K++]=63&J|128):55296==(64512&J)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(J=65536+((1023&J)<<10)+(1023&$.charCodeAt(++we)),U[K++]=J>>18|240,U[K++]=J>>12&63|128,U[K++]=J>>6&63|128,U[K++]=63&J|128):(U[K++]=J>>12|224,U[K++]=J>>6&63|128,U[K++]=63&J|128)}return U},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,U){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let J=0;J<$.length;J+=3){const ze=$[J],gt=J+1<$.length,Jt=gt?$[J+1]:0,yn=J+2<$.length,Yt=yn?$[J+2]:0;let Ht=(15&Jt)<<2|Yt>>6,ar=63&Yt;yn||(ar=64,gt||(Ht=64)),we.push(K[ze>>2],K[(3&ze)<<4|Jt>>4],K[Ht],K[ar])}return we.join("")},encodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa($):this.encodeByteArray(le($),U)},decodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?atob($):function($){const U=[];let K=0,we=0;for(;K<$.length;){const J=$[K++];if(J<128)U[we++]=String.fromCharCode(J);else if(J>191&&J<224){const ze=$[K++];U[we++]=String.fromCharCode((31&J)<<6|63&ze)}else if(J>239&&J<365){const yn=((7&J)<<18|(63&$[K++])<<12|(63&$[K++])<<6|63&$[K++])-65536;U[we++]=String.fromCharCode(55296+(yn>>10)),U[we++]=String.fromCharCode(56320+(1023&yn))}else{const ze=$[K++],gt=$[K++];U[we++]=String.fromCharCode((15&J)<<12|(63&ze)<<6|63&gt)}}return U.join("")}(this.decodeStringToByteArray($,U))},decodeStringToByteArray($,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let J=0;J<$.length;){const ze=K[$.charAt(J++)],Jt=J<$.length?K[$.charAt(J)]:0;++J;const Yt=J<$.length?K[$.charAt(J)]:64;++J;const Ge=J<$.length?K[$.charAt(J)]:64;if(++J,null==ze||null==Jt||null==Yt||null==Ge)throw Error();we.push(ze<<2|Jt>>4),64!==Yt&&(we.push(Jt<<4&240|Yt>>2),64!==Ge&&we.push(Yt<<6&192|Ge))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},pe=function($){return function($){const U=le($);return fe.encodeByteArray(U,!0)}($).replace(/\./g,"")},me=function($){try{return fe.decodeString($,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function H($,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!Q(K)||($[K]=H($[K],U[K]));return $}function Q($){return"__proto__"!==$}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function _e(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const $=Ve();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ce(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise(($,U)=>{try{let K=!0;const we="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(we);J.onsuccess=()=>{J.result.close(),K||self.indexedDB.deleteDatabase(we),$(!0)},J.onupgradeneeded=()=>{K=!1},J.onerror=()=>{var ze;U((null===(ze=J.error)||void 0===ze?void 0:ze.message)||"")}}catch(K){U(K)}})}function B(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=$&&me($[1]);return U&&JSON.parse(U)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},mt=()=>{var $;return null===($=ie())||void 0===$?void 0:$.config},en=$=>{var U;return null===(U=ie())||void 0===U?void 0:U[`_${$}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,we)=>{K?this.reject(K):this.resolve(we),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,we))}}}function Ke($,U){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=U||"demo-project",J=$.iat||0,ze=$.sub||$.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:J,exp:J+3600,auth_time:J,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},$);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(gt)),""].join(".")}class Cn extends Error{constructor(U,K,we){super(K),this.code=U,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(U,K,we){this.service=U,this.serviceName=K,this.errors=we}create(U,...K){const we=K[0]||{},J=`${this.service}/${U}`,ze=this.errors[U],gt=ze?function tn($,U){return $.replace(kr,(K,we)=>{const J=U[we];return null!=J?String(J):`<${we}?>`})}(ze,we):"Error";return new Cn(J,`${this.serviceName}: ${gt} (${J}).`,we)}}const kr=/\{\$([^}]+)}/g;function mi($,U){return Object.prototype.hasOwnProperty.call($,U)}function Xr($){for(const U in $)if(Object.prototype.hasOwnProperty.call($,U))return!1;return!0}function Ye($,U){if($===U)return!0;const K=Object.keys($),we=Object.keys(U);for(const J of K){if(!we.includes(J))return!1;const ze=$[J],gt=U[J];if(Dr(ze)&&Dr(gt)){if(!Ye(ze,gt))return!1}else if(ze!==gt)return!1}for(const J of we)if(!K.includes(J))return!1;return!0}function Dr($){return null!==$&&"object"==typeof $}function Qn($){const U=[];for(const[K,we]of Object.entries($))Array.isArray(we)?we.forEach(J=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(J))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(we));return U.length?"&"+U.join("&"):""}function Jr($){const U={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[J,ze]=we.split("=");U[decodeURIComponent(J)]=decodeURIComponent(ze)}}),U}function Oi($){const U=$.indexOf("?");if(!U)return"";const K=$.indexOf("#",U);return $.substring(U,K>0?K:void 0)}function Bn($,U){const K=new wn($,U);return K.subscribe.bind(K)}class wn{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(we=>{this.error(we)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,we){let J;if(void 0===U&&void 0===K&&void 0===we)throw new Error("Missing Observer.");J=function ct($,U){if("object"!=typeof $||null===$)return!1;for(const K of U)if(K in $&&"function"==typeof $[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:we},void 0===J.next&&(J.next=an),void 0===J.error&&(J.error=an),void 0===J.complete&&(J.complete=an);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),ze}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}function nt($,U=1e3,K=2){const we=U*Math.pow(K,$),J=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+J)}function jt($){return $&&$._delegate?$._delegate:$}},1898:(ht,Me,F)=>{var d=F(4650);let te=null;function O(){return te}const se=new d.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function me(){return(0,d.LFG)(H)}()},providedIn:"platform"}),n})();const j=new d.OlP("Location Initialized");let H=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ve(){return new H((0,d.LFG)(se))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function st(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(tt)},providedIn:"root"}),n})();const ge=new d.OlP("appBaseHref");let tt=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+st(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+st(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+st(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lt=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+st(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+st(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ie(He(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+st(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=st,n.joinWithSlash=Re,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(d.LFG(_e))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function be(){return new ke((0,d.LFG)(_e))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}class ua{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gs=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ua(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,c),bs(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{bs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function bs(n,e){n.context.$implicit=e.item}let lr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ur("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ur("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fu{constructor(){this.$implicit=null,this.ngIf=null}}function ur(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Or{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ca=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),To=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Or(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(ca,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Qi="browser";function yr(n){return"server"===n}let tl=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new ph((0,d.LFG)(se),window)}),n})();class ph{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ar(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ti(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ks extends class Hc extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){te||(te=n)}(new Ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ml(){return Zs=Zs||document.querySelector("base"),Zs?Zs.getAttribute("href"):null}();return null==t?null:function zr(n){tr=tr||document.createElement("a"),tr.setAttribute("href",n);const e=tr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Xa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let tr,Zs=null;const En=new d.OlP("TRANSITION_ID"),ku=[{provide:d.ip1,useFactory:function $c(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[En,se,d.zs3],multi:!0}];let Ru=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=new d.OlP("EventManagerPlugins");let Gc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gl),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class yl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ys=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ko=(()=>{class n extends Ys{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(zc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zc))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function zc(n){O().remove(n)}const Ro={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qc=/%COMP%/g;function bl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?bl(n,i,t):(i=i.replace(qc,n),t.push(i))}return t}function Wc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new No(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Kc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new Zc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=bl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gc),d.LFG(ko),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class No{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ro[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(va(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(va(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Ro[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ro[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Wc(r)):this.eventManager.addEventListener(e,t,Wc(r))}}function va(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Kc extends No{constructor(e,t,r,i){super(e),this.component=r;const l=bl(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function On(n){return"_ngcontent-%COMP%".replace(qc,n)}(i+"-"+r.id),this.hostAttr=function vl(n){return"_nghost-%COMP%".replace(qc,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Zc extends No{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=bl(i.id,i.styles,[]);for(let c=0;c<l.length;c++){const f=document.createElement("style");f.textContent=l[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cr=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ba=["alt","control","meta","shift"],wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ui={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ea=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),ba.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),c+=E+".")}),c+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=wa[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ba.forEach(c=>{c!==i&&(0,Ui[c])(t)&&(l+=c+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Cl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Qi},{provide:d.g9A,useValue:function El(){Ks.makeCurrent()},multi:!0},{provide:se,useFactory:function Ca(){return(0,d.RDi)(document),document},deps:[]}]),Ds=new d.OlP(""),Qc=[{provide:d.rWj,useClass:class gh{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const f=function(y){c=c||y,l--,0==l&&r(c)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ts=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function eo(){return new d.qLn},deps:[]},{provide:gl,useClass:cr,multi:!0,deps:[se,d.R0b,d.Lbi]},{provide:gl,useClass:Ea,multi:!0,deps:[se]},{provide:Xs,useClass:Xs,deps:[Gc,ko,d.AFp]},{provide:d.FYo,useExisting:Xs},{provide:Ys,useExisting:ko},{provide:ko,useClass:ko,deps:[se]},{provide:Gc,useClass:Gc,deps:[gl,d.R0b]},{provide:class Mo{},useClass:Ru,deps:[]},[]];let Dl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:En,useExisting:d.AFp},ku]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ds,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ts,...Qc],imports:[Ao,d.hGG]}),n})(),ts=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Oo(){return new ts((0,d.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(gp),r},providedIn:"root"}),n})(),gp=(()=>{class n extends Bo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function mp(n){return new gp(n.get(se))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var mn=F(8996),vi=F(7669);function rt(...n){const e=(0,vi.yG)(n);return(0,mn.D)(n,e)}var Gn=F(7579);class Tn extends Gn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Sa=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _r=F(9751);const{isArray:Ss}=Array,{getPrototypeOf:xl,prototype:yp,keys:Fu}=Object;function Ma(n){if(1===n.length){const e=n[0];if(Ss(e))return{args:e,keys:null};if(function jo(n){return n&&"object"==typeof n&&xl(n)===yp}(e)){const t=Fu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ms=F(4671),Qe=F(4004);const{isArray:xa}=Array;function Ho(n){return(0,Qe.U)(e=>function xs(n,e){return xa(e)?n(...e):n(e)}(n,e))}function $o(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ln=F(5403),Lu=F(9672);function Go(...n){const e=(0,vi.yG)(n),t=(0,vi.jO)(n),{args:r,keys:i}=Ma(n);if(0===r.length)return(0,mn.D)([],e);const l=new _r.y(function _p(n,e,t=Ms.y){return r=>{Vu(e,()=>{const{length:i}=n,l=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)Vu(e,()=>{const E=(0,mn.D)(n[y],e);let T=!1;E.subscribe((0,Ln.x)(r,x=>{l[y]=x,T||(T=!0,f--),f||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>$o(i,c):Ms.y));return t?l.pipe(Ho(t)):l}function Vu(n,e,t){n?(0,Lu.f)(t,n,e):e()}var kl=F(8189);function ks(...n){return function ka(){return(0,kl.J)(1)}()((0,mn.D)(n,(0,vi.yG)(n)))}var Bi=F(8421);function wi(n){return new _r.y(e=>{(0,Bi.Xf)(n()).subscribe(e)})}var Uu=F(9635),Wr=F(576);function Pr(n,e){const t=(0,Wr.m)(n)?n:()=>n,r=i=>i.error(t());return new _r.y(e?i=>e.schedule(r,0,i):r)}var ji=F(515),Ei=F(727),hr=F(4482);function Rs(){return(0,hr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ln.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rs extends _r.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,hr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ei.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ln.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ei.w0.EMPTY)}return e}refCount(){return Rs()(this)}}function zn(n,e){return(0,hr.e)((t,r)=>{let i=null,l=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Ln.x)(r,y=>{i?.unsubscribe();let E=0;const T=l++;(0,Bi.Xf)(n(y,T)).subscribe(i=(0,Ln.x)(r,x=>r.next(e?e(y,x,T,E++):x),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function _n(n){return n<=0?()=>ji.E:(0,hr.e)((e,t)=>{let r=0;e.subscribe((0,Ln.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function io(...n){const e=(0,vi.yG)(n);return(0,hr.e)((t,r)=>{(e?ks(n,t,e):ks(n,t)).subscribe(r)})}function C(n,e){return(0,hr.e)((t,r)=>{let i=0;t.subscribe((0,Ln.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var D=F(5577);function k(n){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,Ln.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function V(n=X){return(0,hr.e)((e,t)=>{let r=!1;e.subscribe((0,Ln.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function X(){return new Sa}function re(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,l)=>n(i,l,r)):Ms.y,_n(1),t?k(e):V(()=>new Sa))}function Te(n,e){return(0,Wr.m)(e)?(0,D.z)(n,e,1):(0,D.z)(n,1)}var Be=F(8505);function Xe(n){return(0,hr.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Ln.x)(t,void 0,void 0,c=>{l=(0,Bi.Xf)(n(c,Xe(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function ut(n,e,t,r,i){return(l,c)=>{let f=t,y=e,E=0;l.subscribe((0,Ln.x)(c,T=>{const x=E++;y=f?n(y,T,x):(f=!0,T),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}function Lt(n,e){return(0,hr.e)(ut(n,e,arguments.length>=2,!0))}function Ct(n){return n<=0?()=>ji.E:(0,hr.e)((e,t)=>{let r=[];e.subscribe((0,Ln.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?C((i,l)=>n(i,l,r)):Ms.y,Ct(1),t?k(e):V(()=>new Sa))}function so(n){return(0,hr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Pt="primary",Un=Symbol("RouteTitle");class Kr{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function is(n){return new Kr(n)}function zv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],f=n[l];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ns(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!vh(n[i],e[i]))return!1;return!0}function vh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function bp(n){return Array.prototype.concat.apply([],n)}function wp(n){return n.length>0?n[n.length-1]:null}function nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hi(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,mn.D)(Promise.resolve(n)):rt(n)}const qv={exact:function Ip(n,e,t){if(!Ol(n.segments,e.segments)||!Rl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ip(n.children[r],e.children[r],t))return!1;return!0},subset:Ih},wh={exact:function Ig(n,e){return Ns(n,e)},subset:function Eh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vh(n[t],e[t]))},ignored:()=>!0};function Eg(n,e,t){return qv[t.paths](n.root,e.root,t.matrixParams)&&wh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ih(n,e,t){return Cg(n,e,e.segments,t)}function Cg(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ol(i,t)||e.hasChildren()||!Rl(i,t,r))}if(n.segments.length===t.length){if(!Ol(n.segments,t)||!Rl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ih(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ol(n.segments,i)&&Rl(n.segments,i,r)&&n.children[Pt])&&Cg(n.children[Pt],e,l,r)}}function Rl(n,e,t){return e.every((r,i)=>wh[t](n[i].parameters,r.parameters))}class Nl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return ed.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,nr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ju(this)}}class Jc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=is(this.parameters)),this._parameterMap}toString(){return Dh(this)}}function Ol(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Bu},providedIn:"root"}),n})();class Bu{parse(e){const t=new oo(e);return new Nl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qo(e.root,!0)}`,r=function Mg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Hu(t)}=${Hu(i)}`).join("&"):`${Hu(t)}=${Hu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ag(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ed=new Bu;function ju(n){return n.segments.map(e=>Dh(e)).join("/")}function qo(n,e){if(!n.hasChildren())return ju(n);if(e){const t=n.children[Pt]?qo(n.children[Pt],!1):"",r=[];return nr(n.children,(i,l)=>{l!==Pt&&r.push(`${l}:${qo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Tg(n,e){let t=[];return nr(n.children,(r,i)=>{i===Pt&&(t=t.concat(e(r,i)))}),nr(n.children,(r,i)=>{i!==Pt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Pt?[qo(n.children[Pt],!1)]:[`${i}:${qo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${ju(n)}/${t[0]}`:`${ju(n)}/(${t.join("//")})`}}function ss(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hu(n){return ss(n).replace(/%3B/gi,";")}function $u(n){return ss(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(n){return decodeURIComponent(n)}function zu(n){return Gu(n.replace(/\+/g,"%20"))}function Dh(n){return`${$u(n.path)}${function Sg(n){return Object.keys(n).map(e=>`;${$u(e)}=${$u(n[e])}`).join("")}(n.parameters)}`}const Cp=/^[^\/()?;=#]+/;function td(n){const e=n.match(Cp);return e?e[0]:""}const xg=/^[^=?&#]+/,Th=/^[^&#]+/;class oo{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new Zt(e,t)),r}parseSegment(){const e=td(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Jc(Gu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=td(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=td(this.remaining);i&&(r=i,this.capture(r))}e[Gu(t)]=Gu(r)}parseQueryParam(e){const t=function Fr(n){const e=n.match(xg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function kg(n){const e=n.match(Th);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=zu(t),l=zu(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=td(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Pt);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[Pt]:new Zt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function vr(n){return n.segments.length>0?new Zt([],{[Pt]:n}):n}function Wo(n){const e={};for(const r of Object.keys(n.children)){const l=Wo(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function nd(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function Ra(n){return n instanceof Nl}function Og(n,e,t,r,i){if(0===t.length)return Fl(e.root,e.root,e.root,r,i);const l=function Dp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return nr(l.outlets,(y,E)=>{f[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new sd(t,e,r)}(t);return l.toRoot()?Fl(e.root,e.root,new Zt([],{}),r,i):function c(y){const E=function Pa(n,e,t,r){if(n.isAbsolute)return new Oa(e.root,!0,0);if(-1===r)return new Oa(t,t===e.root,0);return function Ap(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new Oa(r,!1,i-l)}(t,r+(Pl(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),T=E.processChildren?ao(E.segmentGroup,E.index,l.commands):Fa(E.segmentGroup,E.index,l.commands);return Fl(e.root,E.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Pl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Na(n){return"object"==typeof n&&null!=n&&n.outlets}function Fl(n,e,t,r,i){let c,l={};r&&nr(r,(y,E)=>{l[E]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),c=n===e?t:id(n,e,t);const f=vr(Wo(c));return new Nl(f,l,i)}function id(n,e,t){const r={};return nr(n.children,(i,l)=>{r[l]=i===e?t:id(i,e,t)}),new Zt(n.segments,r)}class sd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new d.vHH(4003,!1);const i=r.find(Na);if(i&&i!==wp(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Fa(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return ao(n,e,t);const r=function Sp(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],f=t[r];if(Na(f))break;const y=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!Ah(y,E,c))return l;r+=2}else{if(!Ah(y,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Zt(n.segments.slice(0,r.pathIndex),{});return l.children[Pt]=new Zt(n.segments.slice(r.pathIndex),n.children),ao(l,0,i)}return r.match&&0===i.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?Mp(n,e,t):r.match?ao(n,0,i):Mp(n,e,t)}function ao(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const r=function Pg(n){return Na(n[0])?n[0].outlets:{[Pt]:n}}(t),i={};return nr(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=Fa(n.children[c],e,l))}),nr(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new Zt(n.segments,i)}}function Mp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Na(l)){const y=lo(l.outlets);return new Zt(r,y)}if(0===i&&Pl(t[0])){r.push(new Jc(n.segments[e].path,od(t[0]))),i++;continue}const c=Na(l)?l.outlets[Pt]:`${l}`,f=i<t.length-1?t[i+1]:null;c&&f&&Pl(f)?(r.push(new Jc(c,od(f))),i+=2):(r.push(new Jc(c,{})),i++)}return new Zt(r,{})}function lo(n){const e={};return nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Mp(new Zt([],{}),0,t))}),e}function od(n){const e={};return nr(n,(t,r)=>e[r]=`${t}`),e}function Ah(n,e,t){return n==t.path&&Ns(e,t.parameters)}class uo{constructor(e,t){this.id=e,this.url=t}}class Ll extends uo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class La extends uo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ad extends uo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xp extends uo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fg extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wu extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lg extends uo{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sh extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mh extends uo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ld{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ud{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ku{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ri(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ri(e,this._root).map(t=>t.value)}}function kh(n,e){if(n===e.value)return e;for(const t of e.children){const r=kh(n,t);if(r)return r}return null}function ri(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ri(n,t);if(r.length)return r.unshift(e),r}return[]}class Lr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Va(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rh extends Ku{constructor(e,t){super(e),this.snapshot=t,Yu(this,e)}toString(){return this.snapshot.toString()}}function Zu(n,e){const t=function cd(n,e){const c=new ii([],{},{},"",{},Pt,e,null,n.root,-1,{});return new fd("",new Lr(c,[]))}(n,e),r=new Tn([new Jc("",{})]),i=new Tn({}),l=new Tn({}),c=new Tn({}),f=new Tn(""),y=new Os(r,i,c,f,l,Pt,e,t.root);return y.snapshot=t.root,new Rh(new Lr(y,[]),t)}class Os{constructor(e,t,r,i,l,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,Qe.U)(E=>E[Un]))??rt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(e=>is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(e=>is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function hd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ii{constructor(e,t,r,i,l,c,f,y,E,T,x,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=f,this.title=this.data?.[Un],this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=T,this._correctedLastPathIndex=L??T,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fd extends Ku{constructor(e,t){super(t),this.url=e,Yu(this,t)}toString(){return pd(this._root)}}function Yu(n,e){e.value._routerState=n,e.children.forEach(t=>Yu(n,t))}function pd(n){const e=n.children.length>0?` { ${n.children.map(pd).join(", ")} } `:"";return`${n.value}${e}`}function Qu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ns(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ns(e.params,t.params)||n.params.next(t.params),function vp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ns(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ns(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ko(n,e){const t=Ns(n.params,e.params)&&function Dg(n,e){return Ol(n,e)&&n.every((t,r)=>Ns(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ko(n.parent,e.parent))}function Zo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Nh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zo(n,r,i);return Zo(n,r)})}(n,e,t);return new Lr(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Zo(n,f)),c}}const r=function Ug(n){return new Os(new Tn(n.url),new Tn(n.params),new Tn(n.queryParams),new Tn(n.fragment),new Tn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Zo(n,l));return new Lr(r,i)}}const $i="ngNavigationCancelingError";function Yo(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vl(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Vl(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$i]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Xu(n){return Qo(n)&&Ra(n.url)}function Qo(n){return n&&n[$i]}class Oh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ju,this.attachRef=null}}let Ju=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Oh,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ph=!1;let Fh=(()=>{class n{constructor(t,r,i,l,c){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=i||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,Ph);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,Ph);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,Ph);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,Ph);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new Lh(t,f,i.injector);if(r&&function _(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(c);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ju),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Lh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Os?this.route:e===Ju?this.childContexts:this.parent.get(e,t)}}let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Fh],encapsulation:2}),n})();function g(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vt(n){const e=n.children&&n.children.map(vt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=p),t}function cn(n){return n.outlet||Pt}function rr(n,e){const t=n.filter(r=>cn(r)===e);return t.push(...n.filter(r=>cn(r)!==e)),t}function Ii(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Vh{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Va(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),nr(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Va(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Va(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Va(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new ud(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Rp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(Qu(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Qu(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Ii(i.snapshot),y=f?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Uh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ec{constructor(e,t){this.component=e,this.route=t}}function Bh(n,e,t){const r=n._root;return Ua(r,e?e._root:null,t,[r.value])}function Xo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Ua(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Va(e);return n.children.forEach(c=>{(function Fp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const y=function Bg(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ol(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ol(n.url,e.url)||!Ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ko(n,e)||!Ns(n.queryParams,e.queryParams);default:return!Ko(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Uh(r)):(l.data=c.data,l._resolvedData=c._resolvedData),Ua(n,e,l.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ec(f.outlet.component,c))}else c&&Ba(e,f,i),i.canActivateChecks.push(new Uh(r)),Ua(n,null,l.component?f?f.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),nr(l,(c,f)=>Ba(c,t.getContext(f),i)),i}function Ba(n,e,t){const r=Va(n),i=n.value;nr(r,(l,c)=>{Ba(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new ec(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jo(n){return"function"==typeof n}function Hh(n){return n instanceof Sa||"EmptyError"===n?.name}const md=Symbol("INITIAL_VALUE");function $h(){return zn(n=>Go(n.map(e=>e.pipe(_n(1),io(md)))).pipe((0,Qe.U)(e=>{for(const t of e)if(!0!==t){if(t===md)return md;if(!1===t||t instanceof Nl)return t}return!0}),C(e=>e!==md),_n(1)))}function Vp(n){return(0,Uu.z)((0,Be.b)(e=>{if(Ra(e))throw Yo(0,e)}),(0,Qe.U)(e=>!0===e))}const Wn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jv(n,e,t,r,i){const l=jg(n,e,t);return l.matched?function YI(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rt(i.map(c=>{const f=Xo(c,n);return Hi(function Zk(n){return n&&Jo(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe($h(),Vp()):rt(!0)}(r=g(e,r),e,t).pipe((0,Qe.U)(c=>!0===c?l:{...Wn})):rt(l)}function jg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Wn}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||zv)(t,n,e);if(!i)return{...Wn};const l={};nr(i.posParams,(f,y)=>{l[y]=f.path});const c=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function gd(n,e,t,r,i="corrected"){if(t.length>0&&function XI(n,e,t){return t.some(r=>Up(n,e,r)&&cn(r)!==Pt)}(n,t,r)){const c=new Zt(e,function QI(n,e,t,r){const i={};i[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&cn(l)!==Pt){const c=new Zt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[cn(l)]=c}return i}(n,e,r,new Zt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function JI(n,e,t){return t.some(r=>Up(n,e,r))}(n,t,r)){const c=new Zt(n.segments,function eb(n,e,t,r,i,l){const c={};for(const f of r)if(Up(n,t,f)&&!i[cn(f)]){const y=new Zt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,c[cn(f)]=y}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const l=new Zt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Up(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function tb(n,e,t,r){return!!(cn(n)===r||r!==Pt&&Up(e,t,n))&&("**"===n.path||jg(e,n,t).matched)}function eC(n,e,t){return 0===e.length&&!n.children[t]}const Hg=!1;class Ul{constructor(e){this.segmentGroup=e||null}}class Bp{constructor(e){this.urlTree=e}}function yd(n){return Pr(new Ul(n))}function $g(n){return Pr(new Bp(n))}class ib{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=gd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Pt).pipe((0,Qe.U)(l=>this.createUrlTree(Wo(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xe(l=>{if(l instanceof Bp)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Ul?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Pt).pipe((0,Qe.U)(i=>this.createUrlTree(Wo(i),e.queryParams,e.fragment))).pipe(Xe(i=>{throw i instanceof Ul?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Hg)}createUrlTree(e,t,r){const i=vr(e);return new Nl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Qe.U)(l=>new Zt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,mn.D)(i).pipe(Te(l=>{const c=r.children[l],f=rr(t,l);return this.expandSegmentGroup(e,f,c,l).pipe((0,Qe.U)(y=>({segment:y,outlet:l})))}),Lt((l,c)=>(l[c.outlet]=c.segment,l),{}),qn())}expandSegment(e,t,r,i,l,c){return(0,mn.D)(r).pipe(Te(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,c).pipe(Xe(E=>{if(E instanceof Ul)return rt(null);throw E}))),re(f=>!!f),Xe((f,y)=>{if(Hh(f))return eC(t,i,l)?rt(new Zt([],{})):yd(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,c,f){return tb(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):yd(t):yd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$g(l):this.lineralizeSegments(r,l).pipe((0,D.z)(c=>{const f=new Zt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:f,consumedSegments:y,remainingSegments:E,positionalParamSegments:T}=jg(t,i,l);if(!f)return yd(t);const x=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?$g(x):this.lineralizeSegments(i,x).pipe((0,D.z)(L=>this.expandSegment(e,t,r,L.concat(E),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=g(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Qe.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Zt(i,{})))):rt(new Zt(i,{}))):Jv(t,r,i,e).pipe(zn(({matched:c,consumedSegments:f,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,D.z)(T=>{const x=T.injector??e,L=T.routes,{segmentGroup:z,slicedSegments:Y}=gd(t,f,y,L),ue=new Zt(z.segments,z.children);if(0===Y.length&&ue.hasChildren())return this.expandChildren(x,L,ue).pipe((0,Qe.U)(yt=>new Zt(f,yt)));if(0===L.length&&0===Y.length)return rt(new Zt(f,{}));const De=cn(r)===l;return this.expandSegment(x,ue,L,Y,De?Pt:l,!0).pipe((0,Qe.U)(pt=>new Zt(f.concat(pt.segments),pt.children)))})):yd(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Xv(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(c=>{const f=Xo(c,n);return Hi(function jh(n){return n&&Jo(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe($h(),Vp())}(e,t,r).pipe((0,D.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Be.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function tC(n){return Pr(Vl(Hg,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[Pt])return Pr(new d.vHH(4e3,Hg));i=i.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Nl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return nr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return nr(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,i)}),new Zt(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Hg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class nC{}class ob{constructor(e,t,r,i,l,c,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=gd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Pt).pipe((0,Qe.U)(t=>{if(null===t)return null;const r=new ii([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Lr(r,t),l=new fd(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=dd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,mn.D)(Object.keys(r.children)).pipe(Te(i=>{const l=r.children[i],c=rr(t,i);return this.processSegmentGroup(e,c,l,i)}),Lt((i,l)=>i&&l?(i.push(...l),i):null),function Vn(n,e=!1){return(0,hr.e)((t,r)=>{let i=0;t.subscribe((0,Ln.x)(r,l=>{const c=n(l,i++);(c||e)&&r.next(l),!c&&r.complete()}))})}(i=>null!==i),k(null),qn(),(0,Qe.U)(i=>{if(null===i)return null;const l=Gh(i);return function tc(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,mn.D)(t).pipe(Te(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,l)),re(c=>!!c),Xe(c=>{if(Hh(c))return eC(r,i,l)?rt([]):rt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!tb(t,r,i,l))return rt(null);let c;if("**"===t.path){const f=i.length>0?wp(i).parameters:{},y=zh(r)+i.length;c=rt({snapshot:new ii(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kg(t),cn(t),t.component??t._loadedComponent??null,t,jp(r),y,Hp(t),y),consumedSegments:[],remainingSegments:[]})}else c=Jv(r,t,i,e).pipe((0,Qe.U)(({matched:f,consumedSegments:y,remainingSegments:E,parameters:T})=>{if(!f)return null;const x=zh(r)+y.length;return{snapshot:new ii(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kg(t),cn(t),t.component??t._loadedComponent??null,t,jp(r),x,Hp(t),x),consumedSegments:y,remainingSegments:E}}));return c.pipe(zn(f=>{if(null===f)return rt(null);const{snapshot:y,consumedSegments:E,remainingSegments:T}=f;e=t._injector??e;const x=t._loadedInjector??e,L=function rC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:Y}=gd(r,E,T,L.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution);if(0===Y.length&&z.hasChildren())return this.processChildren(x,L,z).pipe((0,Qe.U)(De=>null===De?null:[new Lr(y,De)]));if(0===L.length&&0===Y.length)return rt([new Lr(y,[])]);const ue=cn(t)===l;return this.processSegment(x,L,z,Y,ue?Pt:l).pipe((0,Qe.U)(De=>null===De?null:[new Lr(y,De)]))}))}}function Wg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gh(n){const e=[],t=new Set;for(const r of n){if(!Wg(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Gh(r.children);e.push(new Lr(r.value,i))}return e.filter(r=>!t.has(r))}function jp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zh(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Kg(n){return n.data||{}}function Hp(n){return n.resolve||{}}function lb(n){return"string"==typeof n.title||null===n.title}function Zg(n){return zn(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,Qe.U)(()=>e)):rt(e)})}let $p=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Pt);return r}getResolvedTitleForRoute(t){return t.data[Un]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ub)},providedIn:"root"}),n})(),ub=(()=>{class n extends $p{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ts))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cC{}class Xk extends class cb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const jl=new d.OlP("",{providedIn:"root",factory:()=>({})}),Hl=new d.OlP("ROUTES");let nc=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe((0,Be.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),so(()=>{this.componentLoaders.delete(t)})),i=new rs(r,()=>new Gn.x).pipe(Rs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Qe.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,T=!1;Array.isArray(f)?E=f:(y=f.create(t).injector,E=bp(y.get(Hl,[],d.XFs.Self|d.XFs.Optional)));return{routes:E.map(vt),injector:y}}),so(()=>{this.childrenLoaders.delete(r)})),c=new rs(l,()=>new Gn.x).pipe(Rs());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe((0,D.z)(r=>r instanceof d.YKP||Array.isArray(r)?rt(r):(0,mn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hC{}class Jk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function fC(n){throw n}function pC(n,e,t){return e.parse("/")}const mC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Gp(){const n=(0,d.f3M)(Ch),e=(0,d.f3M)(Ju),t=(0,d.f3M)(ke),r=(0,d.f3M)(d.zs3),i=(0,d.f3M)(d.Sil),l=(0,d.f3M)(Hl,{optional:!0})??[],c=(0,d.f3M)(jl,{optional:!0})??{},f=(0,d.f3M)(ub),y=(0,d.f3M)($p,{optional:!0}),E=(0,d.f3M)(hC,{optional:!0}),T=(0,d.f3M)(cC,{optional:!0}),x=new br(null,n,e,t,r,i,bp(l));return E&&(x.urlHandlingStrategy=E),T&&(x.routeReuseStrategy=T),x.titleStrategy=y??f,function fb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,x),x}let br=(()=>{class n{constructor(t,r,i,l,c,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gn.x,this.errorHandler=fC,this.malformedUriErrorHandler=pC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=new Jk,this.routeReuseStrategy=new Xk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(nc),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new xh(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new kp(L)),this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const x=c.get(d.R0b);this.isNgZoneEnabled=x instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Ep(){return new Nl(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zu(this.currentUrlTree,this.rootComponentType),this.transitions=new Tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(C(i=>0!==i.id),(0,Qe.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zn(i=>{let l=!1,c=!1;return rt(i).pipe((0,Be.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zn(f=>{const y=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return zp(f.source)&&(this.browserUrlTree=f.extractedUrl),rt(f).pipe(zn(x=>{const L=this.transitions.getValue();return r.next(new Ll(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?ji.E:Promise.resolve(x)}),function Gg(n,e,t,r){return zn(i=>function rb(n,e,t,r,i){return new ib(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Qe.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Be.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function sC(n,e,t,r,i,l){return(0,D.z)(c=>function sb(n,e,t,r,i,l,c="emptyOnly",f="legacy"){return new ob(n,e,t,r,i,c,f,l).recognize().pipe(zn(y=>null===y?function qg(n){return new _r.y(e=>e.error(n))}(new nC):rt(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,l).pipe((0,Qe.U)(f=>({...c,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Be.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(z,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new Fg(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:z,source:Y,restoredState:ue,extras:De}=f,et=new Ll(L,this.serializeUrl(z),Y,ue);r.next(et);const pt=Zu(z,this.rootComponentType).snapshot;return rt(i={...f,targetSnapshot:pt,urlAfterRedirects:z,extras:{...De,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),ji.E}),(0,Be.b)(f=>{const y=new Wu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,Qe.U)(f=>i={...f,guards:Bh(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Qk(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?rt({...t,guardsResult:!0}):function Yv(n,e,t,r){return(0,mn.D)(n).pipe((0,D.z)(i=>function Lp(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?rt(l.map(f=>{const y=Ii(e)??i,E=Xo(f,y);return Hi(function Zv(n){return n&&Jo(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe(re())})).pipe($h()):rt(!0)}(i.component,i.route,t,e,r)),re(i=>!0!==i,!0))}(c,r,i,n).pipe((0,D.z)(f=>f&&function ja(n){return"boolean"==typeof n}(f)?function qI(n,e,t,r){return(0,mn.D)(e).pipe(Te(i=>ks(function KI(n,e){return null!==n&&e&&e(new Vg(n)),rt(!0)}(i.route.parent,r),function WI(n,e){return null!==n&&e&&e(new ld(n)),rt(!0)}(i.route,r),function Qv(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function Pp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>wi(()=>rt(c.guards.map(y=>{const E=Ii(c.node)??t,T=Xo(y,E);return Hi(function Kv(n){return n&&Jo(n.canActivateChild)}(T)?T.canActivateChild(r,n):E.runInContext(()=>T(r,n))).pipe(re())})).pipe($h())));return rt(l).pipe($h())}(n,i.path,t),function ZI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(l=>wi(()=>{const c=Ii(e)??t,f=Xo(l,c);return Hi(function Wv(n){return n&&Jo(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(re())}));return rt(i).pipe($h())}(n,i.route,t))),re(i=>!0!==i,!0))}(r,l,n,e):rt(f)),(0,Qe.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Be.b)(f=>{if(i.guardsResult=f.guardsResult,Ra(f.guardsResult))throw Yo(0,f.guardsResult);const y=new Lg(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),C(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Zg(f=>{if(f.guards.canActivateChecks.length)return rt(f).pipe((0,Be.b)(y=>{const E=new Sh(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),zn(y=>{let E=!1;return rt(y).pipe(function oC(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let l=0;return(0,mn.D)(i).pipe(Te(c=>function ab(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!lb(i)&&(l[Un]=i.title),function _d(n,e,t,r){const i=function aC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rt({});const l={};return(0,mn.D)(i).pipe((0,D.z)(c=>function lC(n,e,t,r){const i=Ii(e)??r,l=Xo(n,i);return Hi(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[c],e,t,r).pipe(re(),(0,Be.b)(f=>{l[c]=f}))),Ct(1),function zo(n){return(0,Qe.U)(()=>n)}(l),Xe(c=>Hh(c)?ji.E:Pr(c)))}(l,n,e,r).pipe((0,Qe.U)(c=>(n._resolvedData=c,n.data=dd(n,t).resolve,i&&lb(i)&&(n.data[Un]=i.title),null)))}(c.route,r,n,e)),(0,Be.b)(()=>l++),Ct(1),(0,D.z)(c=>l===i.length?rt(t):ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Be.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Be.b)(y=>{const E=new Mh(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}))}),Zg(f=>{const y=E=>{const T=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Be.b)(x=>{E.component=x}),(0,Qe.U)(()=>{})));for(const x of E.children)T.push(...y(x));return T};return Go(y(f.targetSnapshot.root)).pipe(k(),_n(1))}),Zg(()=>this.afterPreactivation()),(0,Qe.U)(f=>{const y=function si(n,e,t){const r=Zo(n,e._root,t?t._root:void 0);return new Rh(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Be.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Qe.U)(r=>(new Vh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Be.b)({next(){l=!0},complete(){l=!0}}),so(()=>{l||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Xe(f=>{if(c=!0,Qo(f)){Xu(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new ad(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),Xu(f)){const E=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zp(i.source)};this.scheduleNavigation(E,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new xp(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return ji.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const f={...l};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(vt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,E=i||this.routerState.root,T=y?this.currentUrlTree.fragment:c;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...l};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),Og(E,this.currentUrlTree,t,x,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ra(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function gC(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...mC}:!1===r?{...hb}:r,Ra(t))return Eg(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Eg(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new La(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,c){if(this.disposed)return Promise.resolve(!1);let f,y,E;c?(f=c.resolve,y=c.reject,E=c.promise):E=new Promise((L,z)=>{f=L,y=z});const T=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:T,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:f,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new ad(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return Gp()},providedIn:"root"}),n})();function zp(n){return"imperative"!==n}let qp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Gn.x,this.subscription=t.events.subscribe(l=>{l instanceof La&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,c){return!!(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(br),d.Y36(Os),d.Y36(_e))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class pb{}let vC=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(C(t=>t instanceof La),Te(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,d.MMx)(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,f=l._loadedInjector??c;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(c,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,mn.D)(i).pipe((0,kl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const l=i.pipe((0,D.z)(c=>null===c?rt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,mn.D)([l,c]).pipe((0,kl.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(br),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(pb),d.LFG(nc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $l=new d.OlP("");let ea=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ll?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof La&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof co&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new co(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Wh(n,e){return{\u0275kind:n,\u0275providers:e}}function Kp(n){return[{provide:Hl,multi:!0,useValue:n}]}function Yg(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(br),i=n.get(wC);1===n.get(Zp)&&r.initialNavigation(),n.get(gb,null,d.XFs.Optional)?.setUpPreloading(),n.get($l,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const wC=new d.OlP("",{factory:()=>new Gn.x}),Zp=new d.OlP("",{providedIn:"root",factory:()=>1});const gb=new d.OlP("");function ho(n){return Wh(0,[{provide:gb,useExisting:vC},{provide:pb,useExisting:n}])}const yb=new d.OlP("ROUTER_FORROOT_GUARD"),CC=[ke,{provide:Ch,useClass:Bu},{provide:br,useFactory:Gp},Ju,{provide:Os,useFactory:function bC(n){return n.routerState.root},deps:[br]},nc];function DC(){return new d.PXZ("Router",br)}let Qg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[CC,[],Kp(t),{provide:yb,useFactory:Bt,deps:[[br,new d.FiY,new d.tp0]]},{provide:jl,useValue:r||{}},r?.useHash?{provide:_e,useClass:lt}:{provide:_e,useClass:tt},{provide:$l,useFactory:()=>{const n=(0,d.f3M)(br),e=(0,d.f3M)(tl),t=(0,d.f3M)(jl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ea(n,e,t)}},r?.preloadingStrategy?ho(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:DC},r?.initialNavigation?_b(r):[],[{provide:Xg,useFactory:Yg},{provide:d.tb,multi:!0,useExisting:Xg}]]}}static forChild(t){return{ngModule:n,providers:[Kp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yb,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[p]}),n})();function Bt(n){return"guarded"}function _b(n){return["disabled"===n.initialNavigation?Wh(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(br);return()=>{e.setUpLocationChangeListener()}}},{provide:Zp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wh(2,[{provide:Zp,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(j,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const c=e.get(br),f=e.get(wC);(function i(l){e.get(br).events.pipe(C(f=>f instanceof La||f instanceof ad||f instanceof xp),(0,Qe.U)(f=>f instanceof La||f instanceof ad&&(0===f.code||1===f.code)&&null),C(f=>null!==f),_n(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),c.afterPreactivation=()=>(l(!0),r||f.closed?rt(void 0):f),c.initialNavigation()}))}}]).\u0275providers:[]]}const Xg=new d.OlP("");function jb(n,e=Ms.y){return n=n??VR,(0,hr.e)((t,r)=>{let i,l=!0;t.subscribe((0,Ln.x)(r,c=>{const f=e(c);(l||!n(i,f))&&(l=!1,i=f,r.next(c))}))})}function VR(n,e){return n===e}var sD=F(5032);function bd(n){return(0,hr.e)((e,t)=>{(0,Bi.Xf)(n).subscribe((0,Ln.x)(t,()=>t.complete(),sD.Z)),!t.closed&&e.subscribe(t)})}function Ha(n){return null!=n&&"false"!=`${n}`}function zl(n){return n instanceof d.SBq?n.nativeElement:n}let sy;try{sy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sy=!1}let oc,ql=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function vu(n){return n===Qi}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Hb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fo(){if(oc)return oc;if("object"!=typeof document||!document)return oc=new Set(Hb),oc;let n=document.createElement("input");return oc=new Set(Hb.filter(e=>(n.setAttribute("type",e),n.type===e))),oc}let ac,ly,os;function Yp(n){return function cD(){if(null==ac&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ac=!0}))}finally{ac=ac||!1}return ac}()?n:!!n.capture}function Kl(n){return n.composedPath?n.composedPath()[0]:n.target}function Ed(n){return 0===n.offsetX&&0===n.offsetY}function Kb(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}os=typeof global<"u"?global:typeof window<"u"?window:{};const bD=new d.OlP("cdk-input-modality-detector-options"),gy={ignoreKeys:[18,17,224,91,16]},Ci=Yp({passive:!0,capture:!0});let Jh=(()=>{class n{constructor(t,r,i,l){this._platform=t,this._mostRecentTarget=null,this._modality=new Tn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Kl(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ed(c)?"keyboard":"mouse"),this._mostRecentTarget=Kl(c))},this._onTouchstart=c=>{Kb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Kl(c))},this._options={...gy,...l},this.modalityDetected=this._modality.pipe(function Bb(n){return C((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(jb()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ci),i.addEventListener("mousedown",this._onMousedown,Ci),i.addEventListener("touchstart",this._onTouchstart,Ci)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ci),document.removeEventListener("mousedown",this._onMousedown,Ci),document.removeEventListener("touchstart",this._onTouchstart,Ci))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ql),d.LFG(d.R0b),d.LFG(se),d.LFG(bD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Id=new d.OlP("cdk-focus-monitor-default-options"),$a=Yp({passive:!0,capture:!0});let uc=(()=>{class n{constructor(t,r,i,l,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Gn.x,this._rootNodeFocusAndBlurListener=f=>{const y=Kl(f),E="focus"===f.type?this._onFocus:this._onBlur;for(let T=y;T;T=T.parentElement)E.call(this,f,T)},this._document=l,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=zl(t);if(!this._platform.isBrowser||1!==i.nodeType)return rt(null);const l=function dD(n){if(function uy(){if(null==ly){const n=typeof document<"u"?document.head:null;ly=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ly}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const f={checkChildren:r,subject:new Gn.x,rootNode:l};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=zl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const l=zl(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,y])=>this._originChanged(f,r,y)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),l=Kl(t);!i||!i.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,$a),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,$a)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bd(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$a),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$a),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,l)=>{(l===t||i.checkChildren&&l.contains(t))&&r.push([l,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ql),d.LFG(Jh),d.LFG(se,8),d.LFG(Id,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cc="cdk-high-contrast-black-on-white",dc="cdk-high-contrast-white-on-black",Yl="cdk-high-contrast-active";let Cd=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Yl),t.remove(cc),t.remove(dc),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Yl),t.add(cc)):2===r&&(t.add(Yl),t.add(dc))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ql),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qb=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function Xb(){return(0,d.f3M)(se)}});let Jb=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null,l=(t.body?t.body.dir:null)||i;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const vy=new d.GfV("13.0.0"),em=new d.GfV("13.0.0"),TD=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function by(){return!0}});let oi=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,d.X6Q)()||function Qp(){return typeof os.__karma__<"u"&&!!os.__karma__||typeof os.jasmine<"u"&&!!os.jasmine||typeof os.jest<"u"&&!!os.jest||typeof os.Mocha<"u"&&!!os.Mocha}())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&em.full!==vy.full&&console.warn("The Angular Material version ("+em.full+") does not match the Angular CDK version ("+vy.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cd),d.LFG(TD,8),d.LFG(se))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[_y],_y]}),n})();function tm(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ha(e)}}}function Dd(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function AD(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ha(e)}}}function nm(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Gn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let tw=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rw{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Iy={enterDuration:225,exitDuration:150},rm=Yp({passive:!0}),Cy=["mousedown","touchstart"],Dy=["mouseup","mouseleave","touchend","touchcancel"];class sw{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=zl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...Iy,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function oN(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,y=t-i.top,E=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-c+"px",T.style.top=y-c+"px",T.style.height=2*c+"px",T.style.width=2*c+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(T),function ow(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const x=new rw(this,T,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const L=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!L||!this._isPointerDown)&&x.fadeOut()},E),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...Iy,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=zl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Cy))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Dy),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Ed(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Kb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,rm)})})}_removeTriggerEvents(){this._triggerElement&&(Cy.forEach(e=>{this._triggerElement.removeEventListener(e,this,rm)}),this._pointerUpEventsRegistered&&Dy.forEach(e=>{this._triggerElement.removeEventListener(e,this,rm)}))}}const UD=new d.OlP("mat-ripple-global-options");let Ty=(()=>{class n{constructor(t,r,i,l,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new sw(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ql),d.Y36(UD,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oi,oy],oi]}),n})();function qD(...n){const e=(0,vi.jO)(n),{args:t,keys:r}=Ma(n),i=new _r.y(l=>{const{length:c}=t;if(!c)return void l.complete();const f=new Array(c);let y=c,E=c;for(let T=0;T<c;T++){let x=!1;(0,Bi.Xf)(t[T]).subscribe((0,Ln.x)(l,L=>{x||(x=!0,E--),f[T]=L},()=>y--,void 0,()=>{(!y||!x)&&(E||l.next(r?$o(r,f):f),l.complete())}))}});return e?i.pipe(Ho(e)):i}var Ay=F(3099);class Sy{}class Ql{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ql?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ql;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ql?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===l.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class na{encodeKey(e){return My(e)}encodeValue(e){return My(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const go=/%(\d[a-f0-9])/gi,lw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function My(n){return encodeURIComponent(n).replace(go,(e,t)=>lw[t]??e)}function im(n){return`${n}`}class Xl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new na,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mo(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[c,f]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],y=t.get(c)||[];y.push(f),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(im):[im(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Xl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(im(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(im(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class WD{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Td(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uw(n){return typeof Blob<"u"&&n instanceof Blob}function ky(n){return typeof FormData<"u"&&n instanceof FormData}class Ad{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xy(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ql),this.context||(this.context=new WD),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new Xl,this.urlWithParams=t}serializeBody(){return null===this.body?null:Td(this.body)||uw(this.body)||ky(this.body)||function KD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ky(this.body)?null:uw(this.body)?this.body.type||null:Td(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,E=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),y)),e.setParams&&(E=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),E)),new Ad(t,r,l,{params:E,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:c})}}var Ur=(()=>((Ur=Ur||{})[Ur.Sent=0]="Sent",Ur[Ur.UploadProgress=1]="UploadProgress",Ur[Ur.ResponseHeader=2]="ResponseHeader",Ur[Ur.DownloadProgress=3]="DownloadProgress",Ur[Ur.Response=4]="Response",Ur[Ur.User=5]="User",Ur))();class om extends class sm{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ql,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Ur.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new om({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function rf(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let am=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof Ad)l=t;else{let y,E;y=i.headers instanceof Ql?i.headers:new Ql(i.headers),i.params&&(E=i.params instanceof Xl?i.params:new Xl({fromObject:i.params})),l=new Ad(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=rt(l).pipe(Te(y=>this.handler.handle(y)));if(t instanceof Ad||"events"===i.observe)return c;const f=c.pipe(C(y=>y instanceof om));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,Qe.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,Qe.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,Qe.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,Qe.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Xl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,rf(i,r))}post(t,r,i={}){return this.request("POST",t,rf(i,r))}put(t,r,i={}){return this.request("PUT",t,rf(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hw=["*"];let sf;function Sd(n){return function fw(){if(void 0===sf&&(sf=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(sf=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sf}()?.createHTML(n)||n}function Ry(n){return Error(`Unable to find icon with the name "${n}"`)}function Ny(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Oy(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class za{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let af=(()=>{class n{constructor(t,r,i,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,l){return this._addSvgIconConfig(t,r,new za(i,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,l){const c=this._sanitizer.sanitize(d.q3G.HTML,i);if(!c)throw Oy(i);const f=Sd(c);return this._addSvgIconConfig(t,r,new za("",f,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new za(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw Oy(r);const c=Sd(l);return this._addSvgIconSetConfig(t,new za("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!r)throw Ny(t);const i=this._cachedIconsByUrl.get(r);return i?rt(lm(i)):this._loadSvgIconFromConfig(new za(t,null)).pipe((0,Be.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,Qe.U)(l=>lm(l)))}getNamedSvgIcon(t,r=""){const i=pc(r,t);let l=this._svgIconConfigs.get(i);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(i,l),this._getSvgFromConfig(l);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):Pr(Ry(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?rt(lm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Qe.U)(r=>lm(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?rt(i):qD(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Xe(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,c.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),rt(null)})))).pipe((0,Qe.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw Ry(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const l=r[i];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(c,t,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Be.b)(r=>t.svgText=r),(0,Qe.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?rt(null):this._fetchIcon(t).pipe((0,Be.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const c=l.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const f=this._svgElementFromString(Sd("<svg></svg>"));return f.appendChild(c),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Sd("<svg></svg>")),i=t.attributes;for(let l=0;l<i.length;l++){const{name:c,value:f}=i[l];"id"!==c&&r.setAttribute(c,f)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,l=i?.withCredentials??!1;if(!this._httpClient)throw function pw(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,r);if(!c)throw Ny(r);const f=this._inProgressUrlFetches.get(c);if(f)return f;const y=this._httpClient.get(c,{responseType:"text",withCredentials:l}).pipe((0,Qe.U)(E=>Sd(E)),so(()=>this._inProgressUrlFetches.delete(c)),(0,Ay.B)());return this._inProgressUrlFetches.set(c,y),y}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(pc(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const l=this._resolvers[i](r,t);if(l)return PN(l)?new za(l.url,null,l.options):new za(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(am,8),d.LFG(Bo),d.LFG(se,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lm(n){return n.cloneNode(!0)}function pc(n,e){return n+":"+e}function PN(n){return!(!n.url||!n.options)}const Py=Dd(class{constructor(n){this._elementRef=n}}),FN=new d.OlP("mat-icon-location",{providedIn:"root",factory:function mw(){const n=(0,d.f3M)(se),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Fy=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],LN=Fy.map(n=>`[${n}]`).join(", "),Tt=/^url\(['"]?#(.*?)['"]?\)$/;let Ly=(()=>{class n extends Py{constructor(t,r,i,l,c){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Ei.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ha(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,l)=>{i.forEach(c=>{l.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(LN),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)Fy.forEach(c=>{const f=r[l],y=f.getAttribute(c),E=y?y.match(Tt):null;if(E){let T=i.get(f);T||(T=[],i.set(f,T)),T.push({name:c,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(_n(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(af),d.$8M("aria-hidden"),d.Y36(FN),d.Y36(d.qLn))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:hw,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),iT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oi],oi]}),n})(),sT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-about-page"]],decls:16,vars:0,consts:[[1,"page"],[1,"header"],[1,"container"],[1,"image"],["src","../../assets/imgs/clareHeadShot.jpeg",1,"image"],[1,"text"],["href","https://www.linkedin.com/in/clare-schellenberg","target","_blank"],["src","/../../assets/icons/linkedin.svg","alt","Linked In Icon",1,"icon"],["href","https://drive.google.com/file/d/1nSB1rVC4IAsiIHa_5OwEPIhCAEz8y4Wh/view?usp=sharing","target","_blank"],["alt","Resume Icon",1,"icon"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h1",1),d._uU(2,"About Me"),d.qZA(),d.TgZ(3,"div",2)(4,"div",3),d._UZ(5,"img",4),d.qZA(),d.TgZ(6,"div")(7,"div",5)(8,"p"),d._uU(9," Hello! Thank you for visting my online portfolio! My name is Clare Schellenberg, and I am a senior at Calvin University who seeks to incorporate values of adaptability, integrity, punctuality, and attention to detail in my work. As a Digital Communications major, I have gained experience in graphic design, photography, video production, and web development. Feel free to reach out to me through my contact page if you have any questions. I would love to hear from you! "),d.qZA(),d.TgZ(10,"div")(11,"a",6),d._UZ(12,"img",7),d.qZA(),d.TgZ(13,"a",8)(14,"mat-icon",9),d._uU(15,"assignment"),d.qZA()()()()()()())},dependencies:[Ly],styles:[".header[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding-top:3vw;padding-bottom:3vw;font-size:3.5vw;text-align:center;font-family:Lora,serif;margin-bottom:3%}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:3vw;flex-wrap:wrap;flex:200px}.image[_ngcontent-%COMP%]{max-width:50vw;max-height:50vh;border-radius:50%}.text[_ngcontent-%COMP%]{font-family:Lora,serif;background-color:#fff;padding:2vw;border-radius:10px;box-shadow:2px 2px 5px #d3d3d3;width:40vw;font-size:1vw;line-height:1.5vw;color:#000}.date[_ngcontent-%COMP%]{font-size:2vw}.icon[_ngcontent-%COMP%]{width:24px;height:24px;color:#000}.page[_ngcontent-%COMP%]{background-image:url(background2.8999dd9fea00223e.jpg);max-width:100%}@media all and (max-width: 600px){.header[_ngcontent-%COMP%]{font-size:6vw;padding:4.5vw}.container[_ngcontent-%COMP%]{flex-direction:column}.image[_ngcontent-%COMP%]{margin-top:2vw}.text[_ngcontent-%COMP%]{width:80vw;padding:4.5vw;font-size:4vw;line-height:4.5vw}}"]}),n})(),mc=(()=>{class n{constructor(){this.portfolioCardList=[{cardTitle:"Grace & Adelyn // Studio Recording & Audio Documentary",cardDescription:'Grace Lunger, Trevor Sparks and I produced this project, which includes four songs featuring Grace Lunger and Adelyn Rousch as well as short "behind the scenes" audio documentaries. I worked on all stages of the process, from microphone selection and setup, to field and studio recording, to editing.',cardImage:"assets/imgs/adelynAndGrace.PNG",contentLink:"https://soundcloud.com/user-110165580/sets/adelyn-grace/s-hTJozYcyvzH?si=734d16e88d514dbcbe7203bb4d9348f6&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing",projTitle:"Grace & Adelyn",projDate:"May 2022",projDescription:'I worked on this project with two other classmates, Grace Lunger and Trevor Sparks. Grace Lunger and Adelyn Rousch covered four songs including \u201cTrain Song\u201d (Vashti Bunyan), "Leaving on a Jet Plane" (Peter, Paul, and Mary), "Tennessee River Runs Low" (The Secret Sisters), and "Death of a Phone Call" (Whatever, Dad). We also included short audio documentaries to introduce the first three songs, and a longer \u201cmeet the artists\u201d audio documentary before the final song. I worked on all stages of this project and gained valuable experience selecting and setting up microphones, capturing quality field and studio recordings, editing content into a cohesive narrative, and mixing audio using Pro Tools. I enjoyed each stage of this process and would love to work on more audio production projects in the future if I have the opportunity! Click the link below to see the full project: ',projImg1:"",projImg2:"",projImg3:"assets/imgs/audioImg1.jpg",projImg4:""},{cardTitle:"Grid Love // Graphic Design Publication",cardDescription:"Grid Love was an eight-week long process where I designed a sixty page publication. I used grid structures, in horizontal, vertical, and diagonal orientations, to inform my designs and create visually compelling compositions.",cardImage:"assets/imgs/GridLove.PNG",contentLink:"https://drive.google.com/file/d/1azm9QRV6dVySiLb0JTSHPTu-f6f47Of_/view?usp=sharing",projTitle:"Grid Love",projDate:"October 2022",projDescription:'Grid Love is an eight week long process, which concludes with this sixty page publication. This project was broken down into manageable steps, beginning with strict parameters, and gradually expanding as we gained experience working with grids. First, we populated nine horizontal grids with content.We were restricted to black and white, which allowed us to focus solely on how to group content and create a sense of hierarchy and flow. Next, we created twelve grids with both horizontal and vertical orientations.Color was introduced in this phase. Finally, we populated twelve diagonal grids, which could include imagery and color. At the beginning of the project, my grids looked similar to the grid thumbnails.As I learned more about hierarchy, grouping, and alignment of elements, the original thumbnails started to dissapear.It was fun to experiement with the different ways that changing text size, color, weight, and orientation start to bring hierarchy and cohesion to a composition.These strategies have helped me make decisions which aim to bring a clear sense of visual flow to the design. "How do I make this easily navigable for the viewer?" is the question that has shaped how I approached each grid and this publication as a whole.It prompts me to think about ways to bring the eye through a composition and indicate a sense of direction through stop and end points, grouping elements, and aligning elements to the gestures of letters.Throughout this process, I think that my decision making has improved, but I also recognize that I have a lot more to learn.I hope you enjoy! Click the link below to see the full project:',projImg1:"assets/imgs/gridLoveDetailImg2.PNG",projImg2:"assets/imgs/gridLoveDetailImg1.PNG",projImg3:"assets/imgs/gridLoveDetailImg3.PNG",projImg4:"assets/imgs/gridLoveDetailImg4.PNG"},{cardTitle:"Abbey Vankooten // Artist Spotlight Video",cardDescription:"I created this short video highlighting Abbey Vankooten, who is a visual artist. She talks about her artwork, the processes she uses, and what inspires her to create.",cardImage:"assets/imgs/abbyArt.jpg",contentLink:"https://drive.google.com/file/d/1ILaIViLagw4jx0LryXMH5RQlqRNtE7xw/view?usp=sharing",projTitle:"Abbey Vankooten, Artist",projDescription:"I filmed and edited this video which highlights Abbey Vankooten, who is a visual artist. For this project, I filmed the interview from two angles, used three-point lighting, and recorded quality audio which I synced with the video in the editing phase. I filmed b-roll footage of Abby painting and included images of her artwork throughout the piece. I gained experience editing together a cohesive story that highlights Abby\u2019s life, artwork, process, and what inspires her to create. Click the link below to see the full project:",projDate:"November 2021",projImg1:"assets/imgs/abbyImg1.jpg",projImg2:"",projImg3:"assets/imgs/abbyImg3.jpg",projImg4:"assets/imgs/abbyImg4.jpg"},{cardTitle:"Bitmap Typeface // Graphic Design ",cardDescription:"For this project, I designed a typeface using a grid of pixels. First, I drew the letters by hand on graph paper and then transferred them to a digital format. I created rules to keep the characters consistent, and designed posters where I auditioned words and paragraphs using the typeface.",cardImage:"assets/imgs/bitmapType.PNG",contentLink:"https://drive.google.com/file/d/1Lz214KSnJ78sGRTft0BA9KEtF3_UskAb/view?usp=sharing",projTitle:"Bitmap Typeface",projDate:"November 2022",projDescription:"For this project, I designed a full typeface using a grid of pixels. The process began by drawing each character by hand on graph paper. I established rules for the typeface to follow so that the characters were consistent and easily navigable. For example, the uppercase letters are always 22 pixels high, and the lowercase extenders are seven pixels high. While doing this, it was apparent that there needed to be outliers to this rule, so I created secondary rules that applied to some characters. From here, I transferred the characters to a digital format and began auditioning words and sentences in the typeface. Through this process, I created posters to display the typeface in a cohesive way that showcases how it could be used. Click the link below to see the full project:",projImg1:"assets/imgs/bitmapImg1.png",projImg2:"",projImg3:"assets/imgs/bitmapImg2.png",projImg4:"assets/imgs/bitmapImg3.png"},{cardTitle:"Inside Out Clinical Nutrition // Informational Video",cardDescription:"I made this video for Inside Out Clinical Nutrition for new patients to watch before coming to their first appointment. Dr. John Ressler shares what he does and explains what a typical nutrition appointment looks like. ",cardImage:"assets/imgs/insideOutLogo.png",contentLink:"https://youtu.be/WZ2gwvLDhuw",projTitle:"Inside Out Clinical Nutrition",projDate:"August 2022",projDescription:"I filmed and edited this video for Inside Out Clinical Nutrition, which they share with new patients before their first visit. Doctor John Ressler explains what he does and what new patients can expect at their first appointment. Filming and editing content in a business context was a new experience for me and I am grateful for the valuable skills I learned through this opportunity. Click the link below to see the full project:",projImg1:"",projImg2:"",projImg3:"assets/imgs/JohnImg1.png",projImg4:""}]}getPortfolioInfo(){return this.portfolioCardList}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oT=(()=>{class n{constructor(t,r){this.actRt=t,this.data_s=r,this.detailImg1="",this.id=-1}ngOnInit(){this.id=Number(this.actRt.snapshot.paramMap.get("id")),console.log(" ",this.id),this.project=this.data_s.getPortfolioInfo()[this.id]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Os),d.Y36(mc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-proj-info-page"]],inputs:{detailImg1:"detailImg1"},decls:18,vars:8,consts:[[1,"page"],[1,"header"],[1,"container"],[1,"image"],[1,"image",3,"src"],["id","project-info"],[1,"date"],[1,"text"],["target","_blank",3,"href"],[1,"icon"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h1",1),d._uU(2),d.qZA(),d._uU(3," --\x3e "),d.TgZ(4,"div",2)(5,"div",3),d._UZ(6,"img",4)(7,"img",4),d.qZA(),d.TgZ(8,"div",5)(9,"h1",6),d._uU(10),d.qZA(),d.TgZ(11,"p",7),d._uU(12),d.qZA(),d.TgZ(13,"a",8)(14,"mat-icon",9),d._uU(15,"link"),d.qZA()()(),d._UZ(16,"img",4)(17,"img",4),d.qZA()()),2&t&&(d.xp6(2),d.Oqu(null==r.project?null:r.project.projTitle),d.xp6(4),d.s9C("src",null==r.project?null:r.project.projImg1,d.LSH),d.xp6(1),d.s9C("src",null==r.project?null:r.project.projImg2,d.LSH),d.xp6(3),d.Oqu(null==r.project?null:r.project.projDate),d.xp6(2),d.Oqu(null==r.project?null:r.project.projDescription),d.xp6(1),d.s9C("href",null==r.project?null:r.project.contentLink,d.LSH),d.xp6(3),d.s9C("src",null==r.project?null:r.project.projImg3,d.LSH),d.xp6(1),d.s9C("src",null==r.project?null:r.project.projImg4,d.LSH))},dependencies:[Ly],styles:[".header[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-family:Lora,serif;padding-top:3vw;padding-bottom:3vw;font-size:3.5vw;text-align:center;margin-bottom:3%}#project-info[_ngcontent-%COMP%]{background-color:#fff;padding:2vw;border-radius:10px;box-shadow:2px 2px 5px #d3d3d3}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:3vw;flex-wrap:wrap;flex:200px}.image[_ngcontent-%COMP%]{max-width:35vw;border-radius:10px;margin-bottom:4vh;margin-top:4vh}.container2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:3vw;flex-wrap:wrap;flex:200px;max-width:40vw;border-radius:10px;margin-bottom:6vh}.text[_ngcontent-%COMP%]{font-family:Lora,serif;margin-top:4vh;max-width:40vw;font-size:1vw;line-height:1.5vw;color:#000}.date[_ngcontent-%COMP%]{font-family:Lora,serif;font-size:2vw;color:#000}.icon[_ngcontent-%COMP%]{font-size:2vw}.page[_ngcontent-%COMP%]{background-image:url(background2.8999dd9fea00223e.jpg);max-width:100%}@media all and (max-width: 600px){.container[_ngcontent-%COMP%]{gap:1vw}.date[_ngcontent-%COMP%]{font-size:5.5vw;padding:2vw}.text[_ngcontent-%COMP%]{font-size:4vw;line-height:4.5vw;padding:2vw}.header[_ngcontent-%COMP%]{font-size:6vw;padding:4.5vw}.container[_ngcontent-%COMP%]{flex-direction:column}.container2[_ngcontent-%COMP%]{flex-direction:column;max-width:60vw}.image[_ngcontent-%COMP%]{margin:1vw;max-width:80vw}.text[_ngcontent-%COMP%]{max-width:80vw;margin-top:1vh}.icon[_ngcontent-%COMP%]{font-size:6vw;padding:2vw}}"]}),n})();const um=["*",[["mat-card-footer"]]],cm=["*","mat-card-footer"];let uT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),hT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),yw=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:cm,decls:2,vars:0,template:function(t,r){1&t&&(d.F$t(um),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),_w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oi],oi]}),n})();const By=["mat-button",""],vw=["*"],pT=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],mT=Dd(tm(AD(class{constructor(n){this._elementRef=n}})));let jy=(()=>{class n extends mT{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of pT)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(uc),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(Ty,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:By,ngContentSelectors:vw,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Ty],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),bw=(()=>{class n extends jy{constructor(t,r,i){super(r,t,i)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(uc),d.Y36(d.SBq),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){1&t&&d.NdJ("click",function(l){return r._haltDisabledEvents(l)}),2&t&&(d.uIk("tabindex",r.disabled?-1:r.tabIndex||0)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:By,ngContentSelectors:vw,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Ty],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ww=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[aw,oi],oi]}),n})();var Hy=F(4986);let $y=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yT=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=zl(t);return new _r.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Gn.x,i=this._mutationObserverFactory.create(l=>r.next(l));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($y))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_T=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ha(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function oD(n,e=0){return function aD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function gT(n,e=Hy.z){return(0,hr.e)((t,r)=>{let i=null,l=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const E=l;l=null,r.next(E)}};function y(){const E=c+n,T=e.now();if(T<E)return i=this.schedule(void 0,E-T),void r.add(i);f()}t.subscribe((0,Ln.x)(r,E=>{l=E,c=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{l=i=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(yT),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),HN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$y]}),n})();var vT=F(6451),$N=F(1144);const GN=["addListener","removeListener"],Ew=["addEventListener","removeEventListener"],hm=["on","off"];function Gy(n,e,t,r){if((0,Wr.m)(t)&&(r=t,t=void 0),r)return Gy(n,e,t).pipe(Ho(r));const[i,l]=function bT(n){return(0,Wr.m)(n.addEventListener)&&(0,Wr.m)(n.removeEventListener)}(n)?Ew.map(c=>f=>n[c](e,f,t)):function Cw(n){return(0,Wr.m)(n.addListener)&&(0,Wr.m)(n.removeListener)}(n)?GN.map(Iw(n,e)):function cf(n){return(0,Wr.m)(n.on)&&(0,Wr.m)(n.off)}(n)?hm.map(Iw(n,e)):[];if(!i&&(0,$N.z)(n))return(0,D.z)(c=>Gy(c,e,t))((0,Bi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new _r.y(c=>{const f=(...y)=>c.next(1<y.length?y:y[0]);return i(f),()=>l(f)})}function Iw(n,e){return t=>r=>n[t](e,r)}class Dw{}const qa="*";function ET(n,e){return{type:7,name:n,definitions:e,options:{}}}function Tw(n,e=null){return{type:4,styles:e,timings:n}}function Aw(n,e=null){return{type:2,steps:n,options:e}}function Jl(n){return{type:6,styles:n,offset:null}}function IT(n,e,t){return{type:0,name:n,styles:e,options:t}}function DT(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Mw(n){Promise.resolve().then(n)}class Md{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Mw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?Mw(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==l&&this._onFinish()}),c.onDestroy(()=>{++r==l&&this._onDestroy()}),c.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const ST=["connectionContainer"],MT=["inputContainer"],Wy=["label"];function xT(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15)(3,"div",16)(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15)(7,"div",16)(8,"div",17),d.qZA(),d.BQk())}function xw(n,e){1&n&&(d.TgZ(0,"div",19),d.Hsn(1,1),d.qZA())}function kT(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function RT(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function NT(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function OT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.updateOutlineGap())}),d.YNc(2,kT,4,1,"ng-container",12),d.YNc(3,RT,1,0,"ng-content",12),d.YNc(4,NT,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function PT(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function FT(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function LT(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function VT(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function kw(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,VT,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const Rw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],UT=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Nw=new d.OlP("MatError"),BT={transitionMessages:ET("transitionMessages",[IT("enter",Jl({opacity:1,transform:"translateY(0%)"})),DT("void => enter",[Jl({opacity:0,transform:"translateY(-5px)"}),Tw("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const HT=new d.OlP("MatHint");let fm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),$T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Lw=new d.OlP("MatPrefix"),Vw=new d.OlP("MatSuffix");let GT=0;const zT=Dd(class{constructor(n){this._elementRef=n}},"primary"),Zy=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bw=new d.OlP("MatFormField");let jw=(()=>{class n extends zT{constructor(t,r,i,l,c,f,y){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=l,this._platform=c,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Gn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+GT++,this._labelId="mat-form-field-label-"+GT++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ha(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(io(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(bd(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bd(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,vT.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(io(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(io(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bd(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gy(this._label.nativeElement,"transitionend").pipe(_n(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,i=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const l=this._connectionContainerRef.nativeElement,c=l.querySelectorAll(".mat-form-field-outline-start"),f=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const y=l.getBoundingClientRect();if(0===y.width&&0===y.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(y),T=t.children,x=this._getStartEnd(T[0].getBoundingClientRect());let L=0;for(let z=0;z<T.length;z++)L+=T[z].offsetWidth;r=Math.abs(x-E)-5,i=L>0?.75*L+10:0}for(let y=0;y<c.length;y++)c[y].style.width=`${r}px`;for(let y=0;y<f.length;y++)f[y].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Jb,8),d.Y36(Zy,8),d.Y36(ql),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,Ky,5),d.Suo(i,Ky,7),d.Suo(i,fm,5),d.Suo(i,fm,7),d.Suo(i,$T,5),d.Suo(i,Nw,5),d.Suo(i,HT,5),d.Suo(i,Lw,5),d.Suo(i,Vw,5)),2&t){let l;d.iGM(l=d.CRH())&&(r._controlNonStatic=l.first),d.iGM(l=d.CRH())&&(r._controlStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(r._placeholderChild=l.first),d.iGM(l=d.CRH())&&(r._errorChildren=l),d.iGM(l=d.CRH())&&(r._hintChildren=l),d.iGM(l=d.CRH())&&(r._prefixChildren=l),d.iGM(l=d.CRH())&&(r._suffixChildren=l)}},viewQuery:function(t,r){if(1&t&&(d.Gf(ST,7),d.Gf(MT,5),d.Gf(Wy,5)),2&t){let i;d.iGM(i=d.CRH())&&(r._connectionContainerRef=i.first),d.iGM(i=d.CRH())&&(r._inputContainerRef=i.first),d.iGM(i=d.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:Bw,useExisting:n}]),d.qOj],ngContentSelectors:UT,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(Rw),d.TgZ(0,"div",0)(1,"div",1,2),d.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),d.YNc(3,xT,9,0,"ng-container",3),d.YNc(4,xw,2,0,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,OT,5,16,"label",8),d.qZA()(),d.YNc(10,PT,2,0,"div",9),d.qZA(),d.YNc(11,FT,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,LT,2,1,"div",12),d.YNc(14,kw,5,2,"div",13),d.qZA()()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[lr,ca,_T,To],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[BT.transitionMessages]},changeDetection:0}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ao,oi,HN],oi]}),n})();const Yy=Yp({passive:!0});let Hw=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ji.E;const r=zl(t),i=this._monitoredElements.get(r);if(i)return i.subject;const l=new Gn.x,c="cdk-text-field-autofilled",f=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,Yy),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",f,Yy)}}),l}stopMonitoring(t){const r=zl(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ql),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oy]]}),n})();function eu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Kw(n){return null!=n&&"number"==typeof n.length}const ai=new d.OlP("NgValidators"),tu=new d.OlP("NgAsyncValidators"),QT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class XT{static min(e){return function Zw(n){return e=>{if(eu(e.value)||eu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Yw(n){return e=>{if(eu(e.value)||eu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Qw(n){return eu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Xw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Jw(n){return eu(n.value)||QT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function e0(n){return e=>eu(e.value)||!Kw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function xd(n){return e=>Kw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Qy(n){if(!n)return ff;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(eu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return n0(e)}static composeAsync(e){return r0(e)}}function ff(n){return null}function Xy(n){return null!=n}function Jy(n){return(0,d.QGY)(n)?(0,mn.D)(n):n}function e_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function t0(n,e){return e.map(t=>t(n))}function eA(n){return n.map(e=>function JT(n){return!n.validate}(e)?e:t=>e.validate(t))}function n0(n){if(!n)return null;const e=n.filter(Xy);return 0==e.length?null:function(t){return e_(t0(t,e))}}function t_(n){return null!=n?n0(eA(n)):null}function r0(n){if(!n)return null;const e=n.filter(Xy);return 0==e.length?null:function(t){return qD(t0(t,e).map(Jy)).pipe((0,Qe.U)(e_))}}function n_(n){return null!=n?r0(eA(n)):null}function s0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kd(n){return n._rawValidators}function o0(n){return n._rawAsyncValidators}function pf(n){return n?Array.isArray(n)?n:[n]:[]}function as(n,e){return Array.isArray(n)?n.includes(e):n===e}function a0(n,e){const t=pf(e);return pf(n).forEach(i=>{as(t,i)||t.push(i)}),t}function mm(n,e){return pf(e).filter(t=>!as(n,t))}class Rd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=t_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=n_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ti extends Rd{get formDirective(){return null}get path(){return null}}class Wa extends Rd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Nd="VALID",yf="INVALID",yc="PENDING",Od="DISABLED";function o_(n){return(_f(n)?n.validators:n)||null}function a_(n){return Array.isArray(n)?t_(n):n||null}function _m(n,e){return(_f(e)?e.asyncValidators:n)||null}function m0(n){return Array.isArray(n)?n_(n):n||null}function _f(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _c{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=a_(this._rawValidators),this._composedAsyncValidatorFn=m0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nd}get invalid(){return this.status===yf}get pending(){return this.status==yc}get disabled(){return this.status===Od}get enabled(){return this.status!==Od}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=a_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=m0(e)}addValidators(e){this.setValidators(a0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(a0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mm(e,this._rawAsyncValidators))}hasValidator(e){return as(this._rawValidators,e)}hasAsyncValidator(e){return as(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Od,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nd||this.status===yc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Od:Nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yc,this._hasOwnPendingAsyncValidator=!0;const t=Jy(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Od:this.errors?yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yc)?yc:this._anyControlsHaveStatus(yf)?yf:Nd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_f(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class l_ extends _c{constructor(e,t,r){super(o_(t),_m(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function li(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function g0(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Ka(n,e){bm(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function cA(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Em(n,e)})}(n,e),function y0(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function dA(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Em(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function uA(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function vm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),wm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bm(n,e){const t=kd(n);null!==e.validator?n.setValidators(s0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=o0(n);null!==e.asyncValidator?n.setAsyncValidators(s0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Pd(e._rawValidators,i),Pd(e._rawAsyncValidators,i)}function wm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=kd(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=o0(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Pd(e._rawValidators,r),Pd(e._rawAsyncValidators,r),t}function Em(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function u_(n,e){bm(n,e)}function v0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const hA={provide:Ti,useExisting:(0,d.Gpc)(()=>Am)},Tm=(()=>Promise.resolve())();let Am=(()=>{class n extends Ti{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new l_({},t_(t),n_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tm.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ka(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tm.then(()=>{const r=this._findContainer(t.path),i=new l_({});u_(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tm.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,v0(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ai,10),d.Y36(tu,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([hA]),d.qOj]}),n})();function b0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function w0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const h_=class extends _c{constructor(e=null,t,r){super(o_(t),_m(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_f(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=w0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){b0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){b0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){w0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},cO={provide:Ti,useExisting:(0,d.Gpc)(()=>wf)};let wf=(()=>{class n extends Ti{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ka(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){vm(t.control||null,t,!1),function d_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,v0(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(vm(r||null,t),(n=>n instanceof h_)(i)&&(Ka(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);u_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Im(n,e){return wm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bm(this.form,this),this._oldForm&&wm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ai,10),d.Y36(tu,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([cO]),d.qOj,d.TTD]}),n})();const FA=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),LA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let U0=0;const _O=nm(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let B0=(()=>{class n extends _O{constructor(t,r,i,l,c,f,y,E,T,x){super(f,l,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=E,this._formField=x,this._uid="mat-input-"+U0++,this.focused=!1,this.stateChanges=new Gn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Y=>fo().has(Y));const L=this._elementRef.nativeElement,z=L.nodeName.toLowerCase();this._inputValueAccessor=y||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",Y=>{const ue=Y.target;!ue.value&&0===ue.selectionStart&&0===ue.selectionEnd&&(ue.setSelectionRange(1,1),ue.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===z,this._isTextarea="textarea"===z,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ha(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(XT.required)??!1}set required(t){this._required=Ha(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fo().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ha(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){LA.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ql),d.Y36(Wa,10),d.Y36(Am,8),d.Y36(wf,8),d.Y36(tw),d.Y36(FA,10),d.Y36(Hw),d.Y36(d.R0b),d.Y36(Bw,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:Ky,useExisting:n}]),d.qOj,d.TTD]}),n})(),VA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[tw],imports:[[$w,hf,oi],$w,hf]}),n})(),j0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contact-page"]],decls:18,vars:0,consts:[[1,"page"],[1,"header"],[1,"container"],[1,"description"],[1,"form"],["action","https://mailthis.to/Clareschellenberg11@gmail.com","method","POST"],[1,"textbox"],["matInput","","placeholder","Your Name","name","name",1,"textbox"],["name","replyto","type","email",1,"textbox"],["matInput","","placeholder","Your Email","name","_replyto",1,"textbox"],["name","message",1,"textbox"],["matInput","","placeholder","Your Message","id","message-box","name","message",1,"textbox"],["type","submit","mat-raised-button","",1,"button"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"p",1),d._uU(2,"Contact Me"),d.qZA(),d.TgZ(3,"div",2)(4,"h1",3),d._uU(5,"Leave me a message!"),d.qZA(),d.TgZ(6,"mat-card",4)(7,"form",5),d._UZ(8,"mat-card-title"),d.TgZ(9,"mat-form-field",6),d._UZ(10,"input",7),d.qZA(),d.TgZ(11,"mat-form-field",8),d._UZ(12,"input",9),d.qZA(),d.TgZ(13,"mat-form-field",10),d._UZ(14,"textarea",11),d.qZA(),d.TgZ(15,"div")(16,"button",12),d._uU(17,"Submit Message"),d.qZA()()()()()())},dependencies:[yw,Vy,jy,jw,B0],styles:[".header[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-family:Lora,serif;padding-top:3vw;padding-bottom:3vw;font-size:3.5vw;text-align:center;margin-bottom:3%}.description[_ngcontent-%COMP%]{font-size:4vw;max-width:30vw;line-height:5vw;color:#000;font-family:Lora,serif}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1vw}.textbox[_ngcontent-%COMP%]{margin-bottom:15px;width:100%}.form[_ngcontent-%COMP%]{font-family:Lora,serif;width:35vw;padding:2vw;margin-bottom:4vh}#message-box[_ngcontent-%COMP%]{height:200px;width:35vw;max-width:100%;min-width:75%}.button[_ngcontent-%COMP%]{font-family:Lora,serif}.button[_ngcontent-%COMP%]:hover{background-color:#f7e5e8}.page[_ngcontent-%COMP%]{background-image:url(background2.8999dd9fea00223e.jpg);max-width:100%}@media all and (max-width: 600px){.description[_ngcontent-%COMP%]{margin-top:6vw;margin-bottom:4vw;max-width:80vw;font-size:8vw}.header[_ngcontent-%COMP%]{font-size:6vw;padding:4.5vw}.container[_ngcontent-%COMP%]{flex-direction:column}.form[_ngcontent-%COMP%]{margin-top:4vw;width:80vw}#message-box[_ngcontent-%COMP%]{width:80vw}.button[_ngcontent-%COMP%]{align-items:center;font-size:2.5vw}.textbox[_ngcontent-%COMP%]{font-size:2.5vw}}"]}),n})(),vO=(()=>{class n{constructor(t){this.router=t,this.cardTitle="",this.cardDescription="",this.subtitle="",this.cardImage="",this.contentLink="",this.cardIndex=""}ngOnInit(){}goToProjInfoPage(){this.router.navigateByUrl(`proj-info/${this.cardIndex}`)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-portfolio-card"]],inputs:{cardTitle:"cardTitle",cardDescription:"cardDescription",subtitle:"subtitle",cardImage:"cardImage",contentLink:"contentLink",cardIndex:"cardIndex"},decls:15,vars:4,consts:[[1,"page"],["id","card"],["id","title"],["id","description"],["id","image-box"],["mat-card-image","","id","image",3,"src"],["id","content"],["mat-raised-button","","id","learn-more-button",3,"click"],["id","icon-content"],["target","_blank",1,"icon",3,"href"],[1,"icon"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title",2),d._uU(3),d.qZA(),d.TgZ(4,"mat-card-subtitle",3),d._uU(5),d.qZA(),d.TgZ(6,"mat-card-content",4),d._UZ(7,"img",5),d.qZA(),d.TgZ(8,"mat-card-content",6)(9,"button",7),d.NdJ("click",function(){return r.goToProjInfoPage()}),d._uU(10,"Learn More"),d.qZA(),d.TgZ(11,"span",8)(12,"a",9)(13,"mat-icon",10),d._uU(14,"link"),d.qZA()()()()()()),2&t&&(d.xp6(3),d.Oqu(r.cardTitle),d.xp6(2),d.Oqu(r.cardDescription),d.xp6(2),d.s9C("src",r.cardImage,d.LSH),d.xp6(5),d.s9C("href",r.contentLink,d.LSH))},dependencies:[yw,uT,Vy,gw,hT,jy,Ly],styles:["*[_ngcontent-%COMP%]{border:0px solid black}.page[_ngcontent-%COMP%]{display:grid}#card[_ngcontent-%COMP%]{display:grid;min-width:150px;padding-top:2vw;padding-bottom:2vw;grid-auto-flow:column;align-items:center;gap:1vw;margin-left:2.3vw;margin-bottom:1vw;border-radius:5px}#image-box[_ngcontent-%COMP%]{grid-row-start:1;grid-row-end:4;grid-column-start:1;grid-column-end:2;width:12vw;margin-top:10%;margin-bottom:5%}#image[_ngcontent-%COMP%]{display:grid;max-width:10vw;border-radius:5px;margin-left:5%}#title[_ngcontent-%COMP%]{font-family:Lora,serif;font-size:1.75vw;grid-row-start:1;grid-row-end:2;grid-column-start:2;grid-column-end:3;max-width:30vw;margin-right:5%;line-height:1.8vw}#description[_ngcontent-%COMP%]{font-family:Lora,serif;font-size:1vw;grid-row-start:2;grid-row-end:3;grid-column-start:2;grid-column-end:3;max-width:30vw;margin-right:5%}#learn-more-button[_ngcontent-%COMP%]{font-size:1vw;grid-row-start:3;grid-row-end:4;grid-column-start:2;grid-column-end:3;max-width:30vw;margin-right:5%;font-family:Lora,serif}#learn-more-button[_ngcontent-%COMP%]:hover{background-color:#f7e5e8}@media all and (max-width: 600px){.icon[_ngcontent-%COMP%]{font-size:6vw;margin-bottom:2vw}#icon-content[_ngcontent-%COMP%]{grid-row-start:6;grid-row-end:7;display:grid;justify-content:center}#card[_ngcontent-%COMP%]{width:80vw;justify-content:center;align-content:center}#content[_ngcontent-%COMP%]{grid-auto-flow:column;grid-column-start:1;grid-column-end:1;display:grid;justify-content:center}#image-box[_ngcontent-%COMP%]{width:80vw;grid-row-end:1;grid-column-end:1;margin-bottom:1vw;display:grid;justify-content:center}#image[_ngcontent-%COMP%]{max-width:50vw;margin:auto}#description[_ngcontent-%COMP%]{font-size:4vw;line-height:4.5vw;max-width:80vw;grid-row-start:3;grid-row-end:4;grid-column-start:1;grid-column-end:1;display:grid;text-align:center}#learn-more-button[_ngcontent-%COMP%]{font-size:4vw;margin-bottom:4vw;grid-row-start:4;grid-row-end:5;grid-column-start:1;grid-column-end:1;margin-right:0}#title[_ngcontent-%COMP%]{margin-top:4vw;font-size:5.5vw;line-height:6vw;grid-column-start:1;grid-column-end:1;grid-row-start:2;grid-row-end:3;max-width:80vw;display:grid;text-align:center}}"]}),n})();function E_(n,e){if(1&n&&(d.TgZ(0,"div",3),d._UZ(1,"app-portfolio-card",4),d.qZA()),2&n){const t=e.$implicit,r=e.index;d.xp6(1),d.s9C("cardTitle",t.cardTitle),d.s9C("cardDescription",t.cardDescription),d.s9C("cardImage",t.cardImage),d.s9C("contentLink",t.contentLink),d.s9C("cardIndex",r)}}const H0=[{path:"",redirectTo:"landing-page",pathMatch:"full"},{path:"about",component:sT},{path:"contact",component:j0},{path:"portfolio",component:(()=>{class n{constructor(t){this.dataSvc=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-portfolio-page"]],decls:4,vars:1,consts:[["id","sect1",1,"container"],[1,"header"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"cardTitle","cardDescription","cardImage","contentLink","cardIndex"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h1",1),d._uU(2,"Recent Projects"),d.qZA(),d.YNc(3,E_,2,5,"div",2),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngForOf",r.dataSvc.getPortfolioInfo()))},dependencies:[Gs,vO],styles:[".card[_ngcontent-%COMP%]{display:inline-block;text-align:left}.header[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-family:Lora,serif;padding-top:3vw;padding-bottom:3vw;font-size:3.5vw;text-align:center;margin-bottom:3%}#sect1[_ngcontent-%COMP%]{color:#fff;background-image:url(background2.8999dd9fea00223e.jpg);max-width:100%;text-align:center}@media all and (max-width: 600px){.header[_ngcontent-%COMP%]{font-size:6vw;padding:4.5vw}}"]}),n})()},{path:"proj-info/:id",component:oT},{path:"landing-page",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-landing-page"]],decls:7,vars:0,consts:[[1,"welcome-phrase"],["id","welcome",1,"phrase"],["id","name"],[1,"phrase"]],template:function(t,r){1&t&&(d.TgZ(0,"h2",0)(1,"p",1),d._uU(2,"Welcome!\xa0"),d.qZA(),d.TgZ(3,"p",2),d._uU(4,"I'm Josiah "),d.qZA(),d.TgZ(5,"p",3),d._uU(6,",\xa0and this is my online portfolio."),d.qZA()())},styles:[".welcome-phrase[_ngcontent-%COMP%]{background-color:#fff;color:#f7e5e8;padding:2.5vw;margin-top:35vh;color:#000;display:flex;justify-content:center;font-size:2.7vw;font-family:Lora,serif;box-shadow:2px 2px 10px #d3d3d3}.phrase[_ngcontent-%COMP%]{color:#d1c0c3}@media all and (max-width: 600px){.welcome-phrase[_ngcontent-%COMP%]{margin-top:20vh;flex-wrap:wrap;font-size:4vw;padding:8vw}#welcome[_ngcontent-%COMP%]{font-size:15vw;padding-bottom:1vw}}"]}),n})()},{path:"**",redirectTo:""}];let $0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Qg.forRoot(H0),Qg]}),n})();const G0=["*",[["mat-toolbar-row"]]],Nm=["*","mat-toolbar-row"],Om=Dd(class{constructor(n){this._elementRef=n}});let z0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),jA=(()=>{class n extends Om{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ql),d.Y36(se))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&d.Suo(i,z0,5),2&t){let l;d.iGM(l=d.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:Nm,decls:2,vars:0,template:function(t,r){1&t&&(d.F$t(G0),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oi],oi]}),n})(),$A=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:11,vars:0,consts:[[1,"toolbar"],["id","home","mat-button","","routerLink","/landing-page",1,"header"],[1,"space"],["mat-button","","routerLink","/about",1,"header"],["mat-button","","routerLink","/contact",1,"header"],["mat-button","","routerLink","/portfolio",1,"header"]],template:function(t,r){1&t&&(d.TgZ(0,"mat-toolbar",0)(1,"a",1),d._uU(2,"Josiah Ryan"),d.qZA(),d._UZ(3,"span",2),d.TgZ(4,"a",3),d._uU(5,"About"),d.qZA(),d.TgZ(6,"a",4),d._uU(7,"Contact"),d.qZA(),d.TgZ(8,"a",5),d._uU(9,"Portfolio"),d.qZA()(),d._UZ(10,"router-outlet"))},dependencies:[Fh,qp,bw,jA],styles:["*[_ngcontent-%COMP%]{font-family:Lora,serif}.space[_ngcontent-%COMP%]{flex:1;max-width:100%}.toolbar[_ngcontent-%COMP%]{background-color:#f7e5e8;position:sticky;z-index:1;top:0;box-shadow:1px 1px 5px #d3d3d3;display:flex}.header[_ngcontent-%COMP%]:hover{color:#f7e5e8;background-color:#fff}@media all and (max-width: 600px){.home[_ngcontent-%COMP%]{flex-wrap:wrap}.toolbar[_ngcontent-%COMP%]{flex-wrap:wrap;flex-basis:100%;height:auto}.toolbar[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{flex-basis:100%}}"]}),n})(),GA=(()=>{class n{constructor(){this.title="website"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Lora:wght@500&display=swap","rel","stylesheet"],["id","sect1",1,"container"]],template:function(t,r){1&t&&(d.TgZ(0,"head"),d._UZ(1,"link",0)(2,"link",1)(3,"link",2),d.qZA(),d.TgZ(4,"div",3),d._UZ(5,"app-header"),d.qZA())},dependencies:[$A],styles:["#sect1[_ngcontent-%COMP%]{height:100%;width:100%;color:#fff;background-image:url(background2.8999dd9fea00223e.jpg);max-width:100%}#welcome-phrase[_ngcontent-%COMP%]{background-color:#fff;padding:5vmin;margin-top:40vh;color:#000;display:flex;justify-content:center;font-family:Lora,serif;font-size:7vmin}","@import url('https://fonts.googleapis.com/css2?family=Lora:wght@500&display=swap');"]}),n})();function zA(n){return new d.vHH(3e3,!1)}function J0(){return typeof window<"u"&&typeof window.document<"u"}function If(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wc(n){switch(n.length){case 0:return new Md;case 1:return n[0];default:return new zy(n)}}function S_(n,e,t,r,i=new Map,l=new Map){const c=[],f=[];let y=-1,E=null;if(r.forEach(T=>{const x=T.get("offset"),L=x==y,z=L&&E||new Map;T.forEach((Y,ue)=>{let De=ue,et=Y;if("offset"!==ue)switch(De=e.normalizePropertyName(De,c),et){case"!":et=i.get(ue);break;case qa:et=l.get(ue);break;default:et=e.normalizeStyleValue(ue,De,et,c)}z.set(De,et)}),L||f.push(z),E=z,y=x}),c.length)throw function TO(n){return new d.vHH(3502,!1)}();return f}function Cf(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&M_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&M_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&M_(t,"destroy",n)))}}function M_(n,e,t){const l=x_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(l._data=c),l}function x_(n,e,t,r,i="",l=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!c}}function Ls(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function oS(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let k_=(n,e)=>!1,eE=(n,e,t)=>[],tE=null;function nE(n){const e=n.parentNode||n.host;return e===tE?null:e}(If()||typeof Element<"u")&&(J0()?(tE=(()=>document.documentElement)(),k_=(n,e)=>{for(;e;){if(e===n)return!0;e=nE(e)}return!1}):k_=(n,e)=>n.contains(e),eE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vd=null,aS=!1;const uS=k_,cS=eE;let dS=(()=>{class n{validateStyleProperty(t){return function lS(n){Vd||(Vd=function xO(){return typeof document<"u"?document.body:null}()||{},aS=!!Vd.style&&"WebkitAppearance"in Vd.style);let e=!0;return Vd.style&&!function MO(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vd.style,!e&&aS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vd.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return uS(t,r)}getParentElement(t){return nE(t)}query(t,r,i){return cS(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,c,f=[],y){return new Md(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),s=(()=>{class n{}return n.NOOP=new dS,n})();const h="ng-enter",m="ng-leave",v="ng-trigger",w=".ng-trigger",I="ng-animating",S=".ng-animating";function R(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:P(parseFloat(e[1]),e[2])}function P(n,e){return"s"===e?1e3*n:n}function G(n,e,t){return n.hasOwnProperty("duration")?n:function ne(n,e,t){let i,l=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(zA()),{duration:0,delay:0,easing:""};i=P(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(l=P(parseFloat(y),f[4]));const E=f[5];E&&(c=E)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function W0(){return new d.vHH(3100,!1)}()),f=!0),l<0&&(e.push(function qA(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,zA())}return{duration:i,delay:l,easing:c}}(n,e,t)}function ve(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Le(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ft(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function xe(n,e,t){return t?e+":"+t+";":""}function At(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=xe(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xe(0,O_(t),n.style[t]));n.setAttribute("style",e)}function Wt(n,e,t){n.style&&(e.forEach((r,i)=>{const l=Tf(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),If()&&At(n))}function vn(n,e){n.style&&(e.forEach((t,r)=>{const i=Tf(r);n.style[i]=""}),If()&&At(n))}function _o(n){return Array.isArray(n)?1==n.length?n[0]:Aw(n):n}const Df=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fm(n){let e=[];if("string"==typeof n){let t;for(;t=Df.exec(n);)e.push(t[1]);Df.lastIndex=0}return e}function Ec(n,e,t){const r=n.toString(),i=r.replace(Df,(l,c)=>{let f=e[c];return null==f&&(t.push(function KA(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Ud(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const N_=/-+([a-z0-9])/g;function Tf(n){return n.replace(N_,(...e)=>e[1].toUpperCase())}function O_(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function bO(n){return new d.vHH(3004,!1)}()}}function kO(n,e){return window.getComputedStyle(n)[e]}function v2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function b2(n,e,t){if(":"==n[0]){const y=function w2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function T_(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function XA(n){return new d.vHH(3015,!1)}()),e;const i=r[1],l=r[2],c=r[3];e.push(RO(i,c));"<"==l[0]&&!("*"==i&&"*"==c)&&e.push(RO(c,i))}(r,t,e)):t.push(n),t}const oE=new Set(["true","1"]),aE=new Set(["false","0"]);function RO(n,e){const t=oE.has(n)||aE.has(n),r=oE.has(e)||aE.has(e);return(i,l)=>{let c="*"==n||n==i,f="*"==e||e==l;return!c&&t&&"boolean"==typeof i&&(c=i?oE.has(n):aE.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?oE.has(e):aE.has(e)),c&&f}}const E2=new RegExp("s*:selfs*,?","g");function hS(n,e,t,r){return new I2(n).build(e,t,r)}class I2{constructor(e){this._driver=e}build(e,t,r){const i=new T2(t);return this._resetContextStyleTimingState(i),vo(this,_o(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function EO(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,E=y.name;E.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,t))}),y.name=E}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function IO(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{Fm(y).forEach(E=>{c.hasOwnProperty(E)||l.add(E)})})}),l.size&&(Ud(l.values()),t.errors.push(function CO(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=vo(this,_o(e.animation),t);return{type:1,matchers:v2(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Af(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>vo(this,r,t)),options:Af(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(c=>{t.currentTime=r;const f=vo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:Af(e.options)}}visitAnimate(e,t){const r=function S2(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fS(G(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=fS(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=G(t,e);return fS(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:Jl({});if(5==l.type)i=this.visitKeyframes(l,t);else{let c=e.styles,f=!1;if(!c){f=!0;const E={};r.easing&&(E.easing=r.easing),c=Jl(E)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===qa?r.push(f):t.errors.push(new d.vHH(3002,!1)):r.push(Le(f));let l=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!l))for(let y of f.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,y)=>{const E=t.collectedStyles.get(t.currentQuerySelector),T=E.get(y);let x=!0;T&&(l!=i&&l>=T.startTime&&i<=T.endTime&&(t.errors.push(function YA(n,e,t,r,i){return new d.vHH(3010,!1)}()),x=!1),l=T.startTime),x&&E.set(y,{startTime:l,endTime:i}),t.options&&function R_(n,e,t){const r=e.params||{},i=Fm(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function WA(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function QA(){return new d.vHH(3011,!1)}()),r;let l=0;const c=[];let f=!1,y=!1,E=0;const T=e.steps.map(et=>{const pt=this._makeStyleAst(et,t);let yt=null!=pt.offset?pt.offset:function A2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(pt.styles),dt=0;return null!=yt&&(l++,dt=pt.offset=yt),y=y||dt<0||dt>1,f=f||dt<E,E=dt,c.push(dt),pt});y&&t.errors.push(function K0(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function bc(){return new d.vHH(3200,!1)}());const x=e.steps.length;let L=0;l>0&&l<x?t.errors.push(function Z0(){return new d.vHH(3202,!1)}()):0==l&&(L=1/(x-1));const z=x-1,Y=t.currentTime,ue=t.currentAnimateTimings,De=ue.duration;return T.forEach((et,pt)=>{const yt=L>0?pt==z?1:L*pt:c[pt],dt=yt*De;t.currentTime=Y+ue.delay+dt,ue.duration=dt,this._validateStyleAst(et,t),et.offset=yt,r.styles.push(et)}),r}visitReference(e,t){return{type:8,animation:vo(this,_o(e.animation),t),options:Af(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Af(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Af(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,c]=function C2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(E2,"")),n=n.replace(/@\*/g,w).replace(/@\w+/g,t=>w+"-"+t.slice(1)).replace(/:animating/g,S),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Ls(t.collectedStyles,t.currentQuerySelector,new Map);const f=vo(this,_o(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Af(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function C_(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:G(e.timings,t.errors,!0);return{type:12,animation:vo(this,_o(e.animation),t),timings:r,options:null}}}class T2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Af(n){return n?(n=ve(n)).params&&(n.params=function D2(n){return n?ve(n):null}(n.params)):n={},n}function fS(n,e,t){return{duration:n,delay:e,easing:t}}function pS(n,e,t,r,i,l,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:c,subTimeline:f}}class lE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const k2=new RegExp(":enter","g"),N2=new RegExp(":leave","g");function mS(n,e,t,r,i,l=new Map,c=new Map,f,y,E=[]){return(new O2).buildKeyframes(n,e,t,r,i,l,c,f,y,E)}class O2{buildKeyframes(e,t,r,i,l,c,f,y,E,T=[]){E=E||new lE;const x=new gS(e,t,E,i,l,T,[]);x.options=y;const L=y.delay?R(y.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([c],null,x.errors,y),vo(this,r,x);const z=x.timelines.filter(Y=>Y.containsAnimation());if(z.length&&f.size){let Y;for(let ue=z.length-1;ue>=0;ue--){const De=z[ue];if(De.element===t){Y=De;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([f],null,x.errors,y)}return z.length?z.map(Y=>Y.buildKeyframes()):[pS(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);l!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const l=i?.delay;if(l){const c="number"==typeof l?l:R(Ec(l,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const c=null!=r.duration?R(r.duration):null,f=null!=r.delay?R(r.delay):null;return 0!==c&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,c,f);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),vo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=uE);const c=R(l.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>vo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?R(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),vo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return G(t.params?Ec(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*l),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?R(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=uE);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((E,T)=>{t.currentQueryIndex=T;const x=t.createSubContext(e.options,E);l&&x.delayNextStep(l),E===t.element&&(y=x.currentTimeline),vo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,c=Math.abs(l.duration),f=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const x=T.currentTime;vo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const uE={};class gS{constructor(e,t,r,i,l,c,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new cE(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=R(r.duration)),null!=r.delay&&(i.delay=R(r.delay));const l=r.params;if(l){let c=i.params;c||(c=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Ec(l[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new gS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=uE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new P2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(k2,"."+this._enterClassName)).replace(N2,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!l&&0==f.length&&c.push(function D_(n){return new d.vHH(3014,!1)}()),f}}class cE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||qa),this._currentKeyframe.set(t,qa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},c=function F2(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,qa)}else ft(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of c){const E=Ec(y,l,r);this._pendingStyles.set(f,E),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??qa),this._updateStyle(f,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const E=ft(f,new Map,this._backFill);E.forEach((T,x)=>{"!"===T?e.add(x):T===qa&&t.add(x)}),r||E.set("offset",y/this.duration),i.push(E)});const l=e.size?Ud(e.values()):[],c=t.size?Ud(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return pS(this.element,i,l,c,this.duration,this.startTime,this.easing,!1)}}class P2 extends cE{constructor(e,t,r,i,l,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],c=r+t,f=t/c,y=ft(e[0]);y.set("offset",0),l.push(y);const E=ft(e[0]);E.set("offset",PO(f)),l.push(E);const T=e.length-1;for(let x=1;x<=T;x++){let L=ft(e[x]);const z=L.get("offset");L.set("offset",PO((t+z*r)/c)),l.push(L)}r=c,t=0,i="",e=l}return pS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function PO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class yS{}const L2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class V2 extends yS{normalizePropertyName(e,t){return Tf(e)}normalizeStyleValue(e,t,r,i){let l="";const c=r.toString().trim();if(L2.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function wO(n,e){return new d.vHH(3005,!1)}())}return c+l}}function FO(n,e,t,r,i,l,c,f,y,E,T,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:c,timelines:f,queriedElements:y,preStyleProps:E,postStyleProps:T,totalTime:x,errors:L}}const _S={};class LO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function U2(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,c,f,y,E,T){const x=[],L=this.ast.options&&this.ast.options.params||_S,Y=this.buildStyles(r,f&&f.params||_S,x),ue=y&&y.params||_S,De=this.buildStyles(i,ue,x),et=new Set,pt=new Map,yt=new Map,dt="void"===i,St={params:B2(ue,L),delay:this.ast.options?.delay},Ot=T?[]:mS(e,t,this.ast.animation,l,c,Y,De,St,E,x);let ln=0;if(Ot.forEach(Rc=>{ln=Math.max(Rc.duration+Rc.delay,ln)}),x.length)return FO(t,this._triggerName,r,i,dt,Y,De,[],[],pt,yt,ln,x);Ot.forEach(Rc=>{const Nc=Rc.element,AU=Ls(pt,Nc,new Set);Rc.preStyleProps.forEach(ip=>AU.add(ip));const $v=Ls(yt,Nc,new Set);Rc.postStyleProps.forEach(ip=>$v.add(ip)),Nc!==t&&et.add(Nc)});const ps=Ud(et.values());return FO(t,this._triggerName,r,i,dt,Y,De,Ot,ps,pt,yt,ln)}}function B2(n,e){const t=ve(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class j2{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=ve(this.defaultParams);return Object.keys(e).forEach(l=>{const c=e[l];null!==c&&(i[l]=c)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,f)=>{c&&(c=Ec(c,i,t));const y=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,y,c,t),r.set(y,c)})}),r}}class $2{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new j2(i.style,i.options&&i.options.params||{},r))}),VO(this.states,"true","1"),VO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new LO(e,i,this.states))}),this.fallbackTransition=function G2(n,e,t){return new LO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function VO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const z2=new lE;class q2{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=hS(this._driver,t,r,[]);if(r.length)throw function AO(n){return new d.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=S_(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let c;const f=new Map;if(l?(c=mS(this._driver,t,l,h,m,new Map,new Map,r,z2,i),c.forEach(T=>{const x=Ls(f,T.element,new Map);T.postStyleProps.forEach(L=>x.set(L,null))})):(i.push(function SO(){return new d.vHH(3300,!1)}()),c=[]),i.length)throw function Y0(n){return new d.vHH(3504,!1)}();f.forEach((T,x)=>{T.forEach((L,z)=>{T.set(z,this._driver.computeStyle(x,z,qa))})});const E=wc(c.map(T=>{const x=f.get(T.element);return this._buildPlayer(T,new Map,x)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function JA(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=x_(t,"","","");return Cf(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const UO="ng-animate-queued",vS="ng-animate-disabled",Q2=[],BO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ia="__ng_removed";class bS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function nB(n){return n??null}(r?e.value:e),r){const l=ve(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const F_="void",wS=new bS(F_);class J2{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,sa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function eS(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function tS(n){return new d.vHH(3303,!1)}();if(!function rB(n){return"start"==n||"done"==n}(r))throw function nS(n,e){return new d.vHH(3400,!1)}();const l=Ls(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};l.push(c);const f=Ls(this._engine.statesByElement,e,new Map);return f.has(t)||(sa(e,v),sa(e,v+"-"+t),f.set(t,wS)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(c);y>=0&&l.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Q0(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),c=new ES(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(sa(e,v),sa(e,v+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const E=new bS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),f.set(t,E),y||(y=wS),E.value!==F_&&y.value===E.value){if(!function oB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,E.params)){const ue=[],De=l.matchStyles(y.value,y.params,ue),et=l.matchStyles(E.value,E.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{vn(e,De),Wt(e,et)})}return}const L=Ls(this._engine.playersByElement,e,[]);L.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let z=l.matchTransition(y.value,E.value,e,E.params),Y=!1;if(!z){if(!i)return;z=l.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:y,toState:E,player:c,isFallbackTransition:Y}),Y||(sa(e,UO),c.onStart(()=>{Lm(e,UO)})),c.onDone(()=>{let ue=this.players.indexOf(c);ue>=0&&this.players.splice(ue,1);const De=this._engine.playersByElement.get(e);if(De){let et=De.indexOf(c);et>=0&&De.splice(et,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,w,!0);r.forEach(i=>{if(i[ia])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),c=new Map;if(l){const f=[];if(l.forEach((y,E)=>{if(c.set(E,y.value),this._triggers.has(E)){const T=this.trigger(e,E,F_,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&wc(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const c=l.name;if(i.has(c))return;i.add(c);const y=this._triggers.get(c).fallbackTransition,E=r.get(c)||wS,T=new bS(F_),x=new ES(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:E,toState:T,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[ia];(!l||l===BO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){sa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,c=this._elementListeners.get(l);c&&c.forEach(f=>{if(f.name==r.triggerName){const y=x_(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Cf(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class eB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new J2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const E=r.indexOf(y);r.splice(E+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(dE(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!dE(t))return;const l=t[ia];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),sa(e,vS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lm(e,vS))}removeNode(e,t,r,i){if(dE(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[ia]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return dE(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,w,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,S,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ia];if(t&&t.setForRemoval){if(e[ia]=BO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)sa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function X0(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new lE,i=[],l=new Map,c=[],f=new Map,y=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(_t=>{T.add(_t);const Mt=this.driver.query(_t,".ng-animate-queued",!0);for(let Ft=0;Ft<Mt.length;Ft++)T.add(Mt[Ft])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),z=$O(L,this.collectedEnterElements),Y=new Map;let ue=0;z.forEach((_t,Mt)=>{const Ft=h+ue++;Y.set(Mt,Ft),_t.forEach(gn=>sa(gn,Ft))});const De=[],et=new Set,pt=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Mt=this.collectedLeaveElements[_t],Ft=Mt[ia];Ft&&Ft.setForRemoval&&(De.push(Mt),et.add(Mt),Ft.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(gn=>et.add(gn)):pt.add(Mt))}const yt=new Map,dt=$O(L,Array.from(et));dt.forEach((_t,Mt)=>{const Ft=m+ue++;yt.set(Mt,Ft),_t.forEach(gn=>sa(gn,Ft))}),e.push(()=>{z.forEach((_t,Mt)=>{const Ft=Y.get(Mt);_t.forEach(gn=>Lm(gn,Ft))}),dt.forEach((_t,Mt)=>{const Ft=yt.get(Mt);_t.forEach(gn=>Lm(gn,Ft))}),De.forEach(_t=>{this.processLeaveNode(_t)})});const St=[],Ot=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(Ft=>{const gn=Ft.player,fi=Ft.element;if(St.push(gn),this.collectedEnterElements.length){const qi=fi[ia];if(qi&&qi.setForMove){if(qi.previousTriggersValues&&qi.previousTriggersValues.has(Ft.triggerName)){const sp=qi.previousTriggersValues.get(Ft.triggerName),aa=this.statesByElement.get(Ft.element);if(aa&&aa.has(Ft.triggerName)){const zI=aa.get(Ft.triggerName);zI.value=sp,aa.set(Ft.triggerName,zI)}}return void gn.destroy()}}const cu=!x||!this.driver.containsElement(x,fi),Co=yt.get(fi),ah=Y.get(fi),pr=this._buildInstruction(Ft,r,ah,Co,cu);if(pr.errors&&pr.errors.length)return void Ot.push(pr);if(cu)return gn.onStart(()=>vn(fi,pr.fromStyles)),gn.onDestroy(()=>Wt(fi,pr.toStyles)),void i.push(gn);if(Ft.isFallbackTransition)return gn.onStart(()=>vn(fi,pr.fromStyles)),gn.onDestroy(()=>Wt(fi,pr.toStyles)),void i.push(gn);const xU=[];pr.timelines.forEach(qi=>{qi.stretchStartingKeyframe=!0,this.disabledNodes.has(qi.element)||xU.push(qi)}),pr.timelines=xU,r.append(fi,pr.timelines),c.push({instruction:pr,player:gn,element:fi}),pr.queriedElements.forEach(qi=>Ls(f,qi,[]).push(gn)),pr.preStyleProps.forEach((qi,sp)=>{if(qi.size){let aa=y.get(sp);aa||y.set(sp,aa=new Set),qi.forEach((zI,Kk)=>aa.add(Kk))}}),pr.postStyleProps.forEach((qi,sp)=>{let aa=E.get(sp);aa||E.set(sp,aa=new Set),qi.forEach((zI,Kk)=>aa.add(Kk))})});if(Ot.length){const _t=[];Ot.forEach(Mt=>{_t.push(function iS(n,e){return new d.vHH(3505,!1)}())}),St.forEach(Mt=>Mt.destroy()),this.reportError(_t)}const ln=new Map,ps=new Map;c.forEach(_t=>{const Mt=_t.element;r.has(Mt)&&(ps.set(Mt,Mt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,ln))}),i.forEach(_t=>{const Mt=_t.element;this._getPreviousPlayers(Mt,!1,_t.namespaceId,_t.triggerName,null).forEach(gn=>{Ls(ln,Mt,[]).push(gn),gn.destroy()})});const Rc=De.filter(_t=>zO(_t,y,E)),Nc=new Map;HO(Nc,this.driver,pt,E,qa).forEach(_t=>{zO(_t,y,E)&&Rc.push(_t)});const $v=new Map;z.forEach((_t,Mt)=>{HO($v,this.driver,new Set(_t),y,"!")}),Rc.forEach(_t=>{const Mt=Nc.get(_t),Ft=$v.get(_t);Nc.set(_t,new Map([...Array.from(Mt?.entries()??[]),...Array.from(Ft?.entries()??[])]))});const ip=[],SU=[],MU={};c.forEach(_t=>{const{element:Mt,player:Ft,instruction:gn}=_t;if(r.has(Mt)){if(T.has(Mt))return Ft.onDestroy(()=>Wt(Mt,gn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(gn.totalTime),void i.push(Ft);let fi=MU;if(ps.size>1){let Co=Mt;const ah=[];for(;Co=Co.parentNode;){const pr=ps.get(Co);if(pr){fi=pr;break}ah.push(Co)}ah.forEach(pr=>ps.set(pr,fi))}const cu=this._buildAnimation(Ft.namespaceId,gn,ln,l,$v,Nc);if(Ft.setRealPlayer(cu),fi===MU)ip.push(Ft);else{const Co=this.playersByElement.get(fi);Co&&Co.length&&(Ft.parentPlayer=wc(Co)),i.push(Ft)}}else vn(Mt,gn.fromStyles),Ft.onDestroy(()=>Wt(Mt,gn.toStyles)),SU.push(Ft),T.has(Mt)&&i.push(Ft)}),SU.forEach(_t=>{const Mt=l.get(_t.element);if(Mt&&Mt.length){const Ft=wc(Mt);_t.setRealPlayer(Ft)}}),i.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<De.length;_t++){const Mt=De[_t],Ft=Mt[ia];if(Lm(Mt,m),Ft&&Ft.hasAnimation)continue;let gn=[];if(f.size){let cu=f.get(Mt);cu&&cu.length&&gn.push(...cu);let Co=this.driver.query(Mt,S,!0);for(let ah=0;ah<Co.length;ah++){let pr=f.get(Co[ah]);pr&&pr.length&&gn.push(...pr)}}const fi=gn.filter(cu=>!cu.destroyed);fi.length?iB(this,Mt,fi):this.processLeaveNode(Mt)}return De.length=0,ip.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Mt=this.players.indexOf(_t);this.players.splice(Mt,1)}),_t.play()}),ip}elementContainsData(e,t){let r=!1;const i=t[ia];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const y=!l||l==F_;f.forEach(E=>{E.queued||!y&&E.triggerName!=i||c.push(E)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const l=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,T=E!==l,x=Ls(r,E,[]);this._getPreviousPlayers(E,T,c,f,t.toState).forEach(z=>{const Y=z.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),z.destroy(),x.push(z)})}vn(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,c){const f=t.triggerName,y=t.element,E=[],T=new Set,x=new Set,L=t.timelines.map(Y=>{const ue=Y.element;T.add(ue);const De=ue[ia];if(De&&De.removedBeforeQueried)return new Md(Y.duration,Y.delay);const et=ue!==y,pt=function sB(n){const e=[];return GO(n,e),e}((r.get(ue)||Q2).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===ue),yt=l.get(ue),dt=c.get(ue),St=S_(0,this._normalizer,0,Y.keyframes,yt,dt),Ot=this._buildPlayer(Y,St,pt);if(Y.subTimeline&&i&&x.add(ue),et){const ln=new ES(e,f,ue);ln.setRealPlayer(Ot),E.push(ln)}return Ot});E.forEach(Y=>{Ls(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function tB(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Y.element,Y))}),T.forEach(Y=>sa(Y,I));const z=wc(L);return z.onDestroy(()=>{T.forEach(Y=>Lm(Y,I)),Wt(y,t.toStyles)}),x.forEach(Y=>{Ls(i,Y,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Md(e.duration,e.delay)}}class ES{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Md,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Cf(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ls(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dE(n){return n&&1===n.nodeType}function jO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function HO(n,e,t,r,i){const l=[];t.forEach(y=>l.push(jO(y)));const c=[];r.forEach((y,E)=>{const T=new Map;y.forEach(x=>{const L=e.computeStyle(E,x,i);T.set(x,L),(!L||0==L.length)&&(E[ia]=X2,c.push(E))}),n.set(E,T)});let f=0;return t.forEach(y=>jO(y,l[f++])),c}function $O(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function c(f){if(!f)return 1;let y=l.get(f);if(y)return y;const E=f.parentNode;return y=t.has(E)?E:i.has(E)?1:c(E),l.set(f,y),y}return e.forEach(f=>{const y=c(f);1!==y&&t.get(y).push(f)}),t}function sa(n,e){n.classList?.add(e)}function Lm(n,e){n.classList?.remove(e)}function iB(n,e,t){wc(t).onDone(()=>n.processLeaveNode(e))}function GO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof zy?GO(r.players,e):e.push(r)}}function zO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class hE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new eB(e,t,r),this._timelineEngine=new q2(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const y=[],T=hS(this._driver,l,y,[]);if(y.length)throw function DO(n,e){return new d.vHH(3404,!1)}();f=function H2(n,e,t){return new $2(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,c]=oS(r);this._timelineEngine.command(l,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[c,f]=oS(r);return this._timelineEngine.listen(c,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Wt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wt(this._element,this._initialStyles),this._endStyles&&(Wt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vn(this._element,this._endStyles),this._endStyles=null),Wt(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function IS(n){let e=null;return n.forEach((t,r)=>{(function uB(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class qO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:kO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cB{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return uS(e,t)}getParentElement(e){return nE(e)}query(e,t,r){return cS(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const E=new Map,T=c.filter(z=>z instanceof qO);(function P_(n,e){return 0===n||0===e})(r,i)&&T.forEach(z=>{z.currentSnapshot.forEach((Y,ue)=>E.set(ue,Y))});let x=function qe(n){return n.length?n[0]instanceof Map?n:n.map(e=>Le(e)):[]}(t).map(z=>ft(z));x=function m2(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,c)=>{r.has(c)||i.push(c),r.set(c,l)}),i.length)for(let l=1;l<e.length;l++){let c=e[l];i.forEach(f=>c.set(f,kO(n,f)))}}return e}(e,x,E);const L=function aB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=IS(e[0]),e.length>1&&(r=IS(e[e.length-1]))):e instanceof Map&&(t=IS(e)),t||r?new lB(n,t,r):null}(e,x);return new qO(e,x,y,L)}}let dB=(()=>{class n extends Dw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Aw(t):t;return WO(this._renderer,null,r,"register",[i]),new hB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class hB extends class wT{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fB(this._id,e,t||{},this._renderer)}}class fB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const KO="@.disabled";let pB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,c)=>{const f=c?.parentNode(l);f&&c.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new ZO("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(y),new mB(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,f]=l;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(hE),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ZO{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==KO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mB extends ZO{constructor(e,t,r,i,l){super(t,r,i,l),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==KO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function gB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),c="";return"@"!=l.charAt(0)&&([l,c]=function yB(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let _B=(()=>{class n extends hE{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(s),d.LFG(yS),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const YO=[{provide:Dw,useClass:dB},{provide:yS,useFactory:function vB(){return new V2}},{provide:hE,useClass:_B},{provide:d.FYo,useFactory:function bB(n,e,t){return new pB(n,e,t)},deps:[Xs,hE,d.R0b]}],CS=[{provide:s,useFactory:()=>new cB},{provide:d.QbO,useValue:"BrowserAnimations"},...YO],QO=[{provide:s,useClass:dS},{provide:d.QbO,useValue:"NoopAnimations"},...YO];let wB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?QO:CS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:CS,imports:[Dl]}),n})();const XO_firebase={projectId:"personal-website-922fb",appId:"1:415441984198:web:81589cfbe7717d9519d5c7",storageBucket:"personal-website-922fb.appspot.com",apiKey:"AIzaSyBL4cRo0CLsVsrJV7IiOdXFHbHqNlxmi7k",authDomain:"personal-website-922fb.firebaseapp.com",messagingSenderId:"415441984198"};var Za=F(2011),Ai=F(2122);function DS(){return(0,hr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ln.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}F(9169);var wt,EB=F(3942),Ee=F(5861),Sf=F(9681),pE=F(4859),Bd=F(1877),bn=F(2090),IB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ic={},TS=TS||{},$t=IB||self;function mE(){}function gE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function L_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var AS="closure_uid_"+(1e9*Math.random()>>>0),DB=0;function TB(n,e,t){return n.call.apply(n.bind,arguments)}function AB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Gi(n,e,t){return(Gi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?TB:AB).apply(null,arguments)}function yE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Si(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function jd(){this.s=this.s,this.o=this.o}jd.prototype.s=!1,jd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function CB(n){Object.prototype.hasOwnProperty.call(n,AS)&&n[AS]||(n[AS]=++DB)}(this)},jd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function SS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function e1(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(gE(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let c=0;c<l;c++)n[i+c]=r[c]}else n.push(r)}}function zi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}zi.prototype.h=function(){this.defaultPrevented=!0};var MB=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",mE,e),$t.removeEventListener("test",mE,e)}catch{}return n}();function _E(n){return/^[\s\xa0]*$/.test(n)}var t1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function MS(n,e){return n<e?-1:n>e?1:0}function vE(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function ru(n){return-1!=vE().indexOf(n)}function xS(n){return xS[" "](n),n}xS[" "]=mE;var bE,n,kB=ru("Opera"),Vm=ru("Trident")||ru("MSIE"),n1=ru("Edge"),kS=n1||Vm,r1=ru("Gecko")&&!(-1!=vE().toLowerCase().indexOf("webkit")&&!ru("Edge"))&&!(ru("Trident")||ru("MSIE"))&&!ru("Edge"),RB=-1!=vE().toLowerCase().indexOf("webkit")&&!ru("Edge");function s1(){var n=$t.document;return n?n.documentMode:void 0}e:{var RS="",NS=(n=vE(),r1?/rv:([^\);]+)(\)|;)/.exec(n):n1?/Edge\/([\d\.]+)/.exec(n):Vm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RB?/WebKit\/(\S+)/.exec(n):kB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(NS&&(RS=NS?NS[1]:""),Vm){var OS=s1();if(null!=OS&&OS>parseFloat(RS)){bE=String(OS);break e}}bE=RS}var NB={};var PB=$t.document&&Vm&&(s1()||parseInt(bE,10))||void 0;function V_(n,e){if(zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(r1){e:{try{xS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&V_.X.h.call(this)}}Si(V_,zi);var FB={2:"touch",3:"pen",4:"mouse"};V_.prototype.h=function(){V_.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var U_="closure_listenable_"+(1e6*Math.random()|0),LB=0;function VB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++LB,this.ba=this.ea=!1}function wE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function FS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function a1(n){const e={};for(const t in n)e[t]=n[t];return e}const l1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<l1.length;l++)t=l1[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function EE(n){this.src=n,this.g={},this.h=0}function LS(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=JO(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(wE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function VS(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}EE.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=VS(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new VB(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var US="closure_lm_"+(1e6*Math.random()|0),BS={};function c1(n,e,t,r,i){if(r&&r.once)return h1(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)c1(n,e[l],t,r,i);return null}return t=GS(t),n&&n[U_]?n.N(e,t,L_(r)?!!r.capture:!!r,i):d1(n,e,t,!1,r,i)}function d1(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=L_(i)?!!i.capture:!!i,f=HS(n);if(f||(n[US]=f=new EE(n)),(t=f.add(e,t,r,c,l)).proxy)return t;if(r=function UB(){const e=BB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)MB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(p1(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function h1(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)h1(n,e[l],t,r,i);return null}return t=GS(t),n&&n[U_]?n.O(e,t,L_(r)?!!r.capture:!!r,i):d1(n,e,t,!0,r,i)}function f1(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)f1(n,e[l],t,r,i);else r=L_(r)?!!r.capture:!!r,t=GS(t),n&&n[U_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=VS(l=n.g[e],t,r,i))&&(wE(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=HS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=VS(e,t,r,i)),(t=-1<n?e[n]:null)&&jS(t))}function jS(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[U_])LS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(p1(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=HS(e))?(LS(t,n),0==t.h&&(t.src=null,e[US]=null)):wE(n)}}}function p1(n){return n in BS?BS[n]:BS[n]="on"+n}function BB(n,e){if(n.ba)n=!0;else{e=new V_(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&jS(n),n=t.call(r,e)}return n}function HS(n){return(n=n[US])instanceof EE?n:null}var $S="__closure_events_fn_"+(1e9*Math.random()>>>0);function GS(n){return"function"==typeof n?n:(n[$S]||(n[$S]=function(e){return n.handleEvent(e)}),n[$S])}function ui(){jd.call(this),this.i=new EE(this),this.P=this,this.I=null}function Mi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new zi(e,n);else if(e instanceof zi)e.target=e.target||n;else{var i=e;u1(e=new zi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=IE(c,r,!0,e)&&i}if(i=IE(c=e.g=n,r,!0,e)&&i,i=IE(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=IE(c=e.g=t[l],r,!1,e)&&i}function IE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ba&&c.capture==t){var f=c.listener,y=c.ha||c.src;c.ea&&LS(n.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Si(ui,jd),ui.prototype[U_]=!0,ui.prototype.removeEventListener=function(n,e,t,r){f1(this,n,e,t,r)},ui.prototype.M=function(){if(ui.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wE(t[r]);delete n.g[e],n.h--}}this.I=null},ui.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ui.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zS=$t.JSON.stringify;function jB(){var n=y1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qS,m1=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $B,n=>n.reset());class $B{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function GB(n){$t.setTimeout(()=>{throw n},0)}function g1(n,e){qS||function zB(){var n=$t.Promise.resolve(void 0);qS=function(){n.then(qB)}}(),WS||(qS(),WS=!0),y1.add(n,e)}var WS=!1,y1=new class HB{constructor(){this.h=this.g=null}add(e,t){const r=m1.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function qB(){for(var n;n=jB();){try{n.h.call(n.g)}catch(t){GB(t)}var e=m1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}WS=!1}function CE(n,e){ui.call(this),this.h=n||1,this.g=e||$t,this.j=Gi(this.lb,this),this.l=Date.now()}function KS(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function ZS(n,e,t){if("function"==typeof n)t&&(n=Gi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gi(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function _1(n){n.g=ZS(()=>{n.g=null,n.i&&(n.i=!1,_1(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Si(CE,ui),(wt=CE.prototype).ca=!1,wt.R=null,wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mi(this,"tick"),this.ca&&(KS(this),this.start()))}},wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){CE.X.M.call(this),KS(this),delete this.g};class WB extends jd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_1(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B_(n){jd.call(this),this.h=n,this.g={}}Si(B_,jd);var v1=[];function b1(n,e,t,r){Array.isArray(t)||(t&&(v1[0]=t.toString()),t=v1);for(var i=0;i<t.length;i++){var l=c1(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function w1(n){FS(n.g,function(e,t){this.g.hasOwnProperty(t)&&jS(e)},n),n.g={}}function DE(){this.g=!0}function Um(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function QB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return zS(t)}catch{return e}}(n,t)+(r?" "+r:"")})}B_.prototype.M=function(){B_.X.M.call(this),w1(this)},B_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},DE.prototype.Aa=function(){this.g=!1},DE.prototype.info=function(){};var Mf={},E1=null;function TE(){return E1=E1||new ui}function I1(n){zi.call(this,Mf.Pa,n)}function j_(n){const e=TE();Mi(e,new I1(e))}function C1(n,e){zi.call(this,Mf.STAT_EVENT,n),this.stat=e}function ls(n){const e=TE();Mi(e,new C1(e,n))}function D1(n,e){zi.call(this,Mf.Qa,n),this.size=e}function H_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Mf.Pa="serverreachability",Si(I1,zi),Mf.STAT_EVENT="statevent",Si(C1,zi),Mf.Qa="timingevent",Si(D1,zi);var AE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},T1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function YS(){}function S1(){}YS.prototype.h=null;var JS,$_={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function QS(){zi.call(this,"d")}function XS(){zi.call(this,"c")}function SE(){}function G_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new B_(this),this.O=XB,this.T=new CE(n=kS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new M1}function M1(){this.i=null,this.g="",this.h=!1}Si(QS,zi),Si(XS,zi),Si(SE,YS),SE.prototype.g=function(){return new XMLHttpRequest},SE.prototype.i=function(){return{}},JS=new SE;var XB=45e3,eM={},ME={};function tM(n,e,t){n.K=1,n.v=NE(Cc(e)),n.s=t,n.P=!0,x1(n,null)}function x1(n,e){n.F=Date.now(),z_(n),n.A=Cc(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),B1(t.i,"t",r),n.C=0,t=n.l.H,n.h=new M1,n.g=cP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new WB(Gi(n.La,n,n.g),n.N)),b1(n.S,n.g,"readystatechange",n.ib),e=n.H?a1(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),j_(),function KB(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",f=l.split("&"),y=0;y<f.length;y++){var E=f[y].split("=");if(1<E.length){var T=E[0];E=E[1];var x=T.split("_");c=2<=x.length&&"type"==x[1]?c+(T+"=")+E+"&":c+(T+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function k1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function R1(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=JB(n,t),i==ME){4==e&&(n.o=4,ls(14),r=!1),Um(n.j,n.m,null,"[Incomplete Response]");break}if(i==eM){n.o=4,ls(15),Um(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Um(n.j,n.m,i,null),nM(n,i)}k1(n)&&i!=ME&&i!=eM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ls(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),cM(e),e.K=!0,ls(11))):(Um(n.j,n.m,t,"[Invalid Chunked Response]"),xf(n),q_(n))}function JB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ME:(t=Number(e.substring(t,r)),isNaN(t)?eM:(r+=1)+t>e.length?ME:(e=e.substr(r,t),n.C=r+t,e))}function z_(n){n.V=Date.now()+n.O,N1(n,n.O)}function N1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=H_(Gi(n.gb,n),e)}function xE(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function q_(n){0==n.l.G||n.I||oP(n.l,n)}function xf(n){xE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,KS(n.T),w1(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function nM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||rM(t.h,n)))if(!n.J&&rM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;UE(t),LE(t)}uM(t),ls(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=H_(Gi(t.cb,t),6e3));if(1>=$1(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Rf(t,11)}else if((n.J||t.g==n)&&UE(t),!_E(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.T=E[0],E=E[1],2==t.G)if("c"==E[0]){t.I=E[1],t.ka=E[2];const T=E[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const x=E[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.J=r=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const Y=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var l=r.h;l.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(iM(l,l.h),l.h=null))}if(r.D){const ue=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.za=ue,ir(r.F,r.D,ue))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=uP(r,r.H?r.ka:null,r.V),c.J){G1(r.h,c);var f=c,y=r.J;y&&f.setTimeout(y),f.B&&(xE(f),z_(f)),r.g=c}else iP(r);0<t.i.length&&VE(t)}else"stop"!=E[0]&&"close"!=E[0]||Rf(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Rf(t,7):lM(t):"noop"!=E[0]&&t.l&&t.l.wa(E),t.A=0)}j_()}catch{}}function O1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tj(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(gE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ej(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(wt=G_.prototype).setTimeout=function(n){this.O=n},wt.ib=function(n){n=n.target;const e=this.L;e&&3==Dc(n)?e.l():this.La(n)},wt.La=function(n){try{if(n==this.g)e:{const T=Dc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||kS||this.g&&(this.h.h||this.g.fa()||X1(this.g)))){this.I||4!=T||7==e||j_(),xE(this);var t=this.g.aa();this.Y=t;t:if(k1(this)){var r=X1(this.g);n="";var i=r.length,l=4==Dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xf(this),q_(this);var c="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function ZB(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_E(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ls(12),xf(this),q_(this);break e}Um(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nM(this,t)}this.P?(R1(this,T,c),kS&&this.i&&3==T&&(b1(this.S,this.T,"tick",this.hb),this.T.start())):(Um(this.j,this.m,c,null),nM(this,c)),4==T&&xf(this),this.i&&!this.I&&(4==T?oP(this.l,this):(this.i=!1,z_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ls(12)):(this.o=0,ls(13)),xf(this),q_(this)}}}catch{}},wt.hb=function(){if(this.g){var n=Dc(this.g),e=this.g.fa();this.C<e.length&&(xE(this),R1(this,n,e),this.i&&4!=n&&z_(this))}},wt.cancel=function(){this.I=!0,xf(this)},wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function YB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(j_(),ls(17)),xf(this),this.o=2,q_(this)):N1(this,this.V-n)};var P1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kf){this.h=void 0!==e?e:n.h,kE(this,n.j),this.s=n.s,this.g=n.g,RE(this,n.m),this.l=n.l,e=n.i;var t=new Z_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),F1(this,t),this.o=n.o}else n&&(t=String(n).match(P1))?(this.h=!!e,kE(this,t[1]||"",!0),this.s=W_(t[2]||""),this.g=W_(t[3]||"",!0),RE(this,t[4]),this.l=W_(t[5]||"",!0),F1(this,t[6]||"",!0),this.o=W_(t[7]||"")):(this.h=!!e,this.i=new Z_(null,this.h))}function Cc(n){return new kf(n)}function kE(n,e,t){n.j=t?W_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function RE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function F1(n,e,t){e instanceof Z_?(n.i=e,function lj(n,e){e&&!n.j&&(Hd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(V1(this,r),B1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=K_(e,oj)),n.i=new Z_(e,n.h))}function ir(n,e,t){n.i.set(e,t)}function NE(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function W_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function K_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(K_(e,L1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(K_(e,L1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(K_(t,"/"==t.charAt(0)?sj:ij,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",K_(t,aj)),n.join("")};var L1=/[#\/\?@]/g,ij=/[#\?:]/g,sj=/[#\?]/g,oj=/[#\?@]/g,aj=/#/g;function Z_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hd(n){n.g||(n.g=new Map,n.h=0,n.i&&function nj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function V1(n,e){Hd(n),e=Bm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function U1(n,e){return Hd(n),e=Bm(n,e),n.g.has(e)}function B1(n,e,t){V1(n,e),0<t.length&&(n.i=null,n.g.set(Bm(n,e),SS(t)),n.h+=t.length)}function Bm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function j1(n){this.l=n||cj,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=Z_.prototype).add=function(n,e){Hd(this),this.i=null,n=Bm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},wt.forEach=function(n,e){Hd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},wt.oa=function(){Hd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},wt.W=function(n){Hd(this);let e=[];if("string"==typeof n)U1(this,n)&&(e=e.concat(this.g.get(Bm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},wt.set=function(n,e){return Hd(this),this.i=null,U1(this,n=Bm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},wt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=l;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var cj=10;function H1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $1(n){return n.h?1:n.g?n.g.size:0}function rM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function iM(n,e){n.g?n.g.add(e):n.h=e}function G1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function z1(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return SS(n.i)}function sM(){}function dj(){this.g=new sM}function hj(n,e,t){const r=t||"";try{O1(n,function(i,l){let c=i;L_(i)&&(c=zS(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function OE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Y_(n){this.l=n.ac||null,this.j=n.jb||!1}function PE(n,e){ui.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=oM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}j1.prototype.cancel=function(){if(this.i=z1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sM.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},sM.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Si(Y_,YS),Y_.prototype.g=function(){return new PE(this.l,this.j)},Y_.prototype.i=function(n){return function(){return n}}({}),Si(PE,ui);var oM=0;function q1(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Q_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,X_(n)}function X_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=PE.prototype).open=function(n,e){if(this.readyState!=oM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,X_(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Q_(this)),this.readyState=oM},wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,X_(this)),this.g&&(this.readyState=3,X_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q1(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Q_(this):X_(this),3==this.readyState&&q1(this)}},wt.Va=function(n){this.g&&(this.response=this.responseText=n,Q_(this))},wt.Ua=function(n){this.g&&(this.response=n,Q_(this))},wt.ga=function(){this.g&&Q_(this)},wt.setRequestHeader=function(n,e){this.v.append(n,e)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(PE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pj=$t.JSON.parse;function wr(n){ui.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=W1,this.K=this.L=!1}Si(wr,ui);var W1="",mj=/^https?$/i,gj=["POST","PUT"];function K1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Z1(n),FE(n)}function Z1(n){n.D||(n.D=!0,Mi(n,"complete"),Mi(n,"error"))}function Y1(n){if(n.h&&typeof TS<"u"&&(!n.C[1]||4!=Dc(n)||2!=n.aa()))if(n.v&&4==Dc(n))ZS(n.Ha,0,n);else if(Mi(n,"readystatechange"),4==Dc(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(P1)[1]||null;if(!i&&$t.self&&$t.self.location){var l=$t.self.location.protocol;i=l.substr(0,l.length-1)}r=!mj.test(i?i.toLowerCase():"")}t=r}if(t)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var c=2<Dc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",Z1(n)}}finally{FE(n)}}}function FE(n,e){if(n.g){Q1(n);const t=n.g,r=n.C[0]?mE:null;n.g=null,n.C=null,e||Mi(n,"ready");try{t.onreadystatechange=r}catch{}}}function Q1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Dc(n){return n.g?n.g.readyState:0}function X1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case W1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function J1(n){let e="";return FS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function aM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=J1(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function J_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eP(n){this.Ca=0,this.i=[],this.j=new DE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=J_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=J_("baseRetryDelayMs",5e3,n),this.bb=J_("retryDelaySeedMs",1e4,n),this.$a=J_("forwardChannelMaxRetries",2,n),this.ta=J_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new j1(n&&n.concurrentRequestLimit),this.Fa=new dj,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function lM(n){if(tP(n),3==n.G){var e=n.U++,t=Cc(n.F);ir(t,"SID",n.I),ir(t,"RID",e),ir(t,"TYPE","terminate"),ev(n,t),(e=new G_(n,n.j,e,void 0)).K=2,e.v=NE(Cc(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=cP(e.l,null),e.g.da(e.v)),e.F=Date.now(),z_(e)}lP(n)}function LE(n){n.g&&(cM(n),n.g.cancel(),n.g=null)}function tP(n){LE(n),n.u&&($t.clearTimeout(n.u),n.u=null),UE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function VE(n){H1(n.h)||n.m||(n.m=!0,g1(n.Ja,n),n.C=0)}function nP(n,e){var t;t=e?e.m:n.U++;const r=Cc(n.F);ir(r,"SID",n.I),ir(r,"RID",t),ir(r,"AID",n.T),ev(n,r),n.o&&n.s&&aM(r,n.o,n.s),t=new G_(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=rP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),iM(n.h,t),tM(t,r,e)}function ev(n,e){n.ia&&FS(n.ia,function(t,r){ir(e,r,t)}),n.l&&O1({},function(t,r){ir(e,r,t)})}function rP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Gi(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let f=!0;for(let y=0;y<t;y++){let E=i[y].h;const T=i[y].g;if(E-=l,0>E)l=Math.max(0,i[y].h-100),f=!1;else try{hj(T,c,"req"+E+"_")}catch{r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function iP(n){n.g||n.u||(n.Z=1,g1(n.Ia,n),n.A=0)}function uM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=H_(Gi(n.Ia,n),aP(n,n.A)),n.A++,0))}function cM(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function sP(n){n.g=new G_(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Cc(n.sa);ir(e,"RID","rpc"),ir(e,"SID",n.I),ir(e,"CI",n.L?"0":"1"),ir(e,"AID",n.T),ir(e,"TYPE","xmlhttp"),ev(n,e),n.o&&n.s&&aM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=NE(Cc(e)),t.s=null,t.P=!0,x1(t,n)}function UE(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function oP(n,e){var t=null;if(n.g==e){UE(n),cM(n),n.g=null;var r=2}else{if(!rM(n.h,e))return;t=e.D,G1(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Mi(r=TE(),new D1(r,t)),VE(n)}else iP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function _j(n,e){return!($1(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=H_(Gi(n.Ja,n,e),aP(n,n.C)),n.C++,0)))}(n,e)||2==r&&uM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Rf(n,5);break;case 4:Rf(n,10);break;case 3:Rf(n,6);break;default:Rf(n,2)}}function aP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Rf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Gi(n.kb,n);t||(t=new kf("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||kE(t,"https"),NE(t)),function fj(n,e){const t=new DE;if($t.Image){const r=new Image;r.onload=yE(OE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yE(OE,t,r,"TestLoadImage: error",!1,e),r.onabort=yE(OE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yE(OE,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ls(2);n.G=0,n.l&&n.l.va(e),lP(n),tP(n)}function lP(n){if(n.G=0,n.la=[],n.l){const e=z1(n.h);(0!=e.length||0!=n.i.length)&&(e1(n.la,e),e1(n.la,n.i),n.h.i.length=0,SS(n.i),n.i.length=0),n.l.ua()}}function uP(n,e,t){var r=t instanceof kf?Cc(t):new kf(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),RE(r,r.m);else{var i=$t.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new kf(null,void 0);r&&kE(l,r),e&&(l.g=e),i&&RE(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&ir(r,t,e),ir(r,"VER",n.ma),ev(n,r),r}function cP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Da&&!n.ra?new Y_({jb:!0}):n.ra)).Ka(n.H),e}function dP(){}function BE(){if(Vm&&!(10<=Number(PB)))throw Error("Environmental error: no available transport.")}function bo(n,e){ui.call(this),this.g=new eP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!_E(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_E(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new jm(this)}function hP(n){QS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fP(){XS.call(this),this.status=1}function jm(n){this.g=n}(wt=wr.prototype).Ka=function(n){this.L=n},wt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():JS.g(),this.C=function A1(n){return n.h||(n.h=n.i())}(this.u?this.u:JS),this.g.onreadystatechange=Gi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void K1(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=JO(gj,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of t)this.g.setRequestHeader(l,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Q1(this),0<this.B&&((this.K=function yj(n){return Vm&&function OB(){return function xB(n){var e=NB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=t1(String(bE)).split("."),t=t1("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=MS(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||MS(0==i[2].length,0==l[2].length)||MS(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gi(this.qa,this)):this.A=ZS(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){K1(this,l)}},wt.qa=function(){typeof TS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),FE(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),FE(this,!0)),wr.X.M.call(this)},wt.Ha=function(){this.s||(this.F||this.v||this.l?Y1(this):this.fb())},wt.fb=function(){Y1(this)},wt.aa=function(){try{return 2<Dc(this)?this.g.status:-1}catch{return-1}},wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pj(e)}},wt.Ea=function(){return this.m},wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=eP.prototype).ma=8,wt.G=1,wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new G_(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=a1(l),u1(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rP(this,i,e),ir(t=Cc(this.F),"RID",n),ir(t,"CVER",22),this.D&&ir(t,"X-HTTP-Session-Id",this.D),ev(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(J1(l)))+"&"+e:this.o&&aM(t,this.o,l)),iM(this.h,i),this.Ya&&ir(t,"TYPE","init"),this.O?(ir(t,"$req",e),ir(t,"SID","null"),i.Z=!0,tM(i,t,null)):tM(i,t,e),this.G=2}}else 3==this.G&&(n?nP(this,n):0==this.i.length||H1(this.h)||nP(this))},wt.Ia=function(){if(this.u=null,sP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=H_(Gi(this.eb,this),n)}},wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ls(10),LE(this),sP(this))},wt.cb=function(){null!=this.v&&(this.v=null,LE(this),uM(this),ls(19))},wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ls(2)):(this.j.info("Failed to ping google.com"),ls(1))},(wt=dP.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Ra=function(){},BE.prototype.g=function(n,e){return new bo(n,e)},Si(bo,ui),bo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ls(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=uP(n,null,n.V),VE(n)},bo.prototype.close=function(){lM(this.g)},bo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zS(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&VE(e)},bo.prototype.M=function(){this.g.l=null,delete this.j,lM(this.g),delete this.g,bo.X.M.call(this)},Si(hP,QS),Si(fP,XS),Si(jm,dP),jm.prototype.xa=function(){Mi(this.g,"a")},jm.prototype.wa=function(n){Mi(this.g,new hP(n))},jm.prototype.va=function(n){Mi(this.g,new fP)},jm.prototype.ua=function(){Mi(this.g,"b")},BE.prototype.createWebChannel=BE.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,AE.NO_ERROR=0,AE.TIMEOUT=8,AE.HTTP_ERROR=6,T1.COMPLETE="complete",S1.EventType=$_,$_.OPEN="a",$_.CLOSE="b",$_.ERROR="c",$_.MESSAGE="d",ui.prototype.listen=ui.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.Oa,wr.prototype.getLastErrorCode=wr.prototype.Ea,wr.prototype.getStatus=wr.prototype.aa,wr.prototype.getResponseJson=wr.prototype.Sa,wr.prototype.getResponseText=wr.prototype.fa,wr.prototype.send=wr.prototype.da,wr.prototype.setWithCredentials=wr.prototype.Ka;var vj=Ic.createWebChannelTransport=function(){return new BE},bj=Ic.getStatEventTarget=function(){return TE()},dM=Ic.ErrorCode=AE,wj=Ic.EventType=T1,Ej=Ic.Event=Mf,pP=Ic.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ij=Ic.FetchXmlHttpFactory=Y_,jE=Ic.WebChannel=S1,Cj=Ic.XhrIo=wr;const mP="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let Hm="9.15.0";const $d=new Bd.Yd("@firebase/firestore");function hM(){return $d.logLevel}function Pe(n,...e){if($d.logLevel<=Bd.in.DEBUG){const t=e.map(fM);$d.debug(`Firestore (${Hm}): ${n}`,...t)}}function Sr(n,...e){if($d.logLevel<=Bd.in.ERROR){const t=e.map(fM);$d.error(`Firestore (${Hm}): ${n}`,...t)}}function Nf(n,...e){if($d.logLevel<=Bd.in.WARN){const t=e.map(fM);$d.warn(`Firestore (${Hm}): ${n}`,...t)}}function fM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Hm}) INTERNAL ASSERTION FAILED: `+n;throw Sr(e),new Error(e)}function bt(n,e){n||ot()}function Ze(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends bn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class Sj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mj{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const E=c;e.enqueueRetryable((0,Ee.Z)(function*(){yield E.promise,yield l(r.currentUser)}))},y=E=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new gP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new ci(e)}}class xj{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class kj{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new xj(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rj{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.A;return this.A=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.A=t.token,new yP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _P{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Nj(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function $m(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function vP(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new sr(0,0))}static max(){return new It(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tv{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends tv{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const Oj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends tv{construct(e,t,r){return new Er(e,t,r)}static isValidIdentifier(e){return Oj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(l(),i++)}if(l(),c)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(t)}static emptyPath(){return new Er([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(dn.fromString(e))}static fromName(e){return new We(dn.fromString(e).popFirst(5))}static empty(){return new We(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new dn(e.slice()))}}class HE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function pM(n){return n.fields.find(e=>2===e.kind)}function Of(n){return n.fields.filter(e=>2!==e.kind)}HE.UNKNOWN_ID=-1;class $E{constructor(e,t){this.fieldPath=e,this.kind=t}}class nv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nv(0,wo.min())}}function bP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new wo(i,We.empty(),e)}function wP(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wo(It.min(),We.empty(),-1)}static max(){return new wo(It.max(),We.empty(),-1)}}function mM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const EP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gd(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Ee.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==EP)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),gM.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,l=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++l,c&&l===i&&t()},y=>r(y))}),c=!0,l===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const l=e.length,c=new Array(l);let f=0;for(let y=0;y<l;y++){const E=y;t(e[E]).next(T=>{c[E]=T,++f,f===l&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ce((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class GE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Zr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new rv(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=yM(r.target.error);this.P.reject(new rv(e,i))}}static open(e,t,r,i){try{return new GE(t,e.transaction(i,r))}catch(l){throw new rv(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vj(t)}}class Ya{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Ya.D((0,bn.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Pf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,bn.hl)())return!1;if(Ya.N())return!0;const e=(0,bn.z$)(),t=Ya.D(e),r=0<t&&t<10,i=Ya.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new rv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Ne(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ne(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new rv(e,f))},l.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ee.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.F(e);const y=GE.open(l.db,e,c?"readonly":"readwrite",r),E=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),ce.reject(T))).toPromise();return E.catch(()=>{}),yield y.v,E}catch(y){const E=y,T="FirebaseError"!==E.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),l.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lj{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Pf(this.q.delete())}}class rv extends Ne{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zd(n){return"IndexedDbTransactionError"===n.name}class Vj{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pf(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Pf(this.store.add(e))}get(e){return Pf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Pf(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Pf(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(c,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ce((l,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,c,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=l=>{const c=yM(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}H(e,t){const r=[];return new ce((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const y=new Lj(f),E=t(f.primaryKey,f.value,y);if(E instanceof ce){const T=E.catch(x=>(y.done(),ce.reject(x)));r.push(T)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pf(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=yM(r.target.error);t(i)}})}let CP=!1;function yM(n){const e=Ya.D((0,bn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CP||(CP=!0,setTimeout(()=>{throw r},0)),r}}return n}class Uj{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){zd(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Gd(r)}yield t.nt(6e4)}))}}class Bj{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return ce.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(f=>{i-=f,r.add(c)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,l)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const c=wP(l);mM(c,r)>0&&(r=c)}),new wo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Eo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class jj{constructor(e,t,r,i,l,c,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class qd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qd&&e.projectId===this.projectId&&e.database===this.database}}function DP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ff(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function iv(n){return null==n}function sv(n){return 0===n&&1/n==-1/0}function AP(n){return"number"==typeof n&&Number.isInteger(n)&&!sv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Yr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const $j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wd(n){if(bt(!!n),"string"==typeof n){let e=0;const t=$j.exec(n);if(bt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(n.seconds),nanos:Ir(n.nanos)}}function Ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lf(n){return"string"==typeof n?Yr.fromBase64String(n):Yr.fromUint8Array(n)}function _M(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SP(n){const e=n.mapValue.fields.__previous_value__;return _M(e)?SP(e):e}function ov(n){const e=Wd(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}const Kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zE={nullValue:"NULL_VALUE"};function Vf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_M(n)?4:RP(n)?9007199254740991:10:ot()}function iu(n,e){if(n===e)return!0;const t=Vf(n);if(t!==Vf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ov(n).isEqual(ov(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Wd(r.timestampValue),c=Wd(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Lf(n.bytesValue).isEqual(Lf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ir(r.geoPointValue.latitude)===Ir(i.geoPointValue.latitude)&&Ir(r.geoPointValue.longitude)===Ir(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ir(r.integerValue)===Ir(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Ir(r.doubleValue),c=Ir(i.doubleValue);return l===c?sv(l)===sv(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return $m(n.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(DP(l)!==DP(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===c[f]||!iu(l[f],c[f])))return!1;return!0}(n,e);default:return ot()}var i}function av(n,e){return void 0!==(n.values||[]).find(t=>iu(t,e))}function Zd(n,e){if(n===e)return 0;const t=Vf(n),r=Vf(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=Ir(i.integerValue||i.doubleValue),f=Ir(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return MP(n.timestampValue,e.timestampValue);case 4:return MP(ov(n),ov(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(i,l){const c=Lf(i),f=Lf(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),f=l.split("/");for(let y=0;y<c.length&&y<f.length;y++){const E=Gt(c[y],f[y]);if(0!==E)return E}return Gt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Gt(Ir(i.latitude),Ir(l.latitude));return 0!==c?c:Gt(Ir(i.longitude),Ir(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],f=l.values||[];for(let y=0;y<c.length&&y<f.length;++y){const E=Zd(c[y],f[y]);if(E)return E}return Gt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Kd.mapValue&&l===Kd.mapValue)return 0;if(i===Kd.mapValue)return 1;if(l===Kd.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),y=l.fields||{},E=Object.keys(y);f.sort(),E.sort();for(let T=0;T<f.length&&T<E.length;++T){const x=Gt(f[T],E[T]);if(0!==x)return x;const L=Zd(c[f[T]],y[E[T]]);if(0!==L)return L}return Gt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw ot()}}function MP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Wd(n),r=Wd(e),i=Gt(t.seconds,r.seconds);return 0!==i?i:Gt(t.nanos,r.nanos)}function Gm(n){return vM(n)}function vM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Wd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lf(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=vM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of i)c?c=!1:l+=",",l+=`${f}:${vM(r.fields[f])}`;return l+"}"}(n.mapValue):ot();var e}function Uf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bM(n){return!!n&&"integerValue"in n}function lv(n){return!!n&&"arrayValue"in n}function xP(n){return!!n&&"nullValue"in n}function kP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qE(n){return!!n&&"mapValue"in n}function uv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ff(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gj(n){return"nullValue"in n?zE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uf(qd.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function zj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uf(qd.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Kd:ot()}function NP(n,e){const t=Zd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function OP(n,e){const t=Zd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yd{constructor(e,t){this.position=e,this.inclusive=t}}function PP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?We.comparator(We.fromName(c.referenceValue),t.key):Zd(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function FP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!iu(n.position[t],e.position[t]))return!1;return!0}class LP{}class sn extends LP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new qj(e,t,r):"array-contains"===t?new Zj(e,r):"in"===t?new zP(e,r):"not-in"===t?new Yj(e,r):"array-contains-any"===t?new Qj(e,r):new sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Wj(e,r):new Kj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zd(t,this.value)):null!==t&&Vf(this.value)===Vf(t)&&this.matchesComparison(Zd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends LP{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Sn(e,t)}matches(e){return zm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function zm(n){return"and"===n.op}function wM(n){return"or"===n.op}function VP(n){return UP(n)&&zm(n)}function UP(n){for(const e of n.filters)if(e instanceof Sn)return!1;return!0}function BP(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Gm(n.value);{const e=n.filters.map(t=>BP(t)).join(",");return`${n.op}(${e})`}}function jP(n,e){return n instanceof sn?(t=n,(r=e)instanceof sn&&t.op===r.op&&t.field.isEqual(r.field)&&iu(t.value,r.value)):n instanceof Sn?function(t,r){return r instanceof Sn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,l,c)=>i&&jP(l,r.filters[c]),!0)}(n,e):void ot();var t,r}function HP(n,e){const t=n.filters.concat(e);return Sn.create(t,n.op)}function $P(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${Gm(e.value)}`:n instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map($P).join(" ,")+"}"}(n):"Filter";var e}class qj extends sn{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wj extends sn{constructor(e,t){super(e,"in",t),this.keys=GP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kj extends sn{constructor(e,t){super(e,"not-in",t),this.keys=GP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class Zj extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&av(t.arrayValue,this.value)}}class zP extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&av(this.value.arrayValue,t)}}class Yj extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(av(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!av(this.value.arrayValue,t)}}class Qj extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>av(this.value.arrayValue,r))}}class qm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Cr{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new Cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new WE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new WE(this.root,e,this.comparator,!1)}getReverseIterator(){return new WE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new WE(this.root,e,this.comparator,!0)}}class WE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??xi.RED,this.left=i??xi.EMPTY,this.right=l??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new xi(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qP(this.data.getIterator())}getIteratorFrom(e){return new qP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class qP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wm(n){return n.hasNext()?n.getNext():void 0}class Io{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new Io([])}unionWith(e){let t=new xn(Er.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $m(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uv(t)}setAll(e){let t=Er.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=uv(c):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());qE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return iu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ff(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new ki(uv(this.value))}}function WP(n){const e=[];return Ff(n.fields,(t,r)=>{const i=new Er([t]);if(qE(r)){const l=WP(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new Io(e)}class Kn{constructor(e,t,r,i,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Kn(e,0,It.min(),It.min(),It.min(),ki.empty(),0)}static newFoundDocument(e,t,r,i){return new Kn(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,It.min(),It.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,It.min(),It.min(),ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jj{constructor(e,t=null,r=[],i=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=f,this.ft=null}}function EM(n,e=null,t=[],r=[],i=null,l=null,c=null){return new Jj(n,e,t,r,i,l,c)}function Bf(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>BP(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),iv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gm(r)).join(",")),e.ft=t}return e.ft}function cv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FP(n.startAt,e.startAt)&&FP(n.endAt,e.endAt)}function KE(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ZE(n,e){return n.filters.filter(t=>t instanceof sn&&t.field.isEqual(e))}function KP(n,e,t){let r=zE,i=!0;for(const l of ZE(n,e)){let c=zE,f=!0;switch(l.op){case"<":case"<=":c=Gj(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,f=!1;break;case"!=":case"not-in":c=zE}NP({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];NP({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function ZP(n,e,t){let r=Kd,i=!0;for(const l of ZE(n,e)){let c=Kd,f=!0;switch(l.op){case">=":case">":c=zj(l.value),f=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,f=!1;break;case"!=":case"not-in":c=Kd}OP({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];OP({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Tc{constructor(e,t=null,r=[],i=[],l=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=y,this.dt=null,this._t=null}}function YP(n,e,t,r,i,l,c,f){return new Tc(n,e,t,r,i,l,c,f)}function Km(n){return new Tc(n)}function QP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function IM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YE(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function CM(n){return null!==n.collectionGroup}function jf(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=YE(e),r=IM(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new qm(t)),e.dt.push(new qm(Er.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new qm(Er.keyField(),l))}}}return e.dt}function us(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=EM(e.path,e.collectionGroup,jf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of jf(e))t.push(new qm(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Yd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yd(e.startAt.position,e.startAt.inclusive):null;e._t=EM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function DM(n,e){e.getFirstInequalityField(),YE(n);const t=n.filters.concat([e]);return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function QE(n,e,t){return new Tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dv(n,e){return cv(us(n),us(e))&&n.limitType===e.limitType}function XP(n){return`${Bf(us(n))}|lt:${n.limitType}`}function TM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>$P(r)).join(", ")}]`),iv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gm(r)).join(",")),`Target(${t})`}(us(n))}; limitType=${n.limitType})`}function AM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):We.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of jf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const f=PP(i,l,c);return i.inclusive?f<=0:f<0}(t.startAt,jf(t),r)||t.endAt&&!function(i,l,c){const f=PP(i,l,c);return i.inclusive?f>=0:f>0}(t.endAt,jf(t),r)));var t,r}function JP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eF(n){return(e,t)=>{let r=!1;for(const i of jf(n)){const l=eH(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function eH(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(i,l,c){const f=l.data.field(i),y=c.data.field(i);return null!==f&&null!==y?Zd(f,y):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function tF(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sv(e)?"-0":e}}function nF(n){return{integerValue:""+n}}function rF(n,e){return AP(e)?nF(e):tF(n,e)}class XE{constructor(){this._=void 0}}function tH(n,e,t){return n instanceof Zm?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Hf?sF(n,e):n instanceof $f?oF(n,e):function(r,i){const l=iF(r,i),c=aF(l)+aF(r.gt);return bM(l)&&bM(r.gt)?nF(c):tF(r.yt,c)}(n,e)}function nH(n,e,t){return n instanceof Hf?sF(n,e):n instanceof $f?oF(n,e):t}function iF(n,e){return n instanceof Ym?bM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Zm extends XE{}class Hf extends XE{constructor(e){super(),this.elements=e}}function sF(n,e){const t=lF(e);for(const r of n.elements)t.some(i=>iu(i,r))||t.push(r);return{arrayValue:{values:t}}}class $f extends XE{constructor(e){super(),this.elements=e}}function oF(n,e){let t=lF(e);for(const r of n.elements)t=t.filter(i=>!iu(i,r));return{arrayValue:{values:t}}}class Ym extends XE{constructor(e,t){super(),this.yt=e,this.gt=t}}function aF(n){return Ir(n.integerValue||n.doubleValue)}function lF(n){return lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hv{constructor(e,t){this.field=e,this.transform=t}}class iH{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function JE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class eI{}function uF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Xm(n.key,or.none()):new Qm(n.key,n.data,or.none());{const t=n.data,r=ki.empty();let i=new xn(Er.comparator);for(let l of e.fields)if(!i.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),i=i.add(l)}return new Ac(n.key,r,new Io(i.toArray()),or.none())}}function sH(n,e,t){n instanceof Qm?function(r,i,l){const c=r.value.clone(),f=hF(r.fieldTransforms,i,l.transformResults);c.setAll(f),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ac?function(r,i,l){if(!JE(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=hF(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(dF(r)),f.setAll(c),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fv(n,e,t,r){return n instanceof Qm?function(i,l,c,f){if(!JE(i.precondition,l))return c;const y=i.value.clone(),E=fF(i.fieldTransforms,f,l);return y.setAll(E),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ac?function(i,l,c,f){if(!JE(i.precondition,l))return c;const y=fF(i.fieldTransforms,f,l),E=l.data;return E.setAll(dF(i)),E.setAll(y),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,JE(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function oH(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=iF(r.transform,i||null);null!=l&&(null===t&&(t=ki.empty()),t.set(r.field,l))}return t||null}function cF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&$m(t,r,(i,l)=>function rH(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hf&&r instanceof Hf||t instanceof $f&&r instanceof $f?$m(t.elements,r.elements,iu):t instanceof Ym&&r instanceof Ym?iu(t.gt,r.gt):t instanceof Zm&&r instanceof Zm);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Qm extends eI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends eI{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hF(n,e,t){const r=new Map;bt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,f=e.data.field(l.field);r.set(l.field,nH(c,f,t[i]))}return r}function fF(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,tH(l,c,e))}return r}class Xm extends eI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SM extends eI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aH{constructor(e){this.count=e}}var Br,hn;function pF(n){switch(n){default:return ot();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function mF(n){if(void 0===n)return Sr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Br.OK:return he.OK;case Br.CANCELLED:return he.CANCELLED;case Br.UNKNOWN:return he.UNKNOWN;case Br.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Br.INTERNAL:return he.INTERNAL;case Br.UNAVAILABLE:return he.UNAVAILABLE;case Br.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Br.NOT_FOUND:return he.NOT_FOUND;case Br.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Br.ABORTED:return he.ABORTED;case Br.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Br.DATA_LOSS:return he.DATA_LOSS;default:return ot()}}(hn=Br||(Br={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class Qd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ff(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return TP(this.inner)}size(){return this.innerSize}}const lH=new Cr(We.comparator);function Vs(){return lH}const gF=new Cr(We.comparator);function pv(...n){let e=gF;for(const t of n)e=e.insert(t.key,t);return e}function yF(n){let e=gF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function su(){return mv()}function _F(){return mv()}function mv(){return new Qd(n=>n.toString(),(n,e)=>n.isEqual(e))}const uH=new Cr(We.comparator),cH=new xn(We.comparator);function Kt(...n){let e=cH;for(const t of n)e=e.add(t);return e}const dH=new xn(Gt);function tI(){return dH}class gv{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gv(It.min(),i,tI(),Vs(),Kt())}}class yv{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yv(r,t,Kt(),Kt(),Kt())}}class nI{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class vF{constructor(e,t){this.targetId=e,this.Et=t}}class bF{constructor(e,t,r=Yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class wF{constructor(){this.At=0,this.Rt=IF(),this.bt=Yr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Kt(),t=Kt(),r=Kt();return this.Rt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new yv(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=IF()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class hH{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Vs(),this.qt=EF(),this.Ut=new xn(Gt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const l=i.target;if(KE(l))if(0===r){const c=new We(l.path);this.Qt(t,c,Kn.newNoDocument(c,It.min()))}else bt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,c)=>{const f=this.Yt(c);if(f){if(l.current&&KE(f.target)){const y=new We(f.target.path);null!==this.Lt.get(y)||this.te(c,y)||this.Qt(c,y,Kn.newNoDocument(y,e))}l.St&&(t.set(c,l.Ct()),l.xt())}});let r=Kt();this.qt.forEach((l,c)=>{let f=!0;c.forEachWhile(y=>{const E=this.Yt(y);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.Lt.forEach((l,c)=>c.setReadTime(e));const i=new gv(e,t,this.Ut,this.Lt,r);return this.Lt=Vs(),this.qt=EF(),this.Ut=new xn(Gt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new wF,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new xn(Gt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new wF),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function EF(){return new Cr(We.comparator)}function IF(){return new Cr(We.comparator)}const fH={asc:"ASCENDING",desc:"DESCENDING"},pH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mH={and:"AND",or:"OR"};class gH{constructor(e,t){this.databaseId=e,this.wt=t}}function Jm(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CF(n,e){return n.wt?e.toBase64():e.toUint8Array()}function yH(n,e){return Jm(n,e.toTimestamp())}function Mr(n){return bt(!!n),It.fromTimestamp(function(e){const t=Wd(e);return new sr(t.seconds,t.nanos)}(n))}function MM(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function DF(n){const e=dn.fromString(n);return bt(OF(e)),e}function _v(n,e){return MM(n.databaseId,e.path)}function ou(n,e){const t=DF(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(AF(t))}function xM(n,e){return MM(n.databaseId,e)}function TF(n){const e=DF(n);return 4===e.length?dn.emptyPath():AF(e)}function vv(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AF(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function SF(n,e,t){return{name:_v(n,e),fields:t.value.mapValue.fields}}function MF(n,e,t){const r=ou(n,e.name),i=Mr(e.updateTime),l=e.createTime?Mr(e.createTime):It.min(),c=new ki({mapValue:{fields:e.fields}}),f=Kn.newFoundDocument(r,i,l,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function bv(n,e){let t;if(e instanceof Qm)t={update:SF(n,e.key,e.value)};else if(e instanceof Xm)t={delete:_v(n,e.key)};else if(e instanceof Ac)t={update:SF(n,e.key,e.data),updateMask:DH(e.fieldMask)};else{if(!(e instanceof SM))return ot();t={verify:_v(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Zm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $f)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ym)return{fieldPath:l.field.canonicalString(),increment:c.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:yH(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function kM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?or.updateTime(Mr(i.updateTime)):void 0!==i.exists?or.exists(i.exists):or.none():or.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let f=null;"setToServerValue"in c?(bt("REQUEST_TIME"===c.setToServerValue),f=new Zm):"appendMissingElements"in c?f=new Hf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new $f(c.removeAllFromArray.values||[]):"increment"in c?f=new Ym(l,c.increment):ot();const y=Er.fromServerFormat(c.fieldPath);return new hv(y,f)}(n,i)):[];var i;if(e.update){const i=ou(n,e.update.name),l=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Io((e.updateMask.fieldPaths||[]).map(E=>Er.fromServerFormat(E)));return new Ac(i,l,c,t,r)}return new Qm(i,l,t,r)}if(e.delete){const i=ou(n,e.delete);return new Xm(i,t)}if(e.verify){const i=ou(n,e.verify);return new SM(i,t)}return ot()}function xF(n,e){return{documents:[xM(n,e.path)]}}function RM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=xM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return NF(Sn.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(E=>{return{field:eg((T=E).field),direction:EH(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(E=e.limit,n.wt||iv(E)?E:{value:E});var E,f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function kF(n){let e=TF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){bt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=function(T){const x=RF(T);return x instanceof Sn&&VP(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new qm(tg((x=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(T){let x;return x="object"==typeof T?T.value:T,iv(x)?null:x}(t.limit));let y=null;var T;t.startAt&&(y=new Yd((T=t.startAt).values||[],!!T.before));let E=null;return t.endAt&&(E=function(T){return new Yd(T.values||[],!T.before)}(t.endAt)),YP(e,i,c,l,f,"F",y,E)}function RF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tg(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=tg(e.unaryFilter.field);return sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tg(e.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tg(e.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?sn.create(tg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(t=>RF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function EH(n){return fH[n]}function IH(n){return pH[n]}function CH(n){return mH[n]}function eg(n){return{fieldPath:n.canonicalString()}}function tg(n){return Er.fromServerFormat(n.fieldPath)}function NF(n){return n instanceof sn?function(e){if("=="===e.op){if(kP(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NAN"}};if(xP(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kP(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NOT_NAN"}};if(xP(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eg(e.field),op:IH(e.op),value:e.value}}}(n):n instanceof Sn?function(e){const t=e.getFilters().map(r=>NF(r));return 1===t.length?t[0]:{compositeFilter:{op:CH(e.op),filters:t}}}(n):ot()}function DH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PF(e)),e=TH(n.get(t),e);return PF(e)}function TH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function PF(n){return n+"\x01\x01"}function au(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&ot(),n.charAt(c+1)){case"\x01":const f=n.substring(l,c);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:ot()}l=c+2}return new dn(r)}const FF=["userId","batchId"];function rI(n,e){return[n,cs(e)]}function LF(n,e,t){return[n,cs(e),t]}const AH={},SH=["prefixPath","collectionGroup","readTime","documentId"],MH=["prefixPath","collectionGroup","documentId"],xH=["collectionGroup","readTime","prefixPath","documentId"],kH=["canonicalId","targetId"],RH=["targetId","path"],NH=["path","targetId"],OH=["collectionId","parent"],PH=["indexId","uid"],FH=["uid","sequenceNumber"],LH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VH=["indexId","uid","orderedDocumentKey"],UH=["userId","collectionPath","documentId"],BH=["userId","collectionPath","largestBatchId"],jH=["userId","collectionGroup","largestBatchId"],VF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HH=[...VF,"documentOverlays"],UF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BF=UF,$H=[...BF,"indexConfiguration","indexState","indexEntries"];class NM extends IP{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function di(n,e){const t=Ze(n);return Ya.M(t.se,e)}class OM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&sH(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_F();return this.mutations.forEach(i=>{const l=e.get(i.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(i.key)?null:f;const y=uF(c,f);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&$m(this.mutations,e.mutations,(t,r)=>cF(t,r))&&$m(this.baseMutations,e.baseMutations,(t,r)=>cF(t,r))}}class PM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){bt(e.mutations.length===r.length);let i=uH;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new PM(e,t,r,i)}}class FM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xd{constructor(e,t,r,i,l=It.min(),c=It.min(),f=Yr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Xd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class jF{constructor(e){this.ie=e}}function HF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:iI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_v(i=n.ie,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Jm(i,l.version.toTimestamp()),createTime:Jm(i,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gf(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Gf(e.version)}}var i,l;return r}function iI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zf(n){const e=new sr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function qf(n,e){const t=(e.baseMutations||[]).map(l=>kM(n.ie,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>kM(n.ie,l)),i=sr.fromMillis(e.localWriteTimeMs);return new OM(e.batchId,i,t,r)}function wv(n){const e=zf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?zf(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(bt(1===(i=n.query).documents.length),r=us(Km(TF(i.documents[0])))):r=us(kF(n.query)),new Xd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Yr.fromBase64String(n.resumeToken))}function $F(n,e){const t=Gf(e.snapshotVersion),r=Gf(e.lastLimboFreeSnapshotVersion);let i;i=KE(e.target)?xF(n.ie,e.target):RM(n.ie,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LM(n){const e=kF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?QE(e,e.limit,"L"):e}function VM(n,e){return new FM(e.largestBatchId,kM(n.ie,e.overlayMutation))}function GF(n,e){const t=e.path.lastSegment();return[n,cs(e.path.popLast()),t]}function zF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gf(r.readTime),documentKey:cs(r.documentKey.path),largestBatchId:r.largestBatchId}}class zH{getBundleMetadata(e,t){return qF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:zf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return qF(e).put({bundleId:(r=t).id,createTime:Gf(Mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return WF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:LM(i.bundledQuery),readTime:zf(i.readTime)};var i})}saveNamedQuery(e,t){return WF(e).put({name:(r=t).name,readTime:Gf(Mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qF(n){return di(n,"bundles")}function WF(n){return di(n,"namedQueries")}class sI{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new sI(e,t.uid||"")}getOverlay(e,t){return Ev(e).get(GF(this.userId,t)).next(r=>r?VM(this.yt,r):null)}getOverlays(e,t){const r=su();return ce.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const f=new FM(t,c);i.push(this.oe(e,f))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(cs(c.getCollectionPath())));const l=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Ev(e).Y("collectionPathOverlayIndex",f))}),ce.waitFor(l)}getOverlaysForCollection(e,t,r){const i=su(),l=cs(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Ev(e).W("collectionPathOverlayIndex",c).next(f=>{for(const y of f){const E=VM(this.yt,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=su();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ev(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,E,T)=>{const x=VM(this.yt,E);l.size()<i||x.largestBatchId===c?(l.set(x.getKey(),x),c=x.largestBatchId):T.done()}).next(()=>l)}oe(e,t){return Ev(e).put(function(r,i,l){const[c,f,y]=GF(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:bv(r.ie,l.mutation)}}(this.yt,this.userId,t))}}function Ev(n){return di(n,"documentOverlays")}class Wf{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ir(e.integerValue));else if("doubleValue"in e){const r=Ir(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),sv(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Lf(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?RP(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ot()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),We.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function qH(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function KF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=qH(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Wf.Ie=new Wf;class WH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=KF(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=KF(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class KH{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class ZH{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Iv{constructor(){this.$e=new WH,this.Be=new KH(this.$e),this.Le=new ZH(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Kf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Kf(this.indexId,this.documentKey,this.arrayValue,r)}}function Jd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ZF(n.arrayValue,e.arrayValue),0!==t?t:(t=ZF(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function ZF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class YH{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){bt(e.collectionGroup===this.collectionId);const t=pM(e);if(void 0!==t&&!this.We(t))return!1;const r=Of(e);let i=0,l=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const c=r[i];if(!this.ze(this.Qe,c)||!this.He(this.Ke[l++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(l>=this.Ke.length||!this.He(this.Ke[l++],c))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function YF(n){var e,t;if(bt(n instanceof sn||n instanceof Sn),n instanceof sn){if(n instanceof zP){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>sn.create(n.field,"==",l)))||[];return Sn.create(i,"or")}return n}const r=n.filters.map(i=>YF(i));return Sn.create(r,n.op)}function QH(n){if(0===n.getFilters().length)return[];const e=jM(YF(n));return bt(QF(e)),UM(e)||BM(e)?[e]:e.getFilters()}function UM(n){return n instanceof sn}function BM(n){return n instanceof Sn&&VP(n)}function QF(n){return UM(n)||BM(n)||function(e){if(e instanceof Sn&&wM(e)){for(const t of e.getFilters())if(!UM(t)&&!BM(t))return!1;return!0}return!1}(n)}function jM(n){if(bt(n instanceof sn||n instanceof Sn),n instanceof sn)return n;if(1===n.filters.length)return jM(n.filters[0]);const e=n.filters.map(r=>jM(r));let t=Sn.create(e,n.op);return t=oI(t),QF(t)?t:(bt(t instanceof Sn),bt(zm(t)),bt(t.filters.length>1),t.filters.reduce((r,i)=>HM(r,i)))}function HM(n,e){let t;return bt(n instanceof sn||n instanceof Sn),bt(e instanceof sn||e instanceof Sn),t=n instanceof sn?e instanceof sn?Sn.create([n,e],"and"):XF(n,e):e instanceof sn?XF(e,n):function(r,i){if(bt(r.filters.length>0&&i.filters.length>0),zm(r)&&zm(i))return HP(r,i.getFilters());const l=wM(r)?r:i,c=wM(r)?i:r,f=l.filters.map(y=>HM(y,c));return Sn.create(f,"or")}(n,e),oI(t)}function XF(n,e){if(zm(e))return HP(e,n.getFilters());{const t=e.filters.map(r=>HM(n,r));return Sn.create(t,"or")}}function oI(n){if(bt(n instanceof sn||n instanceof Sn),n instanceof sn)return n;const e=n.getFilters();if(1===e.length)return oI(e[0]);if(UP(n))return n;const t=e.map(i=>oI(i)),r=[];return t.forEach(i=>{i instanceof sn?r.push(i):i instanceof Sn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Sn.create(r,n.op)}class XH{constructor(){this.Je=new $M}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(wo.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class $M{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xn(dn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(dn.comparator)).toArray()}}const aI=new Uint8Array(0);class JH{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new $M,this.Xe=new Qd(r=>Bf(r),(r,i)=>cv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const l={collectionId:r,parent:cs(i)};return JF(e).put(l)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[vP(t),""],!1,!0);return JF(e).W(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(au(c.parent))}return r})}addFieldIndex(e,t){const r=lI(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const l=r.add(i);if(t.indexState){const c=Dv(e);return l.next(f=>{c.put(zF(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=lI(e),i=Dv(e),l=Cv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Cv(e);let i=!0;const l=new Map;return ce.forEach(this.Ze(t),c=>this.tn(e,c).next(f=>{i&&(i=!!f),l.set(c,f)})).next(()=>{if(i){let c=Kt();const f=[];return ce.forEach(l,(y,E)=>{var T;Pe("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${Bf(t)}`);const x=function(yt,dt){const St=pM(dt);if(void 0===St)return null;for(const Ot of ZE(yt,St.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(E,y),L=function(yt,dt){const St=new Map;for(const Ot of Of(dt))for(const ln of ZE(yt,Ot.fieldPath))switch(ln.op){case"==":case"in":St.set(Ot.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return St.set(Ot.fieldPath.canonicalString(),ln.value),Array.from(St.values())}return null}(E,y),z=function(yt,dt){const St=[];let Ot=!0;for(const ln of Of(dt)){const ps=0===ln.kind?KP(yt,ln.fieldPath,yt.startAt):ZP(yt,ln.fieldPath,yt.startAt);St.push(ps.value),Ot&&(Ot=ps.inclusive)}return new Yd(St,Ot)}(E,y),Y=function(yt,dt){const St=[];let Ot=!0;for(const ln of Of(dt)){const ps=0===ln.kind?ZP(yt,ln.fieldPath,yt.endAt):KP(yt,ln.fieldPath,yt.endAt);St.push(ps.value),Ot&&(Ot=ps.inclusive)}return new Yd(St,Ot)}(E,y),ue=this.en(y,E,z),De=this.en(y,E,Y),et=this.nn(y,E,L),pt=this.sn(y.indexId,x,ue,z.inclusive,De,Y.inclusive,et);return ce.forEach(pt,yt=>r.J(yt,t.limit).next(dt=>{dt.forEach(St=>{const Ot=We.fromSegments(St.documentKey);c.has(Ot)||(c=c.add(Ot),f.push(Ot))})}))}).next(()=>f)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:QH(Sn.create(e.filters,"and")).map(r=>EM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,l,c,f){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),E=y/(null!=t?t.length:1),T=[];for(let x=0;x<y;++x){const L=t?this.rn(t[x/E]):aI,z=this.on(e,L,r[x%E],i),Y=this.un(e,L,l[x%E],c),ue=f.map(De=>this.on(e,L,De,!0));T.push(...this.createRange(z,Y,ue))}return T}on(e,t,r,i){const l=new Kf(e,We.empty(),t,r);return i?l:l.Ue()}un(e,t,r,i){const l=new Kf(e,We.empty(),t,r);return i?l.Ue():l}tn(e,t){const r=new YH(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let c=null;for(const f of l)r.je(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ce.forEach(i,l=>this.tn(e,l).next(c=>{c?0!==r&&c.fields.length<function(f){let y=new xn(Er.comparator),E=!1;for(const T of f.filters)for(const x of T.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?E=!0:y=y.add(x.field));for(const T of f.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(E?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Iv;for(const i of Of(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.qe(i.kind);Wf.Ie.ue(l,c)}return r.Fe()}rn(e){const t=new Iv;return Wf.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Iv;return Wf.Ie.ue(Uf(this.databaseId,t),r.qe(function(i){const l=Of(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Iv);let l=0;for(const c of Of(e)){const f=r[l++];for(const y of i)if(this.hn(t,c.fieldPath)&&lv(f))i=this.ln(i,c,f);else{const E=y.qe(c.kind);Wf.Ie.ue(f,E)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const f of i){const y=new Iv;y.seed(f.Fe()),Wf.Ie.ue(c,y.qe(t.kind)),l.push(y)}return l}hn(e,t){return!!e.filters.find(r=>r instanceof sn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=lI(e),i=Dv(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const c=[];return ce.forEach(l,f=>i.get([f.indexId,this.uid]).next(y=>{c.push(function(E,T){const x=T?new nv(T.sequenceNumber,new wo(zf(T.readTime),new We(au(T.documentKey)),T.largestBatchId)):nv.empty(),L=E.fields.map(([z,Y])=>new $E(Er.fromServerFormat(z),Y));return new HE(E.indexId,E.collectionGroup,L,x)}(f,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Gt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lI(e),l=Dv(e);return this.dn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,y=>l.put(zF(y.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ce.forEach(f,y=>this._n(e,i,y).next(E=>{const T=this.wn(l,y);return E.isEqual(T)?ce.resolve():this.mn(e,l,y,E,T)}))))})}gn(e,t,r,i){return Cv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Cv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Cv(e);let l=new xn(Jd);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(c,f)=>{l=l.add(new Kf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}wn(e,t){let r=new xn(Jd);const i=this.cn(t,e);if(null==i)return r;const l=pM(t);if(null!=l){const c=e.data.field(l.fieldPath);if(lv(c))for(const f of c.arrayValue.values||[])r=r.add(new Kf(t.indexId,e.key,this.rn(f),i))}else r=r.add(new Kf(t.indexId,e.key,aI,i));return r}mn(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,y,E,T,x){const L=f.getIterator(),z=y.getIterator();let Y=Wm(L),ue=Wm(z);for(;Y||ue;){let De=!1,et=!1;if(Y&&ue){const pt=E(Y,ue);pt<0?et=!0:pt>0&&(De=!0)}else null!=Y?et=!0:De=!0;De?(T(ue),ue=Wm(z)):et?(x(Y),Y=Wm(L)):(Y=Wm(L),ue=Wm(z))}}(i,l,Jd,f=>{c.push(this.gn(e,t,r,f))},f=>{c.push(this.yn(e,t,r,f))}),ce.waitFor(c)}dn(e){let t=1;return Dv(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Jd(c,f)).filter((c,f,y)=>!f||0!==Jd(c,y[f-1]));const i=[];i.push(e);for(const c of r){const f=Jd(c,e),y=Jd(c,t);if(0===f)i[0]=e.Ue();else if(f>0&&y<0)i.push(c),i.push(c.Ue());else if(y>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2){if(this.pn(i[c],i[c+1]))return[];l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,aI,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,aI,[]]))}return l}pn(e,t){return Jd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(eL)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||ot())).next(eL)}}function JF(n){return di(n,"collectionParents")}function Cv(n){return di(n,"indexEntries")}function lI(n){return di(n,"indexConfiguration")}function Dv(n){return di(n,"indexState")}function eL(n){bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;mM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wo(e.readTime,e.documentKey,t)}const tL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:c},(T,x,L)=>(f++,L.delete()));l.push(y.next(()=>{bt(1===f)}));const E=[];for(const T of t.mutations){const x=LF(e,T.key.path,t.batchId);l.push(i.delete(x)),E.push(T.key)}return ce.waitFor(l).next(()=>E)}function uI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class cI{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){bt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new cI(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eh(e).Z({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=ng(e),c=eh(e);return c.add({}).next(f=>{bt("number"==typeof f);const y=new OM(f,t,r,i),E=function(L,z,Y){const ue=Y.baseMutations.map(et=>bv(L.ie,et)),De=Y.mutations.map(et=>bv(L.ie,et));return{userId:z,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:ue,mutations:De}}(this.yt,this.userId,y),T=[];let x=new xn((L,z)=>Gt(L.canonicalString(),z.canonicalString()));for(const L of i){const z=LF(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),T.push(c.put(E)),T.push(l.put(z,AH))}return x.forEach(L=>{T.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),ce.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return eh(e).get(t).next(r=>r?(bt(r.userId===this.userId),qf(this.yt,r)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return eh(e).Z({index:"userMutationsIndex",range:i},(c,f,y)=>{f.userId===this.userId&&(bt(f.batchId>=r),l=qf(this.yt,f)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return eh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eh(e).W("userMutationsIndex",t).next(r=>r.map(i=>qf(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=rI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return ng(e).Z({range:i},(c,f,y)=>{const[E,T,x]=c,L=au(T);if(E===this.userId&&t.path.isEqual(L))return eh(e).get(x).next(z=>{if(!z)throw ot();bt(z.userId===this.userId),l.push(qf(this.yt,z))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Gt);const i=[];return t.forEach(l=>{const c=rI(this.userId,l.path),f=IDBKeyRange.lowerBound(c),y=ng(e).Z({range:f},(E,T,x)=>{const[L,z,Y]=E,ue=au(z);L===this.userId&&l.path.isEqual(ue)?r=r.add(Y):x.done()});i.push(y)}),ce.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=rI(this.userId,r),c=IDBKeyRange.lowerBound(l);let f=new xn(Gt);return ng(e).Z({range:c},(y,E,T)=>{const[x,L,z]=y,Y=au(L);x===this.userId&&r.isPrefixOf(Y)?Y.length===i&&(f=f.add(z)):T.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(eh(e).get(l).next(c=>{if(null===c)throw ot();bt(c.userId===this.userId),r.push(qf(this.yt,c))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return nL(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ng(e).Z({range:r},(l,c,f)=>{if(l[0]===this.userId){const y=au(l[1]);i.push(y)}else f.done()}).next(()=>{bt(0===i.length)})})}containsKey(e,t){return rL(e,this.userId,t)}Rn(e){return iL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rL(n,e,t){const r=rI(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return ng(n).Z({range:l,X:!0},(f,y,E)=>{const[T,x,L]=f;T===e&&x===i&&(c=!0),E.done()}).next(()=>c)}function eh(n){return di(n,"mutations")}function ng(n){return di(n,"documentMutations")}function iL(n){return di(n,"mutationQueues")}class Zf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Zf(0)}static vn(){return new Zf(-1)}}class e${constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Zf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>It.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return rg(e).Z((c,f)=>{const y=wv(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>ce.waitFor(l)).next(()=>i)}forEachTarget(e,t){return rg(e).Z((r,i)=>{const l=wv(i);t(l)})}Vn(e){return sL(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}Sn(e,t){return sL(e).put("targetGlobalKey",t)}Dn(e,t){return rg(e).put($F(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Bf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return rg(e).Z({range:i,index:"queryTargetsIndex"},(c,f,y)=>{const E=wv(f);cv(t,E.target)&&(l=E,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=th(e);return t.forEach(c=>{const f=cs(c.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=th(e);return ce.forEach(t,l=>{const c=cs(l.path);return ce.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=th(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=th(e);let l=Kt();return i.Z({range:r,X:!0},(c,f,y)=>{const E=au(c[1]),T=new We(E);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=cs(t.path),i=IDBKeyRange.bound([r],[vP(r)],!1,!0);let l=0;return th(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,f],y,E)=>{0!==c&&(l++,E.done())}).next(()=>l>0)}ne(e,t){return rg(e).get(t).next(r=>r?wv(r):null)}}function rg(n){return di(n,"targets")}function sL(n){return di(n,"targetGlobal")}function th(n){return di(n,"targetDocuments")}function oL([n,e],[t,r]){const i=Gt(n,t);return 0===i?Gt(e,r):i}class t${constructor(e){this.xn=e,this.buffer=new xn(oL),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n${constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){zd(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gd(r)}yield t.Fn(3e5)}))}}class r${constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(Eo.at);const r=new t$(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(tL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tL):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,l,c,f,y,E;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(E=Date.now(),hM()<=Bd.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${l} targets in `+(y-f)+`ms\n\tRemoved ${x} documents in `+(E-y)+`ms\nTotal Duration: ${E-T}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:x})))}}class i${constructor(e,t){this.db=e,this.garbageCollector=new r$(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return dI(e,r)}removeReference(e,t,r){return dI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dI(e,t)}Gn(e,t){return function(r,i){let l=!1;return iL(r).tt(c=>rL(r,c,i).next(f=>(f&&(l=!0),ce.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(c,f)=>{if(f<=t){const y=this.Gn(e,c).next(E=>{if(!E)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,It.min()),th(e).delete([0,cs(c.path)])))});i.push(y)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dI(e,t)}Kn(e,t){const r=th(e);let i,l=Eo.at;return r.Z({index:"documentTargetsIndex"},([c,f],{path:y,sequenceNumber:E})=>{0===c?(l!==Eo.at&&t(new We(au(i)),l),l=E,i=y):l=Eo.at}).next(()=>{l!==Eo.at&&t(new We(au(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dI(n,e){return th(n).put((r=n.currentSequenceNumber,{targetId:0,path:cs(e.path),sequenceNumber:r}));var r}class aL{constructor(){this.changes=new Qd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s${constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yf(e).put(r)}removeEntry(e,t,r){return Yf(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],iI(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Kn.newInvalidDocument(t);return Yf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tv(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:Kn.newInvalidDocument(t)};return Yf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Tv(t))},(i,l)=>{r={document:this.jn(t,l),size:uI(l)}}).next(()=>r)}getEntries(e,t){let r=Vs();return this.zn(e,t,(i,l)=>{const c=this.jn(i,l);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=Vs(),i=new Cr(We.comparator);return this.zn(e,t,(l,c)=>{const f=this.jn(l,c);r=r.insert(l,f),i=i.insert(l,uI(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new xn(dL);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(Tv(i.first()),Tv(i.last())),c=i.getIterator();let f=c.getNext();return Yf(e).Z({index:"documentKeyIndex",range:l},(y,E,T)=>{const x=We.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&dL(f,x)<0;)r(f,null),f=c.getNext();f&&f.isEqual(x)&&(r(f,E),f=c.hasNext()?c.getNext():null),f?T.j(Tv(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),iI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yf(e).W(IDBKeyRange.bound(i,l,!0)).next(c=>{let f=Vs();for(const y of c){const E=this.jn(We.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=Vs();const c=cL(t,r),f=cL(t,wo.max());return Yf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(y,E,T)=>{const x=this.jn(We.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(x.key,x),l.size===i&&T.done()}).next(()=>l)}newChangeBuffer(e){return new o$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uL(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}Qn(e,t){return uL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function GH(n,e){let t;if(e.document)t=MF(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=zf(e.noDocument.readTime);t=Kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=We.fromSegments(e.unknownDocument.path),i=zf(e.unknownDocument.version);t=Kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new sr(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Kn.newInvalidDocument(e)}}function lL(n){return new s$(n)}class o$ extends aL{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Qd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new xn((l,c)=>Gt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const f=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,f.readTime)),c.isValidDocument()){const y=HF(this.Yn.yt,c);i=i.add(l.path.popLast()),r+=uI(y)-f.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=f.size,this.trackRemovals){const y=HF(this.Yn.yt,c.convertToNoDocument(It.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,c)=>{this.Xn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function uL(n){return di(n,"remoteDocumentGlobal")}function Yf(n){return di(n,"remoteDocumentsV14")}function Tv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cL(n,e){const t=e.documentKey.path.toArray();return[n,iI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function dL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Gt(t[l],r[l]),i)return i;return i=Gt(t.length,r.length),i||(i=Gt(t[t.length-2],r[r.length-2]),i||Gt(t[t.length-1],r[r.length-1]))}class a${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&fv(r.mutation,i,Io.empty(),sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Kt()){const i=su();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let c=pv();return l.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=su();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Kt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let l=Vs();const c=mv(),f=mv();return t.forEach((y,E)=>{const T=r.get(E.key);i.has(E.key)&&(void 0===T||T.mutation instanceof Ac)?l=l.insert(E.key,E):void 0!==T&&(c.set(E.key,T.mutation.getFieldMask()),fv(T.mutation,E,T.mutation.getFieldMask(),sr.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((E,T)=>c.set(E,T)),t.forEach((E,T)=>{var x;return f.set(E,new a$(T,null!==(x=c.get(E))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=mv();let i=new Cr((c,f)=>c-f),l=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let T=r.get(y)||Io.empty();T=f.applyToLocalView(E,T),r.set(y,T);const x=(i.get(f.batchId)||Kt()).add(y);i=i.insert(f.batchId,x)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),E=y.key,T=y.value,x=_F();T.forEach(L=>{if(!l.has(L)){const z=uF(t.get(L),r.get(L));null!==z&&x.set(L,z),l=l.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,x))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):CM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):ce.resolve(su());let f=-1,y=l;return c.next(E=>ce.forEach(E,(T,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(T)?ce.resolve():this.remoteDocumentCache.getEntry(e,T).next(L=>{y=y.insert(T,L)}))).next(()=>this.populateOverlays(e,E,l)).next(()=>this.computeViews(e,y,E,Kt())).next(T=>({batchId:f,changes:yF(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let i=pv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=pv();return this.indexManager.getCollectionParents(e,i).next(c=>ce.forEach(c,f=>{const y=(E=t,T=f.child(i),new Tc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((T,x)=>{l=l.insert(T,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,y)=>{const E=y.getKey();null===i.get(E)&&(i=i.insert(E,Kn.newInvalidDocument(E)))});let c=pv();return i.forEach((f,y)=>{const E=l.get(f);void 0!==E&&fv(E.mutation,y,Io.empty(),sr.now()),AM(t,y)&&(c=c.insert(f,y))}),c})}}class l${constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Mr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:LM(r.bundledQuery),readTime:Mr(r.readTime)}),ce.resolve();var r}}class u${constructor(){this.overlays=new Cr(We.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=su();return ce.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.oe(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=su(),l=t.length+1,c=new We(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Cr((E,T)=>E-T);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let T=l.get(E.largestBatchId);null===T&&(T=su(),l=l.insert(E.largestBatchId,T)),T.set(E.getKey(),E)}}const f=su(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,T)=>f.set(E,T)),!(f.size()>=i)););return ce.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new FM(t,r));let l=this.es.get(t);void 0===l&&(l=Kt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class GM{constructor(){this.ns=new xn(hi.ss),this.rs=new xn(hi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new hi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new hi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new We(new dn([])),r=new hi(t,e),i=new hi(t,e+1),l=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),l.push(c.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new We(new dn([])),r=new hi(t,e),i=new hi(t,e+1);let l=Kt();return this.rs.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new hi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class hi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return We.comparator(e.key,t.key)||Gt(e._s,t._s)}static os(e,t){return Gt(e._s,t._s)||We.comparator(e.key,t.key)}}class c${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new xn(hi.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const c=new OM(l,t,r,i);this.mutationQueue.push(c);for(const f of i)this.gs=this.gs.add(new hi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hi(t,0),i=new hi(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],c=>{const f=this.ys(c._s);l.push(f)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Gt);return t.forEach(i=>{const l=new hi(i,0),c=new hi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,c],f=>{r=r.add(f._s)})}),ce.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;We.isDocumentKey(l)||(l=l.child(""));const c=new hi(new We(l),0);let f=new xn(Gt);return this.gs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(y._s)),!0)},c),ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ce.forEach(t.mutations,i=>{const l=new hi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new hi(t,0),i=this.gs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class d${constructor(e){this.Es=e,this.docs=new Cr(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Vs();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Kn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=Vs();const l=new We(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:y}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||mM(wP(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ot()}As(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new h$(this)}getSize(e){return ce.resolve(this.size)}}class h$ extends aL{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class f${constructor(e){this.persistence=e,this.Rs=new Qd(t=>Bf(t),cv),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.bs=0,this.Ps=new GM,this.targetCount=0,this.vs=Zf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Zf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ce.waitFor(l).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class fL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Eo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new f$(this),this.indexManager=new XH,this.remoteDocumentCache=new d$(r=>this.referenceDelegate.xs(r)),this.yt=new jF(t),this.Ns=new l$(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new c$(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new p$(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return ce.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class p$ extends IP{constructor(e){super(),this.currentSequenceNumber=e}}class hI{constructor(e){this.persistence=e,this.Fs=new GM,this.$s=null}static Bs(e){return new hI(e)}get Ls(){if(this.$s)return this.$s;throw ot()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,r=>{const i=We.fromPath(r);return this.qs(e,i).next(l=>{l||t.removeEntry(i,It.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class m${constructor(e){this.yt=e}$(e,t,r,i){const l=new GE("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FF,{unique:!0}),f.createObjectStore("documentMutations"),pL(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),pL(e)),c=c.next(()=>function(f){const y=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,y){return y.store("mutations").W().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FF,{unique:!0});const T=y.store("mutations"),x=E.map(L=>T.put(L));return ce.waitFor(x)})}(e,l))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Us(l))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(l))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(l))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:UH});y.createIndex("collectionPathOverlayIndex",BH,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",jH,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:SH});y.createIndex("documentKeyIndex",MH),y.createIndex("collectionGroupIndex",xH)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,l))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:PH}).createIndex("sequenceNumberIndex",FH,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:LH}).createIndex("documentKeyIndex",VH,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=uI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ce.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(f=>ce.forEach(f,y=>{bt(y.userId===l.userId);const E=qf(this.yt,y);return nL(e,l.userId,E).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((c,f)=>{const y=new dn(c),E=[0,cs(y)];l.push(t.get(E).next(T=>T?ce.resolve():t.put({targetId:0,path:cs(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:OH});const r=t.store("collectionParents"),i=new $M,l=c=>{if(i.add(c)){const f=c.lastSegment(),y=c.popLast();return r.put({collectionId:f,parent:cs(y)})}};return t.store("remoteDocuments").Z({X:!0},(c,f)=>{const y=new dn(c);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,f,y],E)=>{const T=au(f);return l(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=wv(i),c=$F(this.yt,l);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,c)=>{const f=t.store("remoteDocumentsV14"),y=(E=c,E.document?new We(dn.fromString(E.document.name).popFirst(5)):E.noDocument?We.fromSegments(E.noDocument.path):E.unknownDocument?We.fromSegments(E.unknownDocument.path):ot()).path.toArray();var E;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>ce.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=lL(this.yt),l=new fL(hI.Bs,this.yt.ie);return r.W().next(c=>{const f=new Map;return c.forEach(y=>{var E;let T=null!==(E=f.get(y.userId))&&void 0!==E?E:Kt();qf(this.yt,y).keys().forEach(x=>T=T.add(x)),f.set(y.userId,T)}),ce.forEach(f,(y,E)=>{const T=new ci(E),x=sI.re(this.yt,T),L=l.getIndexManager(T),z=cI.re(T,this.yt,L,l.referenceDelegate);return new hL(i,z,x,L).recalculateAndSaveOverlaysForDocumentKeys(new NM(t,Eo.at),y).next()})})}}function pL(n){n.createObjectStore("targetDocuments",{keyPath:RH}).createIndex("documentTargetsIndex",NH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kH,{unique:!0}),n.createObjectStore("targetGlobal")}const zM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qM{constructor(e,t,r,i,l,c,f,y,E,T,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=c,this.document=f,this.Js=E,this.Ys=T,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!qM.C())throw new Ne(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new i$(this,i),this.ii=t+"main",this.yt=new jF(y),this.ri=new Ya(this.ii,this.Xs,new m$(this.yt)),this.Cs=new e$(this.referenceDelegate,this.yt),this.remoteDocumentCache=lL(this.yt),this.Ns=new zH,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(he.FAILED_PRECONDITION,zM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Eo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(zd(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Av(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return fI(e).delete(this.clientId)}yi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=di(r,"clientMetadata");return i.W().next(l=>{const c=e.Ii(l,18e5),f=l.filter(y=>-1===c.indexOf(y));return ce.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):Av(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ne(he.FAILED_PRECONDITION,zM);return!1}}return!(!this.networkEnabled||!this.inForeground)||fI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new NM(t,Eo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>fI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return cI.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JH(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return sI.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(c=this.Xs)?$H:14===c?BF:13===c?UF:12===c?HH:11===c?VF:void ot();var c;let f;return this.ri.runTransaction(e,i,l,y=>(f=new NM(y,this.Ss?this.Ss.next():Eo.at),"readwrite-primary"===t?this.fi(f).next(E=>!!E||this.di(f)).next(E=>{if(!E)throw Sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ne(he.FAILED_PRECONDITION,EP);return r(f)}).next(E=>this.wi(f).next(()=>E)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return Av(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(he.FAILED_PRECONDITION,zM)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Av(e).put("owner",t)}static C(){return Ya.C()}_i(e){const t=Av(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Sr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,bn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Sr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Av(n){return di(n,"owner")}function fI(n){return di(n,"clientMetadata")}function WM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Kt(),i=Kt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new KM(e,t.fromCache,r,i)}}class mL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(QP(t))return ce.resolve(null);let r=us(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=QE(t,null,"F"),r=us(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Kt(...l);return this.Ni.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.Fi(t,f);return this.$i(t,E,c,y.readTime)?this.ki(e,QE(t,null,"F")):this.Bi(e,E,t,y)}))})))}Oi(e,t,r,i){return QP(t)||i.isEqual(It.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const c=this.Fi(t,l);return this.$i(t,c,r,i)?this.Mi(e,t):(hM()<=Bd.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TM(t)),this.Bi(e,c,t,bP(i,-1)))})}Fi(e,t){let r=new xn(eF(e));return t.forEach((i,l)=>{AM(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return hM()<=Bd.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",TM(t)),this.Ni.getDocumentsMatchingQuery(e,t,wo.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class g${constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Cr(Gt),this.Ui=new Qd(l=>Bf(l),cv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function gL(n,e,t,r){return new g$(n,e,t,r)}function yL(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ee.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let y=Kt();for(const E of i){c.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}for(const E of l){f.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(E=>({ji:E,removedBatchIds:c,addedBatchIds:f}))})})}),ZM.apply(this,arguments)}function y$(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,f,y,E){const T=y.batch,x=T.keys();let L=ce.resolve();return x.forEach(z=>{L=L.next(()=>E.getEntry(f,z)).next(Y=>{const ue=y.docVersions.get(z);bt(null!==ue),Y.version.compareTo(ue)<0&&(T.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(f,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Kt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _L(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function _$(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((T,x)=>{const L=i.get(x);if(!L)return;f.push(t.Cs.removeMatchingKeys(l,T.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(l,T.addedDocuments,x)));let z=L.withSequenceNumber(l.currentSequenceNumber);var Y,ue,De;e.targetMismatches.has(x)?z=z.withResumeToken(Yr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),i=i.insert(x,z),ue=z,De=T,(0===(Y=L).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(l,z))});let y=Vs(),E=Kt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),f.push(vL(l,c,e.documentUpdates).next(T=>{y=T.Wi,E=T.zi})),!r.isEqual(It.min())){const T=t.Cs.getLastRemoteSnapshotVersion(l).next(x=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(T)}return ce.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,E)).next(()=>y)}).then(l=>(t.qi=i,l))}function vL(n,e,t){let r=Kt(),i=Kt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Vs();return t.forEach((f,y)=>{const E=l.get(f);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(It.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),{Wi:c,zi:i}})}function v$(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ig(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,ce.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Xd(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function sg(n,e,t){return YM.apply(this,arguments)}function YM(){return YM=(0,Ee.Z)(function*(n,e,t){const r=Ze(n),i=r.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!zd(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),YM.apply(this,arguments)}function pI(n,e,t){const r=Ze(n);let i=It.min(),l=Kt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,E){const T=Ze(f),x=T.Ui.get(E);return void 0!==x?ce.resolve(T.qi.get(x)):T.Cs.getTargetData(y,E)}(r,c,us(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:It.min(),t?l:Kt())).next(f=>(EL(r,JP(e),f),{documents:f,Hi:l})))}function bL(n,e){const t=Ze(n),r=Ze(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.ne(l,e).next(c=>c?c.target:null))}function wL(n,e){const t=Ze(n),r=t.Ki.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,bP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(EL(t,e,i),i))}function EL(n,e,t){let r=n.Ki.get(e)||It.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function QM(){return QM=(0,Ee.Z)(function*(n,e,t,r){const i=Ze(n);let l=Kt(),c=Vs();for(const E of t){const T=e.Ji(E.metadata.name);E.document&&(l=l.add(T));const x=e.Yi(E);x.setReadTime(e.Xi(E.metadata.readTime)),c=c.insert(T,x)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield ig(i,(E=r,us(Km(dn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>vL(E,f,c).next(T=>(f.apply(E),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.Cs.addMatchingKeys(E,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,T.Wi,T.zi)).next(()=>T.Wi)))}),QM.apply(this,arguments)}function w$(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,Ee.Z)(function*(n,e,t=Kt()){const r=yield ig(n,us(LM(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=Mr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(l,e);const f=r.withResumeToken(Yr.EMPTY_BYTE_STRING,c);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(l,f).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),XM.apply(this,arguments)}function IL(n,e){return`firestore_clients_${n}_${e}`}function CL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function JM(n,e){return`firestore_targets_${n}_${e}`}class mI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Ne(i.error.code,i.error.message))),c?new mI(e,t,i.state,l):(Sr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new Sv(e,r.state,i):(Sr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=tI();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=AP(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new gI(e,l):(Sr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ex{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ex(t.clientId,t.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tx{constructor(){this.activeTargetIds=tI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nx{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Cr(Gt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=IL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new tx),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(IL(e.persistenceKey,i));if(l){const c=gI.Zi(i,l);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(JM(this.persistenceKey,e));if(r){const i=Sv.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let c=Eo.at;if(null!=l)try{const f=JSON.parse(l);bt("number"==typeof f),c=f}catch(f){Sr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Eo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new mI(this.currentUser,e,t,r),l=CL(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=CL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=JM(this.persistenceKey,e),l=new Sv(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return gI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return mI.Zi(new ci(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Sv.Zi(i,t)}yr(e){return ex.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),c=[],f=[];return l.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{l.has(y)||f.push(y)}),this.syncEngine.Br(c,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=tI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class DL{constructor(){this.Lr=new tx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new tx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E${Ur(e){}shutdown(){}}class TL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const I$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class D$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const c=this.ho(e,t);Pe("RestConnection","Sending: ",c,r);const f={};return this.lo(f,i,l),this.fo(e,c,f,r).then(y=>(Pe("RestConnection","Received: ",y),y),y=>{throw Nf("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}_o(e,t,r,i,l,c){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${I$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,c)=>{const f=new Cj;f.setWithCredentials(!0),f.listenOnce(wj.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case dM.NO_ERROR:const E=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(E)),l(E);break;case dM.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case dM.HTTP_ERROR:const T=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const z=function(Y){const ue=Y.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ue)>=0?ue:he.UNKNOWN}(L.status);c(new Ne(z,L.message))}else c(new Ne(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=vj(),c=bj(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Ij({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");Pe("Connection","Creating WebChannel: "+y,f);const E=l.createWebChannel(y,f);let T=!1,x=!1;const L=new C$({Hr:Y=>{x?Pe("Connection","Not sending because WebChannel is closed:",Y):(T||(Pe("Connection","Opening WebChannel transport."),E.open(),T=!0),Pe("Connection","WebChannel sending:",Y),E.send(Y))},Jr:()=>E.close()}),z=(Y,ue,De)=>{Y.listen(ue,et=>{try{De(et)}catch(pt){setTimeout(()=>{throw pt},0)}})};return z(E,jE.EventType.OPEN,()=>{x||Pe("Connection","WebChannel transport opened.")}),z(E,jE.EventType.CLOSE,()=>{x||(x=!0,Pe("Connection","WebChannel transport closed"),L.io())}),z(E,jE.EventType.ERROR,Y=>{x||(x=!0,Nf("Connection","WebChannel transport errored:",Y),L.io(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),z(E,jE.EventType.MESSAGE,Y=>{var ue;if(!x){const De=Y.data[0];bt(!!De);const et=De,pt=et.error||(null===(ue=et[0])||void 0===ue?void 0:ue.error);if(pt){Pe("Connection","WebChannel received error:",pt);const yt=pt.status;let dt=function(Ot){const ln=Br[Ot];if(void 0!==ln)return mF(ln)}(yt),St=pt.message;void 0===dt&&(dt=he.INTERNAL,St="Unknown error status: "+yt+" with message "+pt.message),x=!0,L.io(new Ne(dt,St)),E.close()}else Pe("Connection","WebChannel received:",De),L.ro(De)}}),z(c,Ej.STAT_EVENT,Y=>{Y.stat===pP.PROXY?Pe("Connection","Detected buffering proxy"):Y.stat===pP.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function AL(){return typeof window<"u"?window:null}function yI(){return typeof document<"u"?document:null}function Mv(n){return new gH(n,!0)}class rx{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class SL{constructor(e,t,r,i,l,c,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ne(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T$ extends SL{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function vH(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ot(),i=e.targetChange.targetIds||[],l=function(y,E){return y.wt?(bt(void 0===E||"string"==typeof E),Yr.fromBase64String(E||"")):(bt(void 0===E||E instanceof Uint8Array),Yr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const E=void 0===y.code?he.UNKNOWN:mF(y.code);return new Ne(E,y.message||"")}(c);t=new bF(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=ou(n,r.document.name),l=Mr(r.document.updateTime),c=r.document.createTime?Mr(r.document.createTime):It.min(),f=new ki({mapValue:{fields:r.document.fields}}),y=Kn.newFoundDocument(i,l,c,f);t=new nI(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=ou(n,r.document),l=r.readTime?Mr(r.readTime):It.min(),c=Kn.newNoDocument(i,l);t=new nI([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=ou(n,r.document);t=new nI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,l=new aH(r.count||0);t=new vF(r.targetId,l)}}var y;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return It.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?Mr(l.readTime):It.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=vv(this.yt),t.addTarget=function(i,l){let c;const f=l.target;return c=KE(f)?{documents:xF(i,f)}:{query:RM(i,f)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=CF(i,l.resumeToken):l.snapshotVersion.compareTo(It.min())>0&&(c.readTime=Jm(i,l.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function wH(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=vv(this.yt),t.removeTarget=e,this.Bo(t)}}class A$ extends SL{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function bH(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(r,i){let l=Mr(r.updateTime?r.updateTime:i);return l.isEqual(It.min())&&(l=Mr(i)),new iH(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.Zo(r,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=vv(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bv(this.yt,r))};this.Bo(t)}}class S$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection._o(e,t,r,l,c,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(he.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class x${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Sr(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class k${constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(f=>{r.enqueueAndForget((0,Ee.Z)(function*(){var y;Sc(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ee.Z)(function*(E){const T=Ze(E);T._u.add(4),yield og(T),T.gu.set("Unknown"),T._u.delete(4),yield xv(T)}),function(E){return y.apply(this,arguments)})(c))}))}),this.gu=new x$(r,i)}}function xv(n){return sx.apply(this,arguments)}function sx(){return sx=(0,Ee.Z)(function*(n){if(Sc(n))for(const e of n.wu)yield e(!0)}),sx.apply(this,arguments)}function og(n){return ox.apply(this,arguments)}function ox(){return ox=(0,Ee.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ox.apply(this,arguments)}function _I(n,e){const t=Ze(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ux(t)?lx(t):lg(t).ko()&&ax(t,e))}function kv(n,e){const t=Ze(n),r=lg(t);t.du.delete(e),r.ko()&&ML(t,e),0===t.du.size&&(r.ko()?r.Fo():Sc(t)&&t.gu.set("Unknown"))}function ax(n,e){n.yu.Ot(e.targetId),lg(n).zo(e)}function ML(n,e){n.yu.Ot(e),lg(n).Ho(e)}function lx(n){n.yu=new hH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),lg(n).start(),n.gu.uu()}function ux(n){return Sc(n)&&!lg(n).No()&&n.du.size>0}function Sc(n){return 0===Ze(n)._u.size}function xL(n){n.yu=void 0}function R$(n){return cx.apply(this,arguments)}function cx(){return cx=(0,Ee.Z)(function*(n){n.du.forEach((e,t)=>{ax(n,e)})}),cx.apply(this,arguments)}function N$(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,Ee.Z)(function*(n,e){xL(n),ux(n)?(n.gu.hu(e),lx(n)):n.gu.set("Unknown")}),dx.apply(this,arguments)}function O$(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,Ee.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof bF&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,l){const c=l.cause;for(const f of l.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.du.delete(f),i.yu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vI(n,r)}else if(e instanceof nI?n.yu.Kt(e):e instanceof vF?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(It.min()))try{const r=yield _L(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.yu.Zt(l);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const E=i.du.get(y);E&&i.du.set(y,E.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach(f=>{const y=i.du.get(f);if(!y)return;i.du.set(f,y.withResumeToken(Yr.EMPTY_BYTE_STRING,y.snapshotVersion)),ML(i,f);const E=new Xd(y.target,f,1,y.sequenceNumber);ax(i,E)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield vI(n,r)}var r}),hx.apply(this,arguments)}function vI(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=(0,Ee.Z)(function*(n,e,t){if(!zd(e))throw e;n._u.add(1),yield og(n),n.gu.set("Offline"),t||(t=()=>_L(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield xv(n)}))}),fx.apply(this,arguments)}function kL(n,e){return e().catch(t=>vI(n,t,e))}function ag(n){return px.apply(this,arguments)}function px(){return px=(0,Ee.Z)(function*(n){const e=Ze(n),t=nh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;P$(e);)try{const i=yield v$(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,F$(e,i)}catch(i){yield vI(e,i)}RL(e)&&NL(e)}),px.apply(this,arguments)}function P$(n){return Sc(n)&&n.fu.length<10}function F$(n,e){n.fu.push(e);const t=nh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function RL(n){return Sc(n)&&!nh(n).No()&&n.fu.length>0}function NL(n){nh(n).start()}function L$(n){return mx.apply(this,arguments)}function mx(){return mx=(0,Ee.Z)(function*(n){nh(n).eu()}),mx.apply(this,arguments)}function V$(n){return gx.apply(this,arguments)}function gx(){return gx=(0,Ee.Z)(function*(n){const e=nh(n);for(const t of n.fu)e.Xo(t.mutations)}),gx.apply(this,arguments)}function U$(n,e,t){return yx.apply(this,arguments)}function yx(){return yx=(0,Ee.Z)(function*(n,e,t){const r=n.fu.shift(),i=PM.from(r,e,t);yield kL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ag(n)}),yx.apply(this,arguments)}function B$(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,Ee.Z)(function*(n,e){var t;e&&nh(n).Yo&&(yield(t=(0,Ee.Z)(function*(r,i){if(pF(l=i.code)&&l!==he.ABORTED){const c=r.fu.shift();nh(r).Mo(),yield kL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield ag(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),RL(n)&&NL(n)}),_x.apply(this,arguments)}function OL(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,Ee.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Sc(t);t._u.add(3),yield og(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield xv(t)}),vx.apply(this,arguments)}function bx(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,Ee.Z)(function*(n,e){const t=Ze(n);e?(t._u.delete(2),yield xv(t)):e||(t._u.add(2),yield og(t),t.gu.set("Unknown"))}),wx.apply(this,arguments)}function lg(n){return n.pu||(n.pu=function(e,t,r){const i=Ze(e);return i.su(),new T$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:R$.bind(null,n),Zr:N$.bind(null,n),Wo:O$.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.pu.Mo(),ux(n)?lx(n):n.gu.set("Unknown")):(yield n.pu.stop(),xL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function nh(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ze(e);return i.su(),new A$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:L$.bind(null,n),Zr:B$.bind(null,n),tu:V$.bind(null,n),Zo:U$.bind(null,n)}),n.wu.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Iu.Mo(),yield ag(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ex{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,f=new Ex(e,t,c,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),zd(n))return new Ne(he.UNAVAILABLE,`${e}: ${n}`);throw n}class cg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=pv(),this.sortedSet=new Cr(this.comparator)}static emptySet(e){return new cg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class PL{constructor(){this.Tu=new Cr(We.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ot():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dg{constructor(e,t,r,i,l,c,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new dg(e,t,cg.emptySet(t),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class j${constructor(){this.Au=void 0,this.listeners=[]}}class H${constructor(){this.queries=new Qd(e=>XP(e),dv),this.onlineState="Unknown",this.Ru=new Set}}function Ix(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new j$),i)try{l.Au=yield t.onListen(r)}catch(c){const f=ug(c,`Initialization of query '${TM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&Ax(t)}),Cx.apply(this,arguments)}function Dx(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Tx.apply(this,arguments)}function $$(n,e){const t=Ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Pu(i)&&(r=!0);c.Au=i}}r&&Ax(t)}function G$(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function Ax(n){n.Ru.forEach(e=>{e.next()})}class Sx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=dg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class z${constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class FL{constructor(e){this.yt=e}Ji(e){return ou(this.yt,e)}Yi(e){return e.metadata.exists?MF(this.yt,e.document,!1):Kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Mr(e)}}class q${constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LL(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=dn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new FL(this.yt);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||Kt()).add(l);t.set(c,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function b$(n,e,t,r){return QM.apply(this,arguments)}(e.localStore,new FL(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield w$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function LL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VL{constructor(e){this.key=e}}class UL{constructor(e){this.key=e}}class BL{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Kt(),this.mutatedKeys=Kt(),this.Gu=eF(e),this.Qu=new cg(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new PL,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,x)=>{const L=i.get(T),z=AM(this.query,x)?x:null,Y=!!L&&this.mutatedKeys.has(L.key),ue=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let De=!1;L&&z?L.data.isEqual(z.data)?Y!==ue&&(r.track({type:3,doc:z}),De=!0):this.Hu(L,z)||(r.track({type:2,doc:z}),De=!0,(y&&this.Gu(z,y)>0||E&&this.Gu(z,E)<0)&&(f=!0)):!L&&z?(r.track({type:0,doc:z}),De=!0):L&&!z&&(r.track({type:1,doc:L}),De=!0,(y||E)&&(f=!0)),De&&(z?(c=c.add(z),l=ue?l.add(T):l.delete(T)):(c=c.delete(T),l=l.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Qu:c,zu:r,$i:f,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((E,T)=>function(x,L){const z=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return z(x)-z(L)}(E.type,T.type)||this.Gu(E.doc,T.doc)),this.Ju(r);const c=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.Uu;return this.Uu=f,0!==l.length||y?{snapshot:new dg(this.query,e.Qu,i,l,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new PL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Kt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new UL(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new VL(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Kt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return dg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class W${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class K${constructor(e){this.key=e,this.nc=!1}}class Z${constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Qd(f=>XP(f),dv),this.rc=new Map,this.oc=new Set,this.uc=new Cr(We.comparator),this.cc=new Map,this.ac=new GM,this.hc={},this.lc=new Map,this.fc=Zf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Y$(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Ee.Z)(function*(n,e){const t=Xx(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const c=yield ig(t.localStore,us(e));t.isPrimaryClient&&_I(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield xx(t,e,r,"current"===f,c.resumeToken)}return i}),Mx.apply(this,arguments)}function xx(n,e,t,r,i){return kx.apply(this,arguments)}function kx(){return kx=(0,Ee.Z)(function*(n,e,t,r,i){n._c=(x,L,z)=>{return(Y=(0,Ee.Z)(function*(ue,De,et,pt){let yt=De.view.Wu(et);yt.$i&&(yt=yield pI(ue.localStore,De.query,!1).then(({documents:Ot})=>De.view.Wu(Ot,yt)));const dt=pt&&pt.targetChanges.get(De.targetId),St=De.view.applyChanges(yt,ue.isPrimaryClient,dt);return jx(ue,De.targetId,St.Xu),St.snapshot}),function(ue,De,et,pt){return Y.apply(this,arguments)})(n,x,L,z);var Y};const l=yield pI(n.localStore,e,!0),c=new BL(e,l.Hi),f=c.Wu(l.documents),y=yv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=c.applyChanges(f,n.isPrimaryClient,y);jx(n,t,E.Xu);const T=new W$(e,t,c);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),E.snapshot}),kx.apply(this,arguments)}function Q$(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!dv(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kv(t.remoteStore,r.targetId),hg(t,r.targetId)}).catch(Gd))):(hg(t,r.targetId),yield sg(t.localStore,r.targetId,!0))}),Rx.apply(this,arguments)}function Nx(){return Nx=(0,Ee.Z)(function*(n,e,t){const r=Jx(n);try{const i=yield function(l,c){const f=Ze(l),y=sr.now(),E=c.reduce((L,z)=>L.add(z.key),Kt());let T,x;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=Vs(),Y=Kt();return f.Gi.getEntries(L,E).next(ue=>{z=ue,z.forEach((De,et)=>{et.isValidDocument()||(Y=Y.add(De))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,z)).next(ue=>{T=ue;const De=[];for(const et of c){const pt=oH(et,T.get(et.key).overlayedDocument);null!=pt&&De.push(new Ac(et.key,pt,WP(pt.value.mapValue),or.exists(!0)))}return f.mutationQueue.addMutationBatch(L,y,De,c)}).next(ue=>{x=ue;const De=ue.applyToLocalDocumentSet(T,Y);return f.documentOverlayCache.saveOverlays(L,ue.batchId,De)})}).then(()=>({batchId:x.batchId,changes:yF(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let y=l.hc[l.currentUser.toKey()];y||(y=new Cr(Gt)),y=y.insert(c,f),l.hc[l.currentUser.toKey()]=y}(r,i.batchId,t),yield Mc(r,i.changes),yield ag(r.remoteStore)}catch(i){const l=ug(i,"Failed to persist write");t.reject(l)}}),Nx.apply(this,arguments)}function jL(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Ee.Z)(function*(n,e){const t=Ze(n);try{const r=yield _$(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.cc.get(l);c&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?bt(c.nc):i.removedDocuments.size>0&&(bt(c.nc),c.nc=!1))}),yield Mc(t,r,e)}catch(r){yield Gd(r)}}),Ox.apply(this,arguments)}function HL(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,c)=>{const f=c.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(l,c){const f=Ze(l);f.onlineState=c;let y=!1;f.queries.forEach((E,T)=>{for(const x of T.listeners)x.bu(c)&&(y=!0)}),y&&Ax(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function J$(n,e,t){return Px.apply(this,arguments)}function Px(){return Px=(0,Ee.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let c=new Cr(We.comparator);c=c.insert(l,Kn.newNoDocument(l,It.min()));const f=Kt().add(l),y=new gv(It.min(),new Map,new xn(Gt),c,f);yield jL(r,y),r.uc=r.uc.remove(l),r.cc.delete(e),Hx(r)}else yield sg(r.localStore,e,!1).then(()=>hg(r,e,t)).catch(Gd)}),Px.apply(this,arguments)}function e3(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield y$(t.localStore,e);Bx(t,r,null),Ux(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Mc(t,i)}catch(i){yield Gd(i)}}),Fx.apply(this,arguments)}function t3(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ee.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(l,c){const f=Ze(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return f.mutationQueue.lookupMutationBatch(y,c).next(T=>(bt(null!==T),E=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,E,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>f.localDocuments.getDocuments(y,E))})}(r.localStore,e);Bx(r,e,t),Ux(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Mc(r,i)}catch(i){yield Gd(i)}}),Lx.apply(this,arguments)}function Vx(){return Vx=(0,Ee.Z)(function*(n,e){const t=Ze(n);Sc(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=Ze(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=ug(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Vx.apply(this,arguments)}function Ux(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Bx(n,e,t){const r=Ze(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function hg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||$L(n,r)})}function $L(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(kv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Hx(n))}function jx(n,e,t){for(const r of t)r instanceof VL?(n.ac.addReference(r.key,e),r3(n,r)):r instanceof UL?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||$L(n,r.key)):ot()}function r3(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),Hx(n))}function Hx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new We(dn.fromString(e)),r=n.fc.next();n.cc.set(r,new K$(t)),n.uc=n.uc.insert(t,r),_I(n.remoteStore,new Xd(us(Km(t.path)),r,2,Eo.at))}}function Mc(n,e,t){return $x.apply(this,arguments)}function $x(){return $x=(0,Ee.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[],c=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{c.push(r._c(y,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const T=KM.Ci(y.targetId,E);l.push(T)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(f=(0,Ee.Z)(function*(y,E){const T=Ze(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ce.forEach(E,L=>ce.forEach(L.Si,z=>T.persistence.referenceDelegate.addReference(x,L.targetId,z)).next(()=>ce.forEach(L.Di,z=>T.persistence.referenceDelegate.removeReference(x,L.targetId,z)))))}catch(x){if(!zd(x))throw x;Pe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of E){const L=x.targetId;if(!x.fromCache){const z=T.qi.get(L),ue=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);T.qi=T.qi.insert(L,ue)}}}),function(y,E){return f.apply(this,arguments)})(r.localStore,l))}),$x.apply(this,arguments)}function s3(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,Ee.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield yL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(f=>{f.reject(new Ne(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Mc(t,r.ji)}var i}),Gx.apply(this,arguments)}function o3(n,e){const t=Ze(n),r=t.cc.get(e);if(r&&r.nc)return Kt().add(r.key);{let i=Kt();const l=t.rc.get(e);if(!l)return i;for(const c of l){const f=t.ic.get(c);i=i.unionWith(f.view.ju)}return i}}function a3(n,e){return zx.apply(this,arguments)}function zx(){return zx=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=yield pI(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&jx(t,e.targetId,i.Xu),i}),zx.apply(this,arguments)}function l3(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,Ee.Z)(function*(n,e){const t=Ze(n);return wL(t.localStore,e).then(r=>Mc(t,r))}),qx.apply(this,arguments)}function u3(n,e,t,r){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Ee.Z)(function*(n,e,t,r){const i=Ze(n),l=yield function(c,f){const y=Ze(c),E=Ze(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>E.Tn(T,f).next(x=>x?y.localDocuments.getDocuments(T,x):ce.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield ag(i.remoteStore):"acknowledged"===t||"rejected"===t?(Bx(i,e,r||null),Ux(i,e),f=e,Ze(Ze(i.localStore).mutationQueue).An(f)):ot(),yield Mc(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wx.apply(this,arguments)}function Kx(){return Kx=(0,Ee.Z)(function*(n,e){const t=Ze(n);if(Xx(t),Jx(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield GL(t,r.toArray());t.dc=!0,yield bx(t.remoteStore,!0);for(const l of i)_I(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(hg(t,c),sg(t.localStore,c,!0))),kv(t.remoteStore,c)}),yield i,yield GL(t,r),function(l){const c=Ze(l);c.cc.forEach((f,y)=>{kv(c.remoteStore,y)}),c.ac.fs(),c.cc=new Map,c.uc=new Cr(We.comparator)}(t),t.dc=!1,yield bx(t.remoteStore,!1)}}),Kx.apply(this,arguments)}function GL(n,e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Ee.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[];for(const c of e){let f;const y=r.rc.get(c);if(y&&0!==y.length){f=yield ig(r.localStore,us(y[0]));for(const E of y){const T=r.ic.get(E),x=yield a3(r,T);x.snapshot&&l.push(x.snapshot)}}else{const E=yield bL(r.localStore,c);f=yield ig(r.localStore,E),yield xx(r,zL(E),c,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(l),i}),Zx.apply(this,arguments)}function zL(n){return YP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function d3(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).vi()}function h3(n,e,t,r){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Ee.Z)(function*(n,e,t,r){const i=Ze(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield wL(i.localStore,JP(l[0])),f=gv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Yr.EMPTY_BYTE_STRING);yield Mc(i,c,f);break}case"rejected":yield sg(i.localStore,e,!0),hg(i,e,r);break;default:ot()}}),Yx.apply(this,arguments)}function f3(n,e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Ee.Z)(function*(n,e,t){const r=Xx(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield bL(r.localStore,i),c=yield ig(r.localStore,l);yield xx(r,zL(l),c.targetId,!1,c.resumeToken),_I(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield sg(r.localStore,i,!1).then(()=>{kv(r.remoteStore,i),hg(r,i)}).catch(Gd))}}),Qx.apply(this,arguments)}function Xx(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J$.bind(null,e),e.sc.Wo=$$.bind(null,e.eventManager),e.sc.wc=G$.bind(null,e.eventManager),e}function Jx(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t3.bind(null,e),e}class qL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.yt=Mv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return gL(this.persistence,new mL,e.initialUser,this.yt)}yc(e){return new fL(hI.Bs,this.yt)}gc(e){return new DL}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WL extends qL{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Jx(r.Ac.syncEngine),yield ag(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return gL(this.persistence,new mL,e.initialUser,this.yt)}Tc(e,t){return new n$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new Bj(t,this.persistence);return new Uj(e.asyncQueue,r)}yc(e){const t=WM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new qM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AL(),yI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new DL}}class m3 extends WL{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof nx&&(r.sharedClientState.syncEngine={Fr:u3.bind(null,i),$r:h3.bind(null,i),Br:f3.bind(null,i),vi:d3.bind(null,i),Mr:l3.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Ee.Z)(function*(c){yield function c3(n,e){return Kx.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}gc(e){const t=AL();if(!nx.C(t))throw new Ne(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ek{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>HL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=s3.bind(null,r.syncEngine),yield bx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new H$}createDatastore(e){const t=Mv(e.databaseInfo.databaseId),r=new D$(e.databaseInfo);return new S$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>HL(this.syncEngine,f,0),c=TL.C()?new TL:new E$,new k$(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,f,y,E){const T=new Z$(r,i,l,c,f,y);return E&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=Ze(t);Pe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield og(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tk(n,e,t){if(!t)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KL(n,e,t,r){if(!0===e&&!0===r)throw new Ne(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZL(n){if(!We.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YL(n){if(We.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bI(n);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function QL(n,e){if(e<=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const XL=new Map;class JL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Aj;switch(t.type){case"gapi":return new kj(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XL.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),XL.delete(e),t.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Ri{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class lu extends Ri{constructor(e,t,r){super(e,t,Km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new We(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function tV(n,e,...t){if(n=(0,bn.m9)(n),tk("collection","path",e),n instanceof Rv){const r=dn.fromString(e,...t);return YL(r),new lu(n,null,r)}{if(!(n instanceof Zn||n instanceof lu))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return YL(r),new lu(n.firestore,null,r)}}function wI(n,e,...t){if(n=(0,bn.m9)(n),1===arguments.length&&(e=_P.R()),tk("doc","path",e),n instanceof Rv){const r=dn.fromString(e,...t);return ZL(r),new Zn(n,null,new We(r))}{if(!(n instanceof Zn||n instanceof lu))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return ZL(r),new Zn(n.firestore,n instanceof lu?n.converter:null,new We(r))}}function nV(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),(n instanceof Zn||n instanceof lu)&&(e instanceof Zn||e instanceof lu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nk(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),n instanceof Ri&&e instanceof Ri&&n.firestore===e.firestore&&dv(n._query,e._query)&&n.converter===e.converter}function rV(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class EI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y3{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new z$(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class b3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(l,c){const f=Ze(l),y=vv(f.yt)+"/documents",E={documents:c.map(z=>_v(f.yt,z))},T=yield f._o("BatchGetDocuments",y,E,c.length),x=new Map;T.forEach(z=>{const Y=function _H(n,e){return"found"in e?function(t,r){bt(!!r.found);const i=ou(t,r.found.name),l=Mr(r.found.updateTime),c=r.found.createTime?Mr(r.found.createTime):It.min(),f=new ki({mapValue:{fields:r.found.fields}});return Kn.newFoundDocument(i,l,c,f)}(n,e):"missing"in e?function(t,r){bt(!!r.missing),bt(!!r.readTime);const i=ou(t,r.missing),l=Mr(r.readTime);return Kn.newNoDocument(i,l)}(n,e):ot()}(f.yt,z);x.set(Y.key.toString(),Y)});const L=[];return c.forEach(z=>{const Y=x.get(z.toString());bt(!!Y),L.push(Y)}),L}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=We.fromPath(i);e.mutations.push(new SM(l,e.precondition(l)))}),yield(r=(0,Ee.Z)(function*(i,l){const c=Ze(i),f=vv(c.yt)+"/documents",y={writes:l.map(E=>bv(c.yt,E))};yield c.ao("Commit",f,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?or.exists(!1):or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ne(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class w3{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new rx(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ee.Z)(function*(){const t=new b3(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!iv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!pF(t)}return!1}}class E3{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=_P.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ee.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ug(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function iV(n,e){return rk.apply(this,arguments)}function rk(){return rk=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(l){r.isEqual(l)||(yield yL(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),rk.apply(this,arguments)}function sV(n,e){return ik.apply(this,arguments)}function ik(){return ik=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sk(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>OL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>OL(e.remoteStore,l)),n.onlineComponents=e}),ik.apply(this,arguments)}function sk(n){return ok.apply(this,arguments)}function ok(){return ok=(0,Ee.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield iV(n,new qL)),n.offlineComponents}),ok.apply(this,arguments)}function II(n){return ak.apply(this,arguments)}function ak(){return ak=(0,Ee.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield sV(n,new ek)),n.onlineComponents}),ak.apply(this,arguments)}function oV(n){return sk(n).then(e=>e.persistence)}function CI(n){return sk(n).then(e=>e.localStore)}function lk(n){return II(n).then(e=>e.remoteStore)}function uk(n){return II(n).then(e=>e.syncEngine)}function fg(n){return ck.apply(this,arguments)}function ck(){return ck=(0,Ee.Z)(function*(n){const e=yield II(n),t=e.eventManager;return t.onListen=Y$.bind(null,e.syncEngine),t.onUnlisten=Q$.bind(null,e.syncEngine),t}),ck.apply(this,arguments)}function lV(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,l,c,f,y){const E=new EI({next:x=>{l.enqueueAndForget(()=>Dx(i,T));const L=x.docs.has(c);!L&&x.fromCache?y.reject(new Ne(he.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?y.reject(new Ne(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new Sx(Km(c.path),E,{includeMetadataChanges:!0,Nu:!0});return Ix(i,T)}(yield fg(n),n.asyncQueue,e,t,r)})),r.promise}function uV(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,l,c,f,y){const E=new EI({next:x=>{l.enqueueAndForget(()=>Dx(i,T)),x.fromCache&&"server"===f.source?y.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new Sx(c,E,{includeMetadataChanges:!0,Nu:!0});return Ix(i,T)}(yield fg(n),n.asyncQueue,e,t,r)})),r.promise}class x3{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new rx(this,"async_queue_retry"),this.Wc=()=>{const t=yI();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=yI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=yI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Zr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!zd(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Ex.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.Uc.push(i),i}zc(){this.Kc&&ot()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function dk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class k3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yn extends Rv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new x3,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cV(this),this._firestoreClient.terminate()}}function xr(n){return n._firestoreClient||cV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cV(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jj(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new E3(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dV(n,e,t){const r=new Zr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield iV(n,t),yield sV(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(c=l).name?c.code===he.FAILED_PRECONDITION||c.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;Nf("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function hV(n){if(n._initialized||n._terminated)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Yr.fromBase64String(e))}catch(t){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qf{constructor(e){this._methodName=e}}class DI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const j3=/^__.*__$/;class H3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qm(e,this.data,t,this.fieldTransforms)}}class fV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class TI{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new TI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return MI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(pV(this.sa)&&j3.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class $3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Mv(e)}da(e,t,r,i=!1){return new TI({sa:e,methodName:t,fa:r,path:Er.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Xf(n){const e=n._freezeSettings(),t=Mv(n._databaseId);return new $3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AI(n,e,t,r,i,l={}){const c=n.da(l.merge||l.mergeFields?2:0,e,t,i);mk("Data must be an object, but it was:",c,r);const f=yV(r,c);let y,E;if(l.merge)y=new Io(c.fieldMask),E=c.fieldTransforms;else if(l.mergeFields){const T=[];for(const x of l.mergeFields){const L=gk(e,x,t);if(!c.contains(L))throw new Ne(he.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);vV(T,L)||T.push(L)}y=new Io(T),E=c.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,E=c.fieldTransforms;return new H3(new ki(f),y,E)}class Nv extends Qf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}function mV(n,e,t){return new TI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class hk extends Qf{_toFieldTransform(e){return new hv(e.path,new Zm)}isEqual(e){return e instanceof hk}}class G3 extends Qf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=mV(this,e,!0),r=this._a.map(l=>Jf(l,t)),i=new Hf(r);return new hv(e.path,i)}isEqual(e){return this===e}}class z3 extends Qf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=mV(this,e,!0),r=this._a.map(l=>Jf(l,t)),i=new $f(r);return new hv(e.path,i)}isEqual(e){return this===e}}class q3 extends Qf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ym(e.yt,rF(e.yt,this.wa));return new hv(e.path,t)}isEqual(e){return this===e}}function fk(n,e,t,r){const i=n.da(1,e,t);mk("Data must be an object, but it was:",i,r);const l=[],c=ki.empty();Ff(r,(y,E)=>{const T=SI(e,y,t);E=(0,bn.m9)(E);const x=i.ca(T);if(E instanceof Nv)l.push(T);else{const L=Jf(E,x);null!=L&&(l.push(T),c.set(T,L))}});const f=new Io(l);return new fV(c,f,i.fieldTransforms)}function pk(n,e,t,r,i,l){const c=n.da(1,e,t),f=[gk(e,r,t)],y=[i];if(l.length%2!=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)f.push(gk(e,l[L])),y.push(l[L+1]);const E=[],T=ki.empty();for(let L=f.length-1;L>=0;--L)if(!vV(E,f[L])){const z=f[L];let Y=y[L];Y=(0,bn.m9)(Y);const ue=c.ca(z);if(Y instanceof Nv)E.push(z);else{const De=Jf(Y,ue);null!=De&&(E.push(z),T.set(z,De))}}const x=new Io(E);return new fV(T,x,c.fieldTransforms)}function gV(n,e,t,r=!1){return Jf(t,n.da(r?4:3,e))}function Jf(n,e){if(_V(n=(0,bn.m9)(n)))return mk("Unsupported field value:",e,n),yV(n,e);if(n instanceof Qf)return function(t,r){if(!pV(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let f=Jf(c,r.aa(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,bn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rF(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=sr.fromDate(t);return{timestampValue:Jm(r.yt,i)}}if(t instanceof sr){const i=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jm(r.yt,i)}}if(t instanceof DI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uu)return{bytesValue:CF(r.yt,t._byteString)};if(t instanceof Zn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:MM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${bI(t)}`)}(n,e)}function yV(n,e){const t={};return TP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ff(n,(r,i)=>{const l=Jf(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function _V(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof DI||n instanceof uu||n instanceof Zn||n instanceof Qf)}function mk(n,e,t){if(!_V(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function gk(n,e,t){if((e=(0,bn.m9)(e))instanceof xc)return e._internalPath;if("string"==typeof e)return SI(n,e);throw MI("Field path arguments must be of type string or ",n,!1,void 0,t)}const W3=new RegExp("[~\\*/\\[\\]]");function SI(n,e,t){if(e.search(W3)>=0)throw MI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw MI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function MI(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Ne(he.INVALID_ARGUMENT,f+n+y)}function vV(n,e){return n.some(t=>t.isEqual(e))}class Ov{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class K3 extends Ov{data(){return super.data()}}function xI(n,e){return"string"==typeof e?SI(n,e):e instanceof xc?e._internalPath:e._delegate._internalPath}function bV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yk{}class Pv extends yk{}function rh(n,e,...t){let r=[];e instanceof yk&&r.push(e),r=r.concat(t),function(i){const l=i.filter(f=>f instanceof pg).length,c=i.filter(f=>f instanceof Fv).length;if(l>1||l>0&&c>0)throw new Ne(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Fv extends Pv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fv(e,t,r)}_apply(e){const t=this._parse(e);return CV(e._query,t),new Ri(e.firestore,e.converter,DM(e._query,t))}_parse(e){const t=Xf(e.firestore);return function(i,l,c,f,y,E,T){let x;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){IV(T,E);const L=[];for(const z of T)L.push(EV(f,i,z));x={arrayValue:{values:L}}}else x=EV(f,i,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||IV(T,E),x=gV(c,"where",T,"in"===E||"not-in"===E);return sn.create(y,E,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class pg extends yk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Sn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let l=r;const c=i.getFlattenedFilters();for(const f of c)CV(l,f),l=DM(l,f)}(e._query,t),new Ri(e.firestore,e.converter,DM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _k extends Pv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _k(e,t)}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new qm(i,l);return function(f,y){if(null===IM(f)){const E=YE(f);null!==E&&DV(0,E,y.field)}}(r,c),c}(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Tc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kI extends Pv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new kI(e,t,r)}_apply(e){return new Ri(e.firestore,e.converter,QE(e._query,this._limit,this._limitType))}}class RI extends Pv{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new RI(e,t,r)}_apply(e){const t=wV(e,this.type,this._docOrFields,this._inclusive);return new Ri(e.firestore,e.converter,(i=t,new Tc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class NI extends Pv{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new NI(e,t,r)}_apply(e){const t=wV(e,this.type,this._docOrFields,this._inclusive);return new Ri(e.firestore,e.converter,(i=t,new Tc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function wV(n,e,t,r){if(t[0]=(0,bn.m9)(t[0]),t[0]instanceof Ov)return function(i,l,c,f,y){if(!f)throw new Ne(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const T of jf(i))if(T.field.isKeyField())E.push(Uf(l,f.key));else{const x=f.data.field(T.field);if(_M(x))throw new Ne(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=T.field.canonicalString();throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(x)}return new Yd(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xf(n.firestore);return function(l,c,f,y,E,T){const x=l.explicitOrderBy;if(E.length>x.length)throw new Ne(he.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let z=0;z<E.length;z++){const Y=E[z];if(x[z].field.isKeyField()){if("string"!=typeof Y)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Y}`);if(!CM(l)&&-1!==Y.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Y}' contains a slash.`);const ue=l.path.child(dn.fromString(Y));if(!We.isDocumentKey(ue))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const De=new We(ue);L.push(Uf(c,De))}else{const ue=gV(f,y,Y);L.push(ue)}}return new Yd(L,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function EV(n,e,t){if("string"==typeof(t=(0,bn.m9)(t))){if(""===t)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CM(e)&&-1!==t.indexOf("/"))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!We.isDocumentKey(r))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uf(n,new We(r))}if(t instanceof Zn)return Uf(n,t._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bI(t)}.`)}function IV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function CV(n,e){if(e.isInequality()){const r=YE(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const l=IM(n);null!==l&&DV(0,i,l)}const t=function(r,i){for(const l of r)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ne(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function DV(n,e,t){if(!t.isEqual(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vk{convertValue(e,t="none"){switch(Vf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return Ff(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new DI(Ir(e.latitude),Ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SP(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ov(e));default:return null}}convertTimestamp(e){const t=Wd(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);bt(OF(r));const i=new qd(r.get(1),r.get(3)),l=new We(r.popFirst(5));return i.isEqual(t)||Sr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function OI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class rG extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}class ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends Ov{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lv extends kc{data(e={}){return super.data(e)}}class ih{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ep(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Lv(this._firestore,this._userDataWriter,r.key,r,new ep(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Lv(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ep(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Lv(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ep(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==c.type&&(y=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),E=l.indexOf(c.doc.key)),{type:iG(c.type),doc:f,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function AV(n,e){return n instanceof kc&&e instanceof kc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ih&&e instanceof ih&&n._firestore===e._firestore&&nk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class sh extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function SV(n,e,t){n=on(n,Zn);const r=on(n.firestore,Yn),i=OI(n.converter,e,t);return mg(r,[AI(Xf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,or.none())])}function MV(n,e,t,...r){n=on(n,Zn);const i=on(n.firestore,Yn),l=Xf(i);let c;return c="string"==typeof(e=(0,bn.m9)(e))||e instanceof xc?pk(l,"updateDoc",n._key,e,t,r):fk(l,"updateDoc",n._key,e),mg(i,[c.toMutation(n._key,or.exists(!0))])}function xV(n,...e){var t,r,i;n=(0,bn.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||dk(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges};if(dk(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,E,T;if(n instanceof Zn)E=on(n.firestore,Yn),T=Km(n._key.path),y={next:x=>{e[c]&&e[c](bk(E,n,x))},error:e[c+1],complete:e[c+2]};else{const x=on(n,Ri);E=on(x.firestore,Yn),T=x._query;const L=new sh(E);y={next:z=>{e[c]&&e[c](new ih(E,L,x,z))},error:e[c+1],complete:e[c+2]},bV(n._query)}return function(x,L,z,Y){const ue=new EI(Y),De=new Sx(L,ue,z);return x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Ix(yield fg(x),De)})),()=>{ue.bc(),x.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Dx(yield fg(x),De)}))}}(xr(E),T,f,y)}function mg(n,e){return function(t,r){const i=new Zr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function X$(n,e,t){return Nx.apply(this,arguments)}(yield uk(t),r,i)})),i.promise}(xr(n),e)}function bk(n,e,t){const r=t.docs.get(e._key),i=new sh(n);return new kc(n,i,e._key,r,new ep(t.hasPendingWrites,t.fromCache),e.converter)}const pG={maxAttempts:5};class kV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xf(e)}set(e,t,r){this._verifyNotCommitted();const i=oh(e,this._firestore),l=OI(i.converter,t,r),c=AI(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,or.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=oh(e,this._firestore);let c;return c="string"==typeof(t=(0,bn.m9)(t))||t instanceof xc?pk(this._dataReader,"WriteBatch.update",l._key,t,r,i):fk(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=oh(e,this._firestore);return this._mutations=this._mutations.concat(new Xm(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function oh(n,e){if((n=(0,bn.m9)(n)).firestore!==e)throw new Ne(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xf(e)}get(e){const t=oh(e,this._firestore),r=new rG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const l=i[0];if(l.isFoundDocument())return new Ov(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Ov(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=oh(e,this._firestore),l=OI(i.converter,t,r),c=AI(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=oh(e,this._firestore);let c;return c="string"==typeof(t=(0,bn.m9)(t))||t instanceof xc?pk(this._dataReader,"Transaction.update",l._key,t,r,i):fk(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=oh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=oh(e,this._firestore),r=new sh(this._firestore);return super.get(e).then(i=>new kc(this._firestore,r,t._key,i._document,new ep(!1,!1),t.converter))}}function wk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function NV(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function OV(){if(!function Hj(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hm=Sf.SDK_VERSION,(0,Sf._registerComponent)(new pE.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),c=new Yn(new Mj(t.getProvider("auth-internal")),new Rj(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(f.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Sf.registerVersion)(mP,"3.8.0",n),(0,Sf.registerVersion)(mP,"3.8.0","esm2017")}();class Vv{constructor(e){this._delegate=e}static fromBase64String(e){return OV(),new Vv(uu.fromBase64String(e))}static fromUint8Array(e){return NV(),new Vv(uu.fromUint8Array(e))}toBase64(){return OV(),this._delegate.toBase64()}toUint8Array(){return NV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ek(n){return function CG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class DG{enableIndexedDbPersistence(e,t){return function N3(n,e){hV(n=on(n,Yn));const t=xr(n),r=n._freezeSettings(),i=new ek;return dV(t,i,new WL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function O3(n){hV(n=on(n,Yn));const e=xr(n),t=n._freezeSettings(),r=new ek;return dV(e,r,new m3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function P3(n){if(n._initialized&&!n._terminated)throw new Ne(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!Ya.C())return Promise.resolve();const i=r+"main";yield Ya.delete(i)}),function(r){return t.apply(this,arguments)})(WM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class PV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof qd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Nf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function eV(n,e,t,r={}){var i;const l=(n=on(n,Rv))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Nf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=ci.MOCK_USER;else{c=(0,bn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ci(y)}n._authCredentials=new Sj(new gP(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function L3(n){return function I3(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield oV(n),t=yield lk(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i._u.delete(0),xv(i)}(t)}))}(xr(n=on(n,Yn)))}(this._delegate)}disableNetwork(){return function V3(n){return function C3(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield oV(n),t=yield lk(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const l=Ze(i);l._u.add(0),yield og(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(xr(n=on(n,Yn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function F3(n){return function(e){const t=new Zr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function n3(n,e){return Vx.apply(this,arguments)}(yield uk(e),t)})),t.promise}(xr(n=on(n,Yn)))}(this._delegate)}onSnapshotsInSync(e){return function fG(n,e){return function A3(n,e){const t=new EI(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield fg(n),i=t,Ze(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield fg(n),i=t,void Ze(r).Ru.delete(i);var r,i}))}}(xr(n=on(n,Yn)),dk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gg(this,tV(this._delegate,e))}catch(t){throw ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new oa(this,wI(this._delegate,e))}catch(t){throw ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hs(this,function g3(n,e){if(n=on(n,Rv),tk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ri(n,null,(t=e,new Tc(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gG(n,e,t){n=on(n,Yn);const r=Object.assign(Object.assign({},pG),t);return function(i){if(i.maxAttempts<1)throw new Ne(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,c){const f=new Zr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const y=yield function aV(n){return II(n).then(e=>e.datastore)}(i);new w3(i.asyncQueue,y,c,l,f).run()})),f.promise}(xr(n),i=>e(new mG(n,i)),r)}(this._delegate,t=>e(new FV(this,t)))}batch(){return xr(this._delegate),new LV(new kV(this._delegate,e=>mg(this._delegate,e)))}loadBundle(e){return function U3(n,e){const t=xr(n=on(n,Yn)),r=new k3;return function S3(n,e,t,r){const i=function(l,c){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,E){if(y instanceof Uint8Array)return rV(y,E);if(y instanceof ArrayBuffer)return rV(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new y3(y,c);var y}(t,Mv(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function p3(n,e,t){const r=Ze(n);var i;(i=(0,Ee.Z)(function*(l,c,f){try{const y=yield c.getMetadata();if(yield function(L,z){const Y=Ze(L),ue=Mr(z.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",De=>Y.Ns.getBundleMetadata(De,z.id)).then(De=>!!De&&De.createTime.compareTo(ue)>=0)}(l.localStore,y))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=y).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(LL(y));const E=new q$(y,l.localStore,c.yt);let T=yield c.mc();for(;T;){const L=yield E.Fu(T);L&&f._updateProgress(L),T=yield c.mc()}const x=yield E.complete();return yield Mc(l,x.Lu,void 0),yield function(L,z){const Y=Ze(L);return Y.persistence.runTransaction("Save bundle","readwrite",ue=>Y.Ns.saveBundleMetadata(ue,z))}(l.localStore,y),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(y){return Nf("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var L}),function(l,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield uk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function B3(n,e){return function M3(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield CI(n),e)}))}(xr(n=on(n,Yn)),e).then(t=>t?new Ri(n,null,t.query):null)}(this._delegate,e).then(t=>t?new hs(this,t):null)}}class PI extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vv(new uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class FV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PI(e)}get(e){const t=np(e);return this._delegate.get(t).then(r=>new Uv(this._firestore,new kc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=np(e);return r?(wk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=np(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=np(e);return this._delegate.delete(t),this}}class LV{constructor(e){this._delegate=e}set(e,t,r){const i=np(e);return r?(wk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=np(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=np(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class tp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Lv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bv(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=tp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new tp(e,new PI(e),t),i.set(t,l)),l}}tp.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new Zn(t._delegate,r,new We(e)))}static forKey(e,t,r){return new oa(t,new Zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gg(this.firestore,tV(this._delegate,e))}catch(t){throw ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,bn.m9)(e))instanceof Zn&&nV(this._delegate,e)}set(e,t){t=wk("DocumentReference.set",t);try{return t?SV(this._delegate,e,t):SV(this._delegate,e)}catch(r){throw ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?MV(this._delegate,e):MV(this._delegate,e,t,...r)}catch(i){throw ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dG(n){return mg(on(n.firestore,Yn),[new Xm(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=VV(e),r=UV(e,i=>new Uv(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xV(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function oG(n){n=on(n,Zn);const e=on(n.firestore,Yn),t=xr(e),r=new sh(e);return function D3(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,l,c){try{const f=yield function(y,E){const T=Ze(y);return T.persistence.runTransaction("read document","readonly",x=>T.localDocuments.getDocument(x,E))}(i,l);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Ne(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=ug(f,`Failed to get document '${l} from cache`);c.reject(y)}}),function(i,l,c){return r.apply(this,arguments)})(yield CI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new kc(e,r,n._key,i,new ep(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function aG(n){n=on(n,Zn);const e=on(n.firestore,Yn);return lV(xr(e),n._key,{source:"server"}).then(t=>bk(e,n,t))}(this._delegate):function sG(n){n=on(n,Zn);const e=on(n.firestore,Yn);return lV(xr(e),n._key).then(t=>bk(e,n,t))}(this._delegate),t.then(r=>new Uv(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?tp.getInstance(this.firestore,e):null))}}function ds(n,e,t){return n.message=n.message.replace(e,t),n}function VV(n){for(const e of n)if("object"==typeof e&&!Ek(e))return e;return{}}function UV(n,e){var t,r;let i;return i=Ek(n[0])?n[0]:Ek(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Uv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AV(this._delegate,e._delegate)}}class Bv extends Uv{data(e){const t=this._delegate.data(e);return function Tj(n,e){n||ot()}(void 0!==t),t}}class hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PI(e)}where(e,t,r){try{return new hs(this.firestore,rh(this._delegate,function Z3(n,e,t){const r=e,i=xI("where",n);return Fv._create(i,r,t)}(e,t,r)))}catch(i){throw ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new hs(this.firestore,rh(this._delegate,function Y3(n,e="asc"){const t=e,r=xI("orderBy",n);return _k._create(r,t)}(e,t)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hs(this.firestore,rh(this._delegate,function Q3(n){return QL("limit",n),kI._create("limit",n,"F")}(e)))}catch(t){throw ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new hs(this.firestore,rh(this._delegate,function X3(n){return QL("limitToLast",n),kI._create("limitToLast",n,"L")}(e)))}catch(t){throw ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hs(this.firestore,rh(this._delegate,function J3(...n){return RI._create("startAt",n,!0)}(...e)))}catch(t){throw ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hs(this.firestore,rh(this._delegate,function eG(...n){return RI._create("startAfter",n,!1)}(...e)))}catch(t){throw ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hs(this.firestore,rh(this._delegate,function tG(...n){return NI._create("endBefore",n,!1)}(...e)))}catch(t){throw ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hs(this.firestore,rh(this._delegate,function nG(...n){return NI._create("endAt",n,!0)}(...e)))}catch(t){throw ds(t,"endAt()","Query.endAt()")}}isEqual(e){return nk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function uG(n){n=on(n,Ri);const e=on(n.firestore,Yn),t=xr(e),r=new sh(e);return function T3(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,l,c){try{const f=yield pI(i,l,!0),y=new BL(l,f.Hi),E=y.Wu(f.documents),T=y.applyChanges(E,!1);c.resolve(T.snapshot)}catch(f){const y=ug(f,`Failed to execute query '${l} against cache`);c.reject(y)}}),function(i,l,c){return r.apply(this,arguments)})(yield CI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ih(e,r,n,i))}(this._delegate):"server"===e?.source?function cG(n){n=on(n,Ri);const e=on(n.firestore,Yn),t=xr(e),r=new sh(e);return uV(t,n._query,{source:"server"}).then(i=>new ih(e,r,n,i))}(this._delegate):function lG(n){n=on(n,Ri);const e=on(n.firestore,Yn),t=xr(e),r=new sh(e);return bV(n._query),uV(t,n._query).then(i=>new ih(e,r,n,i))}(this._delegate),t.then(r=>new Ik(this.firestore,new ih(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=VV(e),r=UV(e,i=>new Ik(this.firestore,new ih(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xV(this._delegate,t,r)}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?tp.getInstance(this.firestore,e):null))}}class AG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ik{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bv(this._firestore,r))})}isEqual(e){return AV(this._delegate,e._delegate)}}class gg extends hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?wI(this._delegate):wI(this._delegate,e))}catch(t){throw ds(t,"doc()","CollectionReference.doc()")}}add(e){return function hG(n,e){const t=on(n.firestore,Yn),r=wI(n),i=OI(n.converter,e);return mg(t,[AI(Xf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return nV(this._delegate,e._delegate)}withConverter(e){return new gg(this.firestore,this._delegate.withConverter(e?tp.getInstance(this.firestore,e):null))}}function np(n){return on(n,Zn)}class Ck{constructor(...e){this._delegate=new xc(...e)}static documentId(){return new Ck(Er.keyField().canonicalString())}isEqual(e){return(e=(0,bn.m9)(e))instanceof xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class rp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _G(){return new hk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rp(e)}static delete(){const e=function yG(){return new Nv("deleteField")}();return e._methodName="FieldValue.delete",new rp(e)}static arrayUnion(...e){const t=function vG(...n){return new G3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new rp(t)}static arrayRemove(...e){const t=function bG(...n){return new z3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new rp(t)}static increment(e){const t=function wG(n){return new q3("increment",n)}(e);return t._methodName="FieldValue.increment",new rp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const SG={Firestore:PV,GeoPoint:DI,Timestamp:sr,Blob:Vv,Transaction:FV,WriteBatch:LV,DocumentReference:oa,DocumentSnapshot:Uv,Query:hs,QueryDocumentSnapshot:Bv,QuerySnapshot:Ik,CollectionReference:gg,FieldPath:Ck,FieldValue:rp,setLogLevel:function TG(n){!function Dj(n){$d.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function xG(n){(function MG(n,e){n.INTERNAL.registerComponent(new pE.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},SG)))})(n,(e,t)=>new PV(e,t,new DG)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(EB.Z);var FI=F(5363),kG=F(6063);class RG extends Gn.x{constructor(e=1/0,t=1/0,r=kG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}function BV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Ay.B)({connector:()=>new RG(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jV(n,e){return(0,Wr.m)(e)?zn(()=>n,e):zn(()=>n)}var Dk=F(9468);F(259);const Ak=new Map,$V={activated:!1,tokenObservers:[]},LG={initialized:!1,enabled:!1};function Ni(n){return Ak.get(n)||Object.assign({},$V)}function VI(){return LG}class $G{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new bn.BH,yield function GG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new bn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fs=new bn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zV(n){if(!Ni(n).activated)throw fs.create("use-before-activation",{appName:n.name})}function xk(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const l={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,l)}catch(x){throw fs.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw fs.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(x){throw fs.create("fetch-parse-error",{originalErrorMessage:x?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(y[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+E,issuedAtTimeMillis:T}}),kk.apply(this,arguments)}function KG(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const jv="firebase-app-check-store";let jI=null;function WV(){return jI||(jI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(jv,{keyPath:"compositeKey"})}}catch(t){e(fs.create("storage-open",{originalErrorMessage:t?.message}))}}),jI)}function Rk(){return Rk=(0,Ee.Z)(function*(n,e){const r=(yield WV()).transaction(jv,"readwrite"),l=r.objectStore(jv).put({compositeKey:n,value:e});return new Promise((c,f)=>{l.onsuccess=y=>{c()},r.onerror=y=>{var E;f(fs.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})}),Rk.apply(this,arguments)}const Hv=new Bd.Yd("@firebase/app-check");function Pk(n,e){return(0,bn.hl)()?function XG(n,e){return function KV(n,e){return Rk.apply(this,arguments)}(function YV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QV(){return VI().enabled}function XV(){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,Ee.Z)(function*(){const n=VI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Lk.apply(this,arguments)}const iz={error:"UNKNOWN_ERROR"};function sz(n){return bn.US.encodeString(JSON.stringify(n),!1)}function HI(n){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Ee.Z)(function*(n,e=!1){const t=n.app;zV(t);const r=Ni(t);let l,i=r.token;if(i&&!yg(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(yg(y)?i=y:yield Pk(t,void 0))}if(!e&&i&&yg(i))return{token:i.token};let f,c=!1;if(QV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xk(KG(t,yield XV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const y=yield r.exchangeTokenPromise;return yield Pk(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Ni(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Hv.warn(y.message):Hv.error(y),l=y}return i?l?f=yg(i)?{token:i.token,internalError:l}:tU(l):(f={token:i.token},r.token=i,yield Pk(t,i)):f=tU(l),c&&eU(t,f),f}),Vk.apply(this,arguments)}function Bk(n,e){const t=Ni(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function JV(n){const{app:e}=n,t=Ni(e);let r=t.tokenRefresher;r||(r=function oz(n){const{app:e}=n;return new $G((0,Ee.Z)(function*(){let r;if(r=Ni(e).token?yield HI(n,!0):yield HI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ni(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eU(n,e){const t=Ni(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function yg(n){return n.expireTimeMillis-Date.now()>0}function tU(n){return{token:sz(iz),error:n}}class az{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ni(this.app);for(const t of e)Bk(this.app,t.next);return Promise.resolve()}}const uU="app-check-internal";!function wz(){(0,Sf._registerComponent)(new pE.wA("app-check",n=>function lz(n,e){return new az(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(uU).initialize()})),(0,Sf._registerComponent)(new pE.wA(uU,n=>function uz(n){return{getToken:e=>HI(n,e),addTokenListener:e=>function Uk(n,e,t,r){const{app:i}=n,l=Ni(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&yg(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),JV(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>JV(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sf.registerVersion)("@firebase/app-check","0.6.0")}();class Gk{constructor(){return(0,Ai.vb)("app-check")}}typeof window<"u"&&window;var Tz=F(9260);const dU=new d.OlP("angularfire2.auth.use-emulator"),hU=new d.OlP("angularfire2.auth.settings"),fU=new d.OlP("angularfire2.auth.tenant-id"),pU=new d.OlP("angularfire2.auth.langugage-code"),mU=new d.OlP("angularfire2.auth.use-device-language"),gU=new d.OlP("angularfire.auth.persistence"),yU=(n,e,t,r,i,l,c,f)=>(0,Za.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),c)for(const[E,T]of Object.entries(c))y.settings[E]=T;return f&&y.setPersistence(f),y},[t,r,i,l,c,f]);let _U=(()=>{class n{constructor(t,r,i,l,c,f,y,E,T,x,L,z){const Y=new Gn.x,ue=rt(void 0).pipe((0,FI.Q)(c.outsideAngular),zn(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9169)))),(0,Qe.U)(()=>(0,Za.on)(t,l,r)),(0,Qe.U)(De=>yU(De,l,f,E,T,x,y,L)),BV({bufferSize:1,refCount:!1}));if(yr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{ue.pipe(re()).subscribe();const et=ue.pipe(zn(dt=>dt.getRedirectResult().then(St=>St,()=>null)),Ai.iC,BV({bufferSize:1,refCount:!1})),pt=ue.pipe(zn(dt=>new _r.y(St=>({unsubscribe:l.runOutsideAngular(()=>dt.onAuthStateChanged(Ot=>St.next(Ot),Ot=>St.error(Ot),()=>St.complete()))})))),yt=ue.pipe(zn(dt=>new _r.y(St=>({unsubscribe:l.runOutsideAngular(()=>dt.onIdTokenChanged(Ot=>St.next(Ot),Ot=>St.error(Ot),()=>St.complete()))}))));this.authState=et.pipe(jV(pt),(0,Dk.R)(c.outsideAngular),(0,FI.Q)(c.insideAngular)),this.user=et.pipe(jV(yt),(0,Dk.R)(c.outsideAngular),(0,FI.Q)(c.insideAngular)),this.idToken=this.user.pipe(zn(dt=>dt?(0,mn.D)(dt.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(zn(dt=>dt?(0,mn.D)(dt.getIdTokenResult()):rt(null))),this.credential=(0,vT.T)(et,Y,this.authState.pipe(C(dt=>!dt))).pipe((0,Qe.U)(dt=>dt?.user?dt:null),(0,Dk.R)(c.outsideAngular),(0,FI.Q)(c.insideAngular))}return(0,Za.pX)(this,ue,l,{spy:{apply:(De,et,pt)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&pt.then(yt=>Y.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Za.Dh),d.LFG(Za.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ai.HU),d.LFG(dU,8),d.LFG(hU,8),d.LFG(fU,8),d.LFG(pU,8),d.LFG(mU,8),d.LFG(gU,8),d.LFG(Gk,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vU(n,e){return function Sz(n,e=Hy.z){return new _r.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function qk(n,e){return vU(n,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function GI(n,e){return qk(n,e).pipe(io(void 0),DS(),(0,Qe.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const y=i.find(T=>T.doc.ref.isEqual(c.ref)),E=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),l}))}function bU(n,e,t){return GI(n,t).pipe(Lt((r,i)=>function xz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function kz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Wk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Wk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),jb(),(0,Qe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Wk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function wU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EU{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=GI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(io(void 0),DS(),C(([r,i])=>i.length>0||!r),(0,Qe.U)(([r,i])=>i),Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wU(e);return bU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return qk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ai.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(Ai.iC)}add(e){return this.ref.add(e)}doc(e){return new IU(this.ref.doc(e),this.afs)}}class IU{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=TU(r,t);return new EU(i,l,this.afs)}snapshotChanges(){return function Mz(n,e){return vU(n,e).pipe(io(void 0),DS(),(0,Qe.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(Ai.iC)}}class Rz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),C(t=>t.length>0),Ai.iC):GI(this.query,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wU(e);return bU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return qk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ai.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(Ai.iC)}}const CU=new d.OlP("angularfire2.enableFirestorePersistence"),DU=new d.OlP("angularfire2.firestore.persistenceSettings"),Nz=new d.OlP("angularfire2.firestore.settings"),Oz=new d.OlP("angularfire2.firestore.use-emulator");function TU(n,e=(t=>t)){return{query:e(n),ref:n}}let Pz=(()=>{class n{constructor(t,r,i,l,c,f,y,E,T,x,L,z,Y,ue,De,et,pt){this.schedulers=y;const yt=(0,Za.on)(t,f,r),dt=T;x&&yU(yt,f,L,Y,ue,De,z,et),[this.firestore,this.persistenceEnabled$]=(0,Za.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const St=f.runOutsideAngular(()=>yt.firestore());if(l&&St.settings(l),dt&&St.useEmulator(...dt),i&&!yr(c)){const Ot=()=>{try{return(0,mn.D)(St.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),rt(!1)}};return[St,f.runOutsideAngular(Ot)]}return[St,rt(!1)]},[l,dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=TU(i,r),f=this.schedulers.ngZone.run(()=>l);return new EU(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new Rz(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new IU(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Za.Dh),d.LFG(Za.xv,8),d.LFG(CU,8),d.LFG(Nz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ai.HU),d.LFG(DU,8),d.LFG(Oz,8),d.LFG(_U,8),d.LFG(dU,8),d.LFG(hU,8),d.LFG(fU,8),d.LFG(pU,8),d.LFG(mU,8),d.LFG(gU,8),d.LFG(Gk,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fz=(()=>{class n{constructor(){Tz.Z.registerVersion("angularfire",Ai.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CU,useValue:!0},{provide:DU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Pz]}),n})(),Lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[GA]}),n.\u0275inj=d.cJS({imports:[Dl,$0,wB,_w,ww,q0,iT,VA,hf,Za.hO.initializeApp(XO_firebase),Fz]}),n})();(0,d.G48)(),Cl().bootstrapModule(Lz).catch(n=>console.error(n))},9751:(ht,Me,F)=>{F.d(Me,{y:()=>pe});var d=F(930),te=F(727),O=F(8822),le=F(9635),ae=F(2416),fe=F(576),se=F(2806);let pe=(()=>{class Q{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ie=new Q;return Ie.source=this,Ie.operator=Re,Ie}subscribe(Re,Ie,st){const _e=function H(Q){return Q&&Q instanceof d.Lv||function j(Q){return Q&&(0,fe.m)(Q.next)&&(0,fe.m)(Q.error)&&(0,fe.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(Re)?Re:new d.Hp(Re,Ie,st);return(0,se.x)(()=>{const{operator:ge,source:tt}=this;_e.add(ge?ge.call(_e,tt):tt?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ie){Re.error(Ie)}}forEach(Re,Ie){return new(Ie=me(Ie))((st,_e)=>{const ge=new d.Hp({next:tt=>{try{Re(tt)}catch(lt){_e(lt),ge.unsubscribe()}},error:_e,complete:st});this.subscribe(ge)})}_subscribe(Re){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Re)}[O.L](){return this}pipe(...Re){return(0,le.U)(Re)(this)}toPromise(Re){return new(Re=me(Re))((Ie,st)=>{let _e;this.subscribe(ge=>_e=ge,ge=>st(ge),()=>Ie(_e))})}}return Q.create=Ve=>new Q(Ve),Q})();function me(Q){var Ve;return null!==(Ve=Q??ae.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(ht,Me,F)=>{F.d(Me,{x:()=>se});var d=F(9751),te=F(727);const le=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=F(8737),fe=F(2806);let se=(()=>{class me extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new pe(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new le}next(H){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Ve,observers:Re}=this;return Q||Ve?te.Lc:(this.currentObservers=null,Re.push(H),new te.w0(()=>{this.currentObservers=null,(0,ae.P)(Re,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Ve,isStopped:Re}=this;Q?H.error(Ve):Re&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return me.create=(j,H)=>new pe(j,H),me})();class pe extends se{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,j)}error(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Q?Q:te.Lc}}},930:(ht,Me,F)=>{F.d(Me,{Hp:()=>st,Lv:()=>Q});var d=F(576),te=F(727),O=F(2416),le=F(7849),ae=F(5032);const fe=me("C",void 0,void 0);function me(ke,be,Ce){return{kind:ke,value:be,error:Ce}}var j=F(3410),H=F(2806);class Q extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=lt}static create(be,Ce,He){return new st(be,Ce,He)}next(be){this.isStopped?tt(function pe(ke){return me("N",ke,void 0)}(be),this):this._next(be)}error(be){this.isStopped?tt(function se(ke){return me("E",void 0,ke)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?tt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Re(ke,be){return Ve.call(ke,be)}class Ie{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(be)}catch(He){_e(He)}}error(be){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(be)}catch(He){_e(He)}else _e(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ce){_e(Ce)}}}class st extends Q{constructor(be,Ce,He){let $e;if(super(),(0,d.m)(be)||!be)$e={next:be??void 0,error:Ce??void 0,complete:He??void 0};else{let B;this&&O.v.useDeprecatedNextContext?(B=Object.create(be),B.unsubscribe=()=>this.unsubscribe(),$e={next:be.next&&Re(be.next,B),error:be.error&&Re(be.error,B),complete:be.complete&&Re(be.complete,B)}):$e=be}this.destination=new Ie($e)}}function _e(ke){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ke):(0,le.h)(ke)}function tt(ke,be){const{onStoppedNotification:Ce}=O.v;Ce&&j.z.setTimeout(()=>Ce(ke,be))}const lt={closed:!0,next:ae.Z,error:function ge(ke){throw ke},complete:ae.Z}},727:(ht,Me,F)=>{F.d(Me,{Lc:()=>fe,w0:()=>ae,Nn:()=>se});var d=F(576);const O=(0,F(3888).d)(me=>function(H){me(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Ve)=>`${Ve+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var le=F(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Re of H)Re.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,d.m)(Q))try{Q()}catch(Re){j=Re instanceof O?Re.errors:[Re]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Re of Ve)try{pe(Re)}catch(Ie){j=j??[],Ie instanceof O?j=[...j,...Ie.errors]:j.push(Ie)}}if(j)throw new O(j)}}add(j){var H;if(j&&j!==this)if(this.closed)pe(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,le.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,le.P)(H,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const me=new ae;return me.closed=!0,me})();const fe=ae.EMPTY;function se(me){return me instanceof ae||me&&"closed"in me&&(0,d.m)(me.remove)&&(0,d.m)(me.add)&&(0,d.m)(me.unsubscribe)}function pe(me){(0,d.m)(me)?me():me.unsubscribe()}},2416:(ht,Me,F)=>{F.d(Me,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Me,F)=>{F.d(Me,{E:()=>te});const te=new(F(9751).y)(ae=>ae.complete())},8996:(ht,Me,F)=>{F.d(Me,{D:()=>be});var d=F(8421),te=F(5363),O=F(9468),fe=F(9751),pe=F(2202),me=F(576),j=F(9672);function Q(Ce,He){if(!Ce)throw new Error("Iterable cannot be null");return new fe.y($e=>{(0,j.f)($e,He,()=>{const B=Ce[Symbol.asyncIterator]();(0,j.f)($e,He,()=>{B.next().then(ye=>{ye.done?$e.complete():$e.next(ye.value)})},0,!0)})})}var Ve=F(3670),Re=F(8239),Ie=F(1144),st=F(6495),_e=F(2206),ge=F(4532),tt=F(3260);function be(Ce,He){return He?function ke(Ce,He){if(null!=Ce){if((0,Ve.c)(Ce))return function le(Ce,He){return(0,d.Xf)(Ce).pipe((0,O.R)(He),(0,te.Q)(He))}(Ce,He);if((0,Ie.z)(Ce))return function se(Ce,He){return new fe.y($e=>{let B=0;return He.schedule(function(){B===Ce.length?$e.complete():($e.next(Ce[B++]),$e.closed||this.schedule())})})}(Ce,He);if((0,Re.t)(Ce))return function ae(Ce,He){return(0,d.Xf)(Ce).pipe((0,O.R)(He),(0,te.Q)(He))}(Ce,He);if((0,_e.D)(Ce))return Q(Ce,He);if((0,st.T)(Ce))return function H(Ce,He){return new fe.y($e=>{let B;return(0,j.f)($e,He,()=>{B=Ce[pe.h](),(0,j.f)($e,He,()=>{let ye,W;try{({value:ye,done:W}=B.next())}catch(ee){return void $e.error(ee)}W?$e.complete():$e.next(ye)},0,!0)}),()=>(0,me.m)(B?.return)&&B.return()})}(Ce,He);if((0,tt.L)(Ce))return function lt(Ce,He){return Q((0,tt.Q)(Ce),He)}(Ce,He)}throw(0,ge.z)(Ce)}(Ce,He):(0,d.Xf)(Ce)}},8421:(ht,Me,F)=>{F.d(Me,{Xf:()=>Ve});var d=F(655),te=F(1144),O=F(8239),le=F(9751),ae=F(3670),fe=F(2206),se=F(4532),pe=F(6495),me=F(3260),j=F(576),H=F(7849),Q=F(8822);function Ve(ke){if(ke instanceof le.y)return ke;if(null!=ke){if((0,ae.c)(ke))return function Re(ke){return new le.y(be=>{const Ce=ke[Q.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,te.z)(ke))return function Ie(ke){return new le.y(be=>{for(let Ce=0;Ce<ke.length&&!be.closed;Ce++)be.next(ke[Ce]);be.complete()})}(ke);if((0,O.t)(ke))return function st(ke){return new le.y(be=>{ke.then(Ce=>{be.closed||(be.next(Ce),be.complete())},Ce=>be.error(Ce)).then(null,H.h)})}(ke);if((0,fe.D)(ke))return ge(ke);if((0,pe.T)(ke))return function _e(ke){return new le.y(be=>{for(const Ce of ke)if(be.next(Ce),be.closed)return;be.complete()})}(ke);if((0,me.L)(ke))return function tt(ke){return ge((0,me.Q)(ke))}(ke)}throw(0,se.z)(ke)}function ge(ke){return new le.y(be=>{(function lt(ke,be){var Ce,He,$e,B;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,d.KL)(ke);!(He=yield Ce.next()).done;)if(be.next(He.value),be.closed)return}catch(ye){$e={error:ye}}finally{try{He&&!He.done&&(B=Ce.return)&&(yield B.call(Ce))}finally{if($e)throw $e.error}}be.complete()})})(ke,be).catch(Ce=>be.error(Ce))})}},6451:(ht,Me,F)=>{F.d(Me,{T:()=>fe});var d=F(8189),te=F(8421),O=F(515),le=F(7669),ae=F(8996);function fe(...se){const pe=(0,le.yG)(se),me=(0,le._6)(se,1/0),j=se;return j.length?1===j.length?(0,te.Xf)(j[0]):(0,d.J)(me)((0,ae.D)(j,pe)):O.E}},5403:(ht,Me,F)=>{F.d(Me,{x:()=>te});var d=F(930);function te(le,ae,fe,se,pe){return new O(le,ae,fe,se,pe)}class O extends d.Lv{constructor(ae,fe,se,pe,me,j){super(ae),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=fe?function(H){try{fe(H)}catch(Q){ae.error(Q)}}:super._next,this._error=pe?function(H){try{pe(H)}catch(Q){ae.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(H){ae.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ht,Me,F)=>{F.d(Me,{U:()=>O});var d=F(4482),te=F(5403);function O(le,ae){return(0,d.e)((fe,se)=>{let pe=0;fe.subscribe((0,te.x)(se,me=>{se.next(le.call(ae,me,pe++))}))})}},8189:(ht,Me,F)=>{F.d(Me,{J:()=>O});var d=F(5577),te=F(4671);function O(le=1/0){return(0,d.z)(te.y,le)}},5577:(ht,Me,F)=>{F.d(Me,{z:()=>pe});var d=F(4004),te=F(8421),O=F(4482),le=F(9672),ae=F(5403),se=F(576);function pe(me,j,H=1/0){return(0,se.m)(j)?pe((Q,Ve)=>(0,d.U)((Re,Ie)=>j(Q,Re,Ve,Ie))((0,te.Xf)(me(Q,Ve))),H):("number"==typeof j&&(H=j),(0,O.e)((Q,Ve)=>function fe(me,j,H,Q,Ve,Re,Ie,st){const _e=[];let ge=0,tt=0,lt=!1;const ke=()=>{lt&&!_e.length&&!ge&&j.complete()},be=He=>ge<Q?Ce(He):_e.push(He),Ce=He=>{Re&&j.next(He),ge++;let $e=!1;(0,te.Xf)(H(He,tt++)).subscribe((0,ae.x)(j,B=>{Ve?.(B),Re?be(B):j.next(B)},()=>{$e=!0},void 0,()=>{if($e)try{for(ge--;_e.length&&ge<Q;){const B=_e.shift();Ie?(0,le.f)(j,Ie,()=>Ce(B)):Ce(B)}ke()}catch(B){j.error(B)}}))};return me.subscribe((0,ae.x)(j,be,()=>{lt=!0,ke()})),()=>{st?.()}}(Q,Ve,me,H)))}},5363:(ht,Me,F)=>{F.d(Me,{Q:()=>le});var d=F(9672),te=F(4482),O=F(5403);function le(ae,fe=0){return(0,te.e)((se,pe)=>{se.subscribe((0,O.x)(pe,me=>(0,d.f)(pe,ae,()=>pe.next(me),fe),()=>(0,d.f)(pe,ae,()=>pe.complete(),fe),me=>(0,d.f)(pe,ae,()=>pe.error(me),fe)))})}},3099:(ht,Me,F)=>{F.d(Me,{B:()=>ae});var d=F(8421),te=F(7579),O=F(930),le=F(4482);function ae(se={}){const{connector:pe=(()=>new te.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=se;return Q=>{let Ve,Re,Ie,st=0,_e=!1,ge=!1;const tt=()=>{Re?.unsubscribe(),Re=void 0},lt=()=>{tt(),Ve=Ie=void 0,_e=ge=!1},ke=()=>{const be=Ve;lt(),be?.unsubscribe()};return(0,le.e)((be,Ce)=>{st++,!ge&&!_e&&tt();const He=Ie=Ie??pe();Ce.add(()=>{st--,0===st&&!ge&&!_e&&(Re=fe(ke,H))}),He.subscribe(Ce),!Ve&&st>0&&(Ve=new O.Hp({next:$e=>He.next($e),error:$e=>{ge=!0,tt(),Re=fe(lt,me,$e),He.error($e)},complete:()=>{_e=!0,tt(),Re=fe(lt,j),He.complete()}}),(0,d.Xf)(be).subscribe(Ve))})(Q)}}function fe(se,pe,...me){if(!0===pe)return void se();if(!1===pe)return;const j=new O.Hp({next:()=>{j.unsubscribe(),se()}});return pe(...me).subscribe(j)}},9468:(ht,Me,F)=>{F.d(Me,{R:()=>te});var d=F(4482);function te(O,le=0){return(0,d.e)((ae,fe)=>{fe.add(O.schedule(()=>ae.subscribe(fe),le))})}},8505:(ht,Me,F)=>{F.d(Me,{b:()=>ae});var d=F(576),te=F(4482),O=F(5403),le=F(4671);function ae(fe,se,pe){const me=(0,d.m)(fe)||se||pe?{next:fe,error:se,complete:pe}:fe;return me?(0,te.e)((j,H)=>{var Q;null===(Q=me.subscribe)||void 0===Q||Q.call(me);let Ve=!0;j.subscribe((0,O.x)(H,Re=>{var Ie;null===(Ie=me.next)||void 0===Ie||Ie.call(me,Re),H.next(Re)},()=>{var Re;Ve=!1,null===(Re=me.complete)||void 0===Re||Re.call(me),H.complete()},Re=>{var Ie;Ve=!1,null===(Ie=me.error)||void 0===Ie||Ie.call(me,Re),H.error(Re)},()=>{var Re,Ie;Ve&&(null===(Re=me.unsubscribe)||void 0===Re||Re.call(me)),null===(Ie=me.finalize)||void 0===Ie||Ie.call(me)}))}):le.y}},4408:(ht,Me,F)=>{F.d(Me,{o:()=>ae});var d=F(727);class te extends d.w0{constructor(se,pe){super()}schedule(se,pe=0){return this}}const O={setInterval(fe,se,...pe){const{delegate:me}=O;return me?.setInterval?me.setInterval(fe,se,...pe):setInterval(fe,se,...pe)},clearInterval(fe){const{delegate:se}=O;return(se?.clearInterval||clearInterval)(fe)},delegate:void 0};var le=F(8737);class ae extends te{constructor(se,pe){super(se,pe),this.scheduler=se,this.work=pe,this.pending=!1}schedule(se,pe=0){var me;if(this.closed)return this;this.state=se;const j=this.id,H=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(H,j,pe)),this.pending=!0,this.delay=pe,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(H,this.id,pe),this}requestAsyncId(se,pe,me=0){return O.setInterval(se.flush.bind(se,this),me)}recycleAsyncId(se,pe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return pe;null!=pe&&O.clearInterval(pe)}execute(se,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(se,pe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,pe){let j,me=!1;try{this.work(se)}catch(H){me=!0,j=H||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:se,scheduler:pe}=this,{actions:me}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(me,this),null!=se&&(this.id=this.recycleAsyncId(pe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Me,F)=>{F.d(Me,{v:()=>O});var d=F(6063);class te{constructor(ae,fe=te.now){this.schedulerActionCtor=ae,this.now=fe}schedule(ae,fe=0,se){return new this.schedulerActionCtor(this,ae).schedule(se,fe)}}te.now=d.l.now;class O extends te{constructor(ae,fe=te.now){super(ae,fe),this.actions=[],this._active=!1}flush(ae){const{actions:fe}=this;if(this._active)return void fe.push(ae);let se;this._active=!0;do{if(se=ae.execute(ae.state,ae.delay))break}while(ae=fe.shift());if(this._active=!1,se){for(;ae=fe.shift();)ae.unsubscribe();throw se}}}},4986:(ht,Me,F)=>{F.d(Me,{z:()=>O});var d=F(4408);const O=new(F(7565).v)(d.o)},6063:(ht,Me,F)=>{F.d(Me,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(ht,Me,F)=>{F.d(Me,{z:()=>d});const d={setTimeout(te,O,...le){const{delegate:ae}=d;return ae?.setTimeout?ae.setTimeout(te,O,...le):setTimeout(te,O,...le)},clearTimeout(te){const{delegate:O}=d;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(ht,Me,F)=>{F.d(Me,{h:()=>te});const te=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Me,F)=>{F.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ht,Me,F)=>{F.d(Me,{_6:()=>fe,jO:()=>le,yG:()=>ae});var d=F(576);function O(se){return se[se.length-1]}function le(se){return(0,d.m)(O(se))?se.pop():void 0}function ae(se){return function te(se){return se&&(0,d.m)(se.schedule)}(O(se))?se.pop():void 0}function fe(se,pe){return"number"==typeof O(se)?se.pop():pe}},8737:(ht,Me,F)=>{function d(te,O){if(te){const le=te.indexOf(O);0<=le&&te.splice(le,1)}}F.d(Me,{P:()=>d})},3888:(ht,Me,F)=>{function d(te){const le=te(ae=>{Error.call(ae),ae.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Me,{d:()=>d})},2806:(ht,Me,F)=>{F.d(Me,{O:()=>le,x:()=>O});var d=F(2416);let te=null;function O(ae){if(d.v.useDeprecatedSynchronousErrorHandling){const fe=!te;if(fe&&(te={errorThrown:!1,error:null}),ae(),fe){const{errorThrown:se,error:pe}=te;if(te=null,se)throw pe}}else ae()}function le(ae){d.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ae)}},9672:(ht,Me,F)=>{function d(te,O,le,ae=0,fe=!1){const se=O.schedule(function(){le(),fe?te.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(te.add(se),!fe)return se}F.d(Me,{f:()=>d})},4671:(ht,Me,F)=>{function d(te){return te}F.d(Me,{y:()=>d})},1144:(ht,Me,F)=>{F.d(Me,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(ht,Me,F)=>{F.d(Me,{D:()=>te});var d=F(576);function te(O){return Symbol.asyncIterator&&(0,d.m)(O?.[Symbol.asyncIterator])}},576:(ht,Me,F)=>{function d(te){return"function"==typeof te}F.d(Me,{m:()=>d})},3670:(ht,Me,F)=>{F.d(Me,{c:()=>O});var d=F(8822),te=F(576);function O(le){return(0,te.m)(le[d.L])}},6495:(ht,Me,F)=>{F.d(Me,{T:()=>O});var d=F(2202),te=F(576);function O(le){return(0,te.m)(le?.[d.h])}},8239:(ht,Me,F)=>{F.d(Me,{t:()=>te});var d=F(576);function te(O){return(0,d.m)(O?.then)}},3260:(ht,Me,F)=>{F.d(Me,{L:()=>le,Q:()=>O});var d=F(655),te=F(576);function O(ae){return(0,d.FC)(this,arguments,function*(){const se=ae.getReader();try{for(;;){const{value:pe,done:me}=yield(0,d.qq)(se.read());if(me)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(pe)}}finally{se.releaseLock()}})}function le(ae){return(0,te.m)(ae?.getReader)}},4482:(ht,Me,F)=>{F.d(Me,{A:()=>te,e:()=>O});var d=F(576);function te(le){return(0,d.m)(le?.lift)}function O(le){return ae=>{if(te(ae))return ae.lift(function(fe){try{return le(fe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Me,F)=>{function d(){}F.d(Me,{Z:()=>d})},9635:(ht,Me,F)=>{F.d(Me,{U:()=>O,z:()=>te});var d=F(4671);function te(...le){return O(le)}function O(le){return 0===le.length?d.y:1===le.length?le[0]:function(fe){return le.reduce((se,pe)=>pe(se),fe)}}},7849:(ht,Me,F)=>{F.d(Me,{h:()=>O});var d=F(2416),te=F(3410);function O(le){te.z.setTimeout(()=>{const{onUnhandledError:ae}=d.v;if(!ae)throw le;ae(le)})}},4532:(ht,Me,F)=>{function d(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Me,{z:()=>d})},655:(ht,Me,F)=>{function le(W,ee){var oe={};for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&ee.indexOf(ie)<0&&(oe[ie]=W[ie]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ie=Object.getOwnPropertySymbols(W);Fe<ie.length;Fe++)ee.indexOf(ie[Fe])<0&&Object.prototype.propertyIsEnumerable.call(W,ie[Fe])&&(oe[ie[Fe]]=W[ie[Fe]])}return oe}function pe(W,ee,oe,ie){return new(oe||(oe=Promise))(function(Oe,mt){function en(un){try{Ke(ie.next(un))}catch(Cn){mt(Cn)}}function zt(un){try{Ke(ie.throw(un))}catch(Cn){mt(Cn)}}function Ke(un){un.done?Oe(un.value):function Fe(Oe){return Oe instanceof oe?Oe:new oe(function(mt){mt(Oe)})}(un.value).then(en,zt)}Ke((ie=ie.apply(W,ee||[])).next())})}function _e(W){return this instanceof _e?(this.v=W,this):new _e(W)}function ge(W,ee,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ie=oe.apply(W,ee||[]),Oe=[];return Fe={},mt("next"),mt("throw"),mt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function mt(Xt){ie[Xt]&&(Fe[Xt]=function(tn){return new Promise(function(kr,Vt){Oe.push([Xt,tn,kr,Vt])>1||en(Xt,tn)})})}function en(Xt,tn){try{!function zt(Xt){Xt.value instanceof _e?Promise.resolve(Xt.value.v).then(Ke,un):Cn(Oe[0][2],Xt)}(ie[Xt](tn))}catch(kr){Cn(Oe[0][3],kr)}}function Ke(Xt){en("next",Xt)}function un(Xt){en("throw",Xt)}function Cn(Xt,tn){Xt(tn),Oe.shift(),Oe.length&&en(Oe[0][0],Oe[0][1])}}function lt(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=W[Symbol.asyncIterator];return ee?ee.call(W):(W=function Q(W){var ee="function"==typeof Symbol&&Symbol.iterator,oe=ee&&W[ee],ie=0;if(oe)return oe.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ie>=W.length&&(W=void 0),{value:W&&W[ie++],done:!W}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),oe={},ie("next"),ie("throw"),ie("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ie(Oe){oe[Oe]=W[Oe]&&function(mt){return new Promise(function(en,zt){!function Fe(Oe,mt,en,zt){Promise.resolve(zt).then(function(Ke){Oe({value:Ke,done:en})},mt)}(en,zt,(mt=W[Oe](mt)).done,mt.value)})}}}F.d(Me,{FC:()=>ge,KL:()=>lt,_T:()=>le,mG:()=>pe,qq:()=>_e})},4650:(ht,Me,F)=>{F.d(Me,{$8M:()=>Sl,$Z:()=>UC,AFp:()=>Mm,AaK:()=>pe,BQk:()=>nm,CHM:()=>ul,CRH:()=>Od,CZH:()=>Sm,CqO:()=>kD,D6c:()=>tE,EJc:()=>M0,EiD:()=>Xv,EpF:()=>MD,F$t:()=>LD,F4k:()=>xD,FYo:()=>qh,FiY:()=>Be,G48:()=>GA,Gf:()=>yf,GfV:()=>hb,Gpc:()=>H,Hsn:()=>VD,Ikx:()=>za,JOm:()=>ss,JVY:()=>Vh,KtG:()=>cl,L6k:()=>Uh,LAX:()=>Bh,LFG:()=>_n,LSH:()=>gd,Lbi:()=>A0,Lck:()=>QN,MMx:()=>Zy,NdJ:()=>ew,OlP:()=>In,Oqu:()=>rf,PXZ:()=>yO,Q6J:()=>em,QGY:()=>Ey,QP$:()=>Jt,QbO:()=>DA,Qsj:()=>fC,R0b:()=>Fs,RDi:()=>_,Rgc:()=>Rd,SBq:()=>nc,Sil:()=>k0,Suo:()=>yc,TTD:()=>Yi,TgZ:()=>oi,X6Q:()=>$A,XFs:()=>Ye,Xpm:()=>Ae,Xts:()=>Bp,Y36:()=>Yh,YKP:()=>Vw,YNc:()=>DD,Yjl:()=>we,Yz7:()=>tn,Z0I:()=>Wi,ZZ4:()=>If,_Bn:()=>Lw,_UZ:()=>Dd,_Vd:()=>jl,_c5:()=>k_,_uU:()=>ZD,aQg:()=>Cf,c2e:()=>y_,cJS:()=>Vt,cg1:()=>Py,dDg:()=>fO,dqk:()=>an,eBb:()=>ec,eFA:()=>B0,ekj:()=>Sy,eoX:()=>OA,f3M:()=>C,g9A:()=>T0,h0i:()=>df,hGG:()=>eE,iGM:()=>Nd,ifc:()=>ct,ip1:()=>wf,jDz:()=>jw,kL8:()=>mw,lG2:()=>K,lqb:()=>Bl,lri:()=>RA,mCW:()=>Jo,n5z:()=>ns,oAB:()=>jt,oxw:()=>FD,pB0:()=>Pp,q3G:()=>Wn,q4F:()=>fb,qLn:()=>rc,qOj:()=>qb,qZA:()=>tm,qzn:()=>Ii,rWj:()=>NA,s9C:()=>hc,sBO:()=>qA,sIi:()=>Ed,s_b:()=>i_,soG:()=>km,tb:()=>S0,tp0:()=>ut,uIk:()=>Yb,vHH:()=>Ie,vpe:()=>as,wAp:()=>Tt,xp6:()=>_b,ynx:()=>wy,z2F:()=>Nm,z3N:()=>rr,zSh:()=>Wg,zs3:()=>vd});var d=F(7579),te=F(727),O=F(9751),le=F(6451),ae=F(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=fe({__forward_ref__:fe});function H(s){return s.__forward_ref__=H,s.toString=function(){return pe(this())},s}function Q(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===H}class Ie extends Error{constructor(o,a){super(function st(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new Ie(-201,!1)}function zt(s,o){null==s&&function Ke(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Vt(s){return{providers:s.providers||[],imports:s.imports||[]}}function fn(s){return pi(s,mi)||pi(s,Xr)}function Wi(s){return null!==fn(s)}function pi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Bs(s){return s&&(s.hasOwnProperty(Qr)||s.hasOwnProperty(la))?s[Qr]:null}const mi=fe({\u0275prov:fe}),Qr=fe({\u0275inj:fe}),Xr=fe({ngInjectableDef:fe}),la=fe({ngInjectorDef:fe});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Dr;function Qn(s){const o=Dr;return Dr=s,o}function Jr(s,o,a){const u=fn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ye.Optional?null:void 0!==o?o:void be(pe(s))}function Pn(s){return{toString:s}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),ct=(()=>{return(s=ct||(ct={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ct;var s})();const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hr={},Rt=[],gs=fe({\u0275cmp:fe}),nn=fe({\u0275dir:fe}),Pi=fe({\u0275pipe:fe}),rn=fe({\u0275mod:fe}),Xn=fe({\u0275fac:fe}),Nr=fe({__NG_ELEMENT_ID__:fe});let it=0;function Ae(s){return Pn(()=>{const a=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Rt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ct.Emulated,id:"c"+it++,styles:s.styles||Rt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=U(s.inputs,u),h.outputs=U(s.outputs),v&&v.forEach(w=>w(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(xt).filter(Nt):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(gt).filter(Nt):null,h})}function xt(s){return J(s)||ze(s)}function Nt(s){return null!==s}function jt(s){return Pn(()=>({type:s.type,bootstrap:s.bootstrap||Rt,declarations:s.declarations||Rt,imports:s.imports||Rt,exports:s.exports||Rt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function U(s,o){if(null==s)return Hr;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=u,o&&(o[h]=m)}return a}const K=Ae;function we(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function J(s){return s[gs]||null}function ze(s){return s[nn]||null}function gt(s){return s[Pi]||null}function Jt(s){const o=J(s)||ze(s)||gt(s);return null!==o&&o.standalone}function yn(s,o){const a=s[rn]||null;if(!a&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return a}function ur(s){return Array.isArray(s)&&"object"==typeof s[1]}function Or(s){return Array.isArray(s)&&!0===s[1]}function ca(s){return 0!=(8&s.flags)}function To(s){return 2==(2&s.flags)}function pu(s){return 1==(1&s.flags)}function Tr(s){return null!==s.template}function lh(s){return 0!=(256&s[2])}function Li(s,o){return s.hasOwnProperty(Xn)?s[Xn]:null}class Zi{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Yi(){return zs}function zs(s){return s.type.prototype.ngOnChanges&&(s.setInput=el),da}function da(){const s=dh(this),o=s?.current;if(o){const a=s.previous;if(a===Hr)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function el(s,o,a,u){const h=dh(s)||function Ao(s,o){return s[_u]=o}(s,{previous:Hr,current:null}),m=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[a],I=v[w];m[w]=new Zi(I&&I.currentValue,o,v===Hr),s[u]=o}Yi.ngInherit=!0;const _u="__ngSimpleChanges__";function dh(s){return s[_u]||null}function kn(s){for(;Array.isArray(s);)s=s[0];return s}function ti(s,o){return kn(o[s])}function Ar(s,o){return kn(o[s.index])}function Mo(s,o){return s.data[o]}function Qt(s,o){const a=o[s];return ur(a)?a:a[0]}function qs(s){return 64==(64&s[2])}function yi(s,o){return null==o?null:s[o]}function sl(s){s[18]=0}function Mn(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const kt={lFrame:Mu(null),bindingsEnabled:!0};function Ji(){return kt.bindingsEnabled}function Se(){return kt.lFrame.lView}function qt(){return kt.lFrame.tView}function ul(s){return kt.lFrame.contextLView=s,s[8]}function cl(s){return kt.lFrame.contextLView=null,s}function Rn(){let s=dl();for(;null!==s&&64===s.type;)s=s.parent;return s}function dl(){return kt.lFrame.currentTNode}function ni(s,o){const a=kt.lFrame;a.currentTNode=s,a.isParent=o}function fa(){return kt.lFrame.isParent}function pa(){kt.lFrame.isParent=!1}function Ws(){return kt.lFrame.bindingIndex++}function hp(s,o){const a=kt.lFrame;a.bindingIndex=a.bindingRootIndex=s,hl(o)}function hl(s){kt.lFrame.currentDirectiveIndex=s}function Tu(){return kt.lFrame.currentQueryIndex}function _a(s){kt.lFrame.currentQueryIndex=s}function Au(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function fl(s,o,a){if(a&Ye.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||a&Ye.Host||(h=Au(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=kt.lFrame=Su();return u.currentTNode=o,u.lView=s,!0}function pl(s){const o=Su(),a=s[1];kt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Su(){const s=kt.lFrame,o=null===s?null:s.child;return null===o?Mu(s):o}function Mu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function xu(){const s=kt.lFrame;return kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Hc=xu;function Ks(){const s=xu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function tr(){return kt.lFrame.selectedIndex}function zr(s){kt.lFrame.selectedIndex=s}function En(){const s=kt.lFrame;return Mo(s.tView,s.selectedIndex)}function yl(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const m=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),I&&(s.viewHooks||(s.viewHooks=[])).push(-a,I),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(a,R)}}function Ys(s,o,a){Ro(s,o,3,a)}function ko(s,o,a,u){(3&s[2])===a&&Ro(s,o,a,u)}function zc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ro(s,o,a,u){const m=u??-1,v=o.length-1;let w=0;for(let I=void 0!==u?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(w=o[I],null!=u&&w>=u)break}else o[I]<0&&(s[18]+=65536),(w<m||-1==m)&&(qc(s,a,o,I),s[18]=(4294901760&s[18])+I+2),I++}function qc(s,o,a,u){const h=a[u]<0,m=a[u+1],w=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Cs{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function No(s,o,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const m=a[u++],v=a[u++],w=a[u++];s.setAttribute(o,v,w,m)}else{const m=h,v=a[++u];wl(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),u++}}return u}function Js(s){return 3===s||4===s||6===s}function wl(s){return 64===s.charCodeAt(0)}function va(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Kc(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Kc(s,o,a,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,a),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function Zc(s){return-1!==s}function cr(s){return 32767&s}function wa(s,o){let a=function ba(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Ui=!0;function Ea(s){const o=Ui;return Ui=s,o}let Fn=0;const _i={};function eo(s,o){const a=Il(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ca(u.data,s),Ca(o,null),Ca(u.blueprint,null));const h=Cl(s,o),m=s.injectorIndex;if(Zc(h)){const v=cr(h),w=wa(h,o),I=w[1].data;for(let S=0;S<8;S++)o[m+S]=w[v+S]|I[v+S]}return o[m+8]=h,m}function Ca(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Il(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Cl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){if(u=Fo(h),null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Ds(s,o,a){!function El(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Nr)&&(u=a[Nr]),null==u&&(u=a[Nr]=Fn++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ts(s,o,a){if(a&Ye.Optional||void 0!==s)return s;be()}function Dl(s,o,a,u){if(a&Ye.Optional&&void 0===u&&(u=null),0==(a&(Ye.Self|Ye.Host))){const h=s[9],m=Qn(void 0);try{return h?h.get(o,u,a&Ye.Optional):Jr(o,u,a&Ye.Optional)}finally{Qn(m)}}return Ts(u,0,a)}function to(s,o,a,u=Ye.Default,h){if(null!==s){if(1024&o[2]){const v=function Po(s,o,a,u,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const w=Da(m,v,a,u|Ye.Self,_i);if(w!==_i)return w;let I=m.parent;if(!I){const S=v[21];if(S){const R=S.get(a,_i,u);if(R!==_i)return R}I=Fo(v),v=v[15]}m=I}return h}(s,o,a,u,_i);if(v!==_i)return v}const m=Da(s,o,a,u,_i);if(m!==_i)return m}return Dl(o,a,u,h)}function Da(s,o,a,u,h){const m=function Ou(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Nr)?s[Nr]:void 0;return"number"==typeof o?o>=0?255&o:Pu:o}(a);if("function"==typeof m){if(!fl(o,s,u))return u&Ye.Host?Ts(h,0,u):Dl(o,a,u,h);try{const v=m(u);if(null!=v||u&Ye.Optional)return v;be()}finally{Hc()}}else if("number"==typeof m){let v=null,w=Il(s,o),I=-1,S=u&Ye.Host?o[16][6]:null;for((-1===w||u&Ye.SkipSelf)&&(I=-1===w?Cl(s,o):o[w+8],-1!==I&&Ta(u,!1)?(v=o[1],w=cr(I),o=wa(I,o)):w=-1);-1!==w;){const R=o[1];if(Tl(m,w,R.data)){const P=Xc(w,o,a,v,u,S);if(P!==_i)return P}I=o[w+8],-1!==I&&Ta(u,o[1].data[w+8]===S)&&Tl(m,w,o)?(v=R,w=cr(I),o=wa(I,o)):w=-1}}return h}function Xc(s,o,a,u,h,m){const v=o[1],w=v.data[s+8],R=Oo(w,v,a,null==u?To(w)&&Ui:u!=v&&0!=(3&w.type),h&Ye.Host&&m===w);return null!==R?ts(o,v,R,w):_i}function Oo(s,o,a,u,h){const m=s.providerIndexes,v=o.data,w=1048575&m,I=s.directiveStart,R=m>>20,G=h?w+R:s.directiveEnd;for(let ne=u?w:w+R;ne<G;ne++){const ve=v[ne];if(ne<I&&a===ve||ne>=I&&ve.type===a)return ne}if(h){const ne=v[I];if(ne&&Tr(ne)&&ne.type===a)return I}return null}function ts(s,o,a,u){let h=s[a];const m=o.data;if(function Qs(s){return s instanceof Cs}(h)){const v=h;v.resolving&&function tt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(m[a]));const w=Ea(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Qn(v.injectImpl):null;fl(s,u,Ye.Default);try{h=s[a]=v.factory(void 0,m,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Gc(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=zs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,m))}(a,m[a],o)}finally{null!==I&&Qn(I),Ea(w),v.resolving=!1,Hc()}}return h}function Tl(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ta(s,o){return!(s&Ye.Self||s&Ye.Host&&o)}class no{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return to(this._tNode,this._lView,o,u,a)}}function Pu(){return new no(Rn(),Se())}function ns(s){return Pn(()=>{const o=s.prototype.constructor,a=o[Xn]||Al(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Xn]||Al(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Al(s){return Ve(s)?()=>{const o=Al(Q(s));return o&&o()}:Li(s)}function Fo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Sl(s){return function Qc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const m=a[h];if(Js(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(m===o)return a[h+1];h+=2}}}return null}(Rn(),s)}const As="__parameters__";function Uo(s,o,a){return Pn(()=>{const u=function Ml(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(I,S,R){const P=I.hasOwnProperty(As)?I[As]:Object.defineProperty(I,As,{value:[]})[As];for(;P.length<=R;)P.push(null);return(P[R]=P[R]||[]).push(v),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Tn(u,o)):o!==s&&o.push(u)}return o}function bi(s,o){s.forEach(a=>Array.isArray(a)?bi(a,o):o(a))}function Sa(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function _r(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ss(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Qe(s,o,a){let u=xs(s,o);return u>=0?s[1|u]=a:(u=~u,function Fu(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function xa(s,o){const a=xs(s,o);if(a>=0)return s[1|a]}function xs(s,o){return function $o(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<a];if(o===v)return m<<a;v>o?h=m:u=m+1}return~(h<<a)}(s,o,1)}const wi={},Uu="__NG_DI_FLAG__",Wr="ngTempTokenPath",ji=/\n/gm,hr="__source";let Rs;function rs(s){const o=Rs;return Rs=s,o}function zn(s,o=Ye.Default){if(void 0===Rs)throw new Ie(-203,!1);return null===Rs?Jr(s,void 0,o):Rs.get(s,o&Ye.Optional?null:void 0,o)}function _n(s,o=Ye.Default){return(function ms(){return Dr}()||zn)(Q(s),o)}function C(s,o=Ye.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),_n(s,o)}function D(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,!1);let h,m=Ye.Default;for(let v=0;v<u.length;v++){const w=u[v],I=V(w);"number"==typeof I?-1===I?h=w.token:m|=I:h=w}o.push(_n(h,m))}else o.push(_n(u))}return o}function k(s,o){return s[Uu]=o,s.prototype[Uu]=o,s}function V(s){return s[Uu]}const Be=k(Uo("Optional"),8),ut=k(Uo("SkipSelf"),4);var ss=(()=>((ss=ss||{})[ss.Important=1]="Important",ss[ss.DashCase=2]="DashCase",ss))();const zu=new Map;let Dh=0;const oo="__ngContext__";function vr(s,o){ur(o)?(s[oo]=o[20],function Mg(s){zu.set(s[20],s)}(o)):s[oo]=o}function sd(s,o){return undefined(s,o)}function Pa(s){const o=s[3];return Or(o)?o[3]:o}function Fa(s){return Sp(s[13])}function ao(s){return Sp(s[4])}function Sp(s){for(;null!==s&&!Or(s);)s=s[4];return s}function lo(s,o,a,u,h){if(null!=u){let m,v=!1;Or(u)?m=u:ur(u)&&(v=!0,u=u[0]);const w=kn(u);0===s&&null!==a?null==h?Np(o,a,w):co(o,a,w,h||null,!0):1===s&&null!==a?co(o,a,w,h||null,!0):2===s?function pd(s,o,a){const u=Lr(s,o);u&&function kh(s,o,a,u){s.removeChild(o,a,u)}(s,u,o,a)}(o,w,v):3===s&&o.destroyNode(w),null!=m&&function Nh(s,o,a,u,h){const m=a[7];m!==kn(a)&&lo(o,s,u,m,h);for(let w=10;w<a.length;w++){const I=a[w];Ko(I[1],I,s,o,u,m)}}(o,s,m,a,h)}}function Ll(s,o,a){return s.createElement(o,a)}function Sh(s,o){const a=s[9],u=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Mn(h,-1)),a.splice(u,1)}function Mh(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&Sh(h,u),o>0&&(s[a-1][4]=u[4]);const m=_r(s,10+o);!function La(s,o){Ko(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function kp(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Ko(s,o,a,3,null,null),function Fg(s){let o=s[13];if(!o)return xh(s[1],s);for(;o;){let a=null;if(ur(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)ur(o)&&xh(o[1],o),o=o[3];null===o&&(o=s),ur(o)&&xh(o[1],o),a=o&&o[4]}o=a}}(o)}}function xh(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Rp(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Cs)){const m=a[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],I=m[v+1];try{I.call(w)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function Vg(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const v=a[m+1],w="function"==typeof v?v(o):kn(o[v]),I=u[h=a[m+2]],S=a[m+3];"boolean"==typeof S?w.removeEventListener(a[m],I,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),m+=2}else{const v=u[h=a[m+1]];a[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)(0,u[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Or(o[3])){a!==o[3]&&Sh(a,o);const u=o[19];null!==u&&u.detachView(s)}!function td(s){zu.delete(s[20])}(o)}}function ld(s,o,a){return function ud(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===ct.None||h===ct.Emulated)return null}return Ar(u,a)}(s,o.parent,a)}function co(s,o,a,u,h){s.insertBefore(o,a,u,h)}function Np(s,o,a){s.appendChild(o,a)}function Ku(s,o,a,u,h){null!==u?co(s,o,a,u,h):Np(s,o,a)}function Lr(s,o){return s.parentNode(o)}function Rh(s,o,a){return cd(s,o,a)}let Vl,Lh,cd=function Zu(s,o,a){return 40&s.type?Ar(s,a):null};function hd(s,o,a,u){const h=ld(s,u,o),m=o[11],w=Rh(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)Ku(m,h,a[I],w,!1);else Ku(m,h,a,w,!1)}function ii(s,o){if(null!==o){const a=o.type;if(3&a)return Ar(o,s);if(4&a)return Yu(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return ii(s,u);{const h=s[o.index];return Or(h)?Yu(-1,h):kn(h)}}if(32&a)return sd(o,s)()||kn(s[o.index]);{const u=fd(s,o);return null!==u?Array.isArray(u)?u[0]:ii(Pa(s[16]),u):ii(s,o.next)}}return null}function fd(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Yu(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return ii(u,h)}return o[7]}function Qu(s,o,a,u,h,m,v){for(;null!=a;){const w=u[a.index],I=a.type;if(v&&0===o&&(w&&vr(kn(w),u),a.flags|=4),64!=(64&a.flags))if(8&I)Qu(s,o,a.child,u,h,m,!1),lo(o,s,h,w,m);else if(32&I){const S=sd(a,u);let R;for(;R=S();)lo(o,s,h,R,m);lo(o,s,h,w,m)}else 16&I?Zo(s,o,u,a,h,m):lo(o,s,h,w,m);a=v?a.projectionNext:a.next}}function Ko(s,o,a,u,h,m){Qu(a,u,s.firstChild,o,h,m,!1)}function Zo(s,o,a,u,h,m){const v=a[16],I=v[6].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)lo(o,s,h,I[S],m);else Qu(s,o,I,v[3],h,m,!0)}function $i(s,o,a){s.setAttribute(o,"style",a)}function Yo(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Qo(s){return function Xu(){if(void 0===Vl&&(Vl=null,an.trustedTypes))try{Vl=an.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Vl}()?.createHTML(s)||s}function _(s){Lh=s}class de{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class je extends de{getTypeName(){return"HTML"}}class Je extends de{getTypeName(){return"Style"}}class Dt extends de{getTypeName(){return"Script"}}class vt extends de{getTypeName(){return"URL"}}class cn extends de{getTypeName(){return"ResourceURL"}}function rr(s){return s instanceof de?s.changingThisBreaksApplicationSecurity:s}function Ii(s,o){const a=function Op(s){return s instanceof de&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Vh(s){return new je(s)}function Uh(s){return new Je(s)}function ec(s){return new Dt(s)}function Bh(s){return new vt(s)}function Pp(s){return new cn(s)}class Ua{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Qo(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Fp{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Qo(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Qo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ba=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jo(s){return(s=String(s)).match(Ba)?s:"unsafe:"+s}function ja(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function jh(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Wv=ja("area,br,col,hr,img,wbr"),Kv=ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zv=ja("rp,rt"),Hh=jh(Wv,jh(Kv,ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jh(Zv,ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jh(Zv,Kv)),md=ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yv=jh(md,ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qI=ja("script,style,template");class WI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Hh.hasOwnProperty(a))return this.sanitizedSomething=!0,!qI.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),v=m.name,w=v.toLowerCase();if(!Yv.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=m.value;md[w]&&(I=Jo(I)),this.buf.push(" ",v,'="',Qv(I),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Hh.hasOwnProperty(a)&&!Wv.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Qv(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const KI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZI=/([^\#-~ |!])/g;function Qv(s){return s.replace(/&/g,"&amp;").replace(KI,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ZI,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lp;function Xv(s,o){let a=null;try{Lp=Lp||function Xo(s){const o=new Fp(s);return function Bg(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch{return!1}}()?new Ua(o):o}(s);let u=o?String(o):"";a=Lp.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=a.innerHTML,a=Lp.getInertBodyElement(u)}while(u!==m);return Qo((new WI).sanitizeChildren(Vp(a)||a))}finally{if(a){const u=Vp(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Vp(s){return"content"in s&&function YI(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function gd(s){const o=function Ul(){const s=Se();return s&&s[12]}();return o?o.sanitize(Wn.URL,s)||"":Ii(s,"URL")?rr(s):Jo(_e(s))}const Bp=new In("ENVIRONMENT_INITIALIZER"),yd=new In("INJECTOR",-1),$g=new In("INJECTOR_DEF_TYPES");class nb{get(o,a=wi){if(a===wi){const u=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw u.name="NullInjectorError",u}return a}}function tC(...s){return{\u0275providers:rb(0,s)}}function rb(s,...o){const a=[],u=new Set;let h;return bi(o,m=>{const v=m;Gg(v,a,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&ib(h,a),a}function ib(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];bi(h,m=>{o.push(m)})}}function Gg(s,o,a,u){if(!(s=Q(s)))return!1;let h=null,m=Bs(s);const v=!m&&J(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(m=Bs(I),!m)return!1;h=I}const w=u.has(h);if(v){if(w)return!1;if(u.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Gg(S,o,a,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let S;u.add(h);try{bi(m.imports,R=>{Gg(R,o,a,u)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&ib(S,o)}if(!w){const S=Li(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:Rt},{provide:$g,useValue:h,multi:!0},{provide:Bp,useValue:()=>_n(h),multi:!0})}const I=m.providers;null==I||w||bi(I,R=>{o.push(R)})}}return h!==s&&void 0!==s.providers}const nC=fe({provide:String,useValue:fe});function qg(s){return null!==s&&"object"==typeof s&&nC in s}function tc(s){return"function"==typeof s}const Wg=new In("Set Injector scope."),Gh={},iC={};let jp;function zh(){return void 0===jp&&(jp=new nb),jp}class Bl{}class Kg extends Bl{constructor(o,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$p(o,v=>this.processProvider(v)),this.records.set(yd,_d(void 0,this)),h.has("environment")&&this.records.set(Bl,_d(void 0,this));const m=this.records.get(Wg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get($g.multi,Rt,Ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=rs(this),u=Qn(void 0);try{return o()}finally{rs(a),Qn(u)}}get(o,a=wi,u=Ye.Default){this.assertNotDestroyed();const h=rs(this),m=Qn(void 0);try{if(!(u&Ye.SkipSelf)){let w=this.records.get(o);if(void 0===w){const I=function lb(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&fn(o);w=I&&this.injectableDefInScope(I)?_d(Hp(o),Gh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&Ye.Self?zh():this.parent).get(o,a=u&Ye.Optional&&a===wi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Wr]=v[Wr]||[]).unshift(pe(o)),h)throw v;return function X(s,o,a,u){const h=s[Wr];throw o[hr]&&h.unshift(o[hr]),s.message=function re(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):pe(w)))}h=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(ji,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Wr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Qn(m),rs(h)}}resolveInjectorInitializers(){const o=rs(this),a=Qn(void 0);try{const u=this.get(Bp.multi,Rt,Ye.Self);for(const h of u)h()}finally{rs(o),Qn(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(pe(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(o){let a=tc(o=Q(o))?o:Q(o&&o.provide);const u=function oC(s){return qg(s)?_d(void 0,s.useValue):_d(ab(s),Gh)}(o);if(tc(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=_d(void 0,Gh,!0),h.factory=()=>D(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===Gh&&(a.value=iC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function lC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Hp(s){const o=fn(s),a=null!==o?o.factory:Li(s);if(null!==a)return a;if(s instanceof In)throw new Ie(204,!1);if(s instanceof Function)return function sC(s){const o=s.length;if(o>0)throw Ss(o,"?"),new Ie(204,!1);const a=function Rr(s){const o=s&&(s[mi]||s[Xr]);if(o){const a=function jr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Ie(204,!1)}function ab(s,o,a){let u;if(tc(s)){const h=Q(s);return Li(h)||Hp(h)}if(qg(s))u=()=>Q(s.useValue);else if(function ob(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...D(s.deps||[]));else if(function sb(s){return!(!s||!s.useExisting)}(s))u=()=>_n(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function aC(s){return!!s.deps}(s))return Li(h)||Hp(h);u=()=>new h(...D(s.deps))}return u}function _d(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Zg(s){return!!s.\u0275providers}function $p(s,o){for(const a of s)Array.isArray(a)?$p(a,o):Zg(a)?$p(a.\u0275providers,o):o(a)}class uC{}class dC{resolveComponentFactory(o){throw function cC(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let jl=(()=>{class s{}return s.NULL=new dC,s})();function db(){return Hl(Rn(),Se())}function Hl(s,o){return new nc(Ar(s,o))}let nc=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=db,s})();function hC(s){return s instanceof nc?s.nativeElement:s}class qh{}let fC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function pC(){const s=Se(),a=Qt(Rn().index,s);return(ur(a)?a:s)[11]}(),s})(),mC=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class hb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const fb=new hb("14.2.12"),Gp={};function zp(s){return s.ngOriginalError}class rc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&zp(o);for(;a&&zp(a);)a=zp(a);return a||null}}function ea(s){return s instanceof Function?s():s}function Yg(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}a=h+1}}const Zp="ng-template";function EC(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==Yg(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function mb(s){return 4===s.type&&s.value!==Zp}function IC(s,o,a){return o===(4!==s.type||a?s.value:Zp)}function gb(s,o,a){let u=4;const h=s.attrs||[],m=function yb(s){for(let o=0;o<s.length;o++)if(Js(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const I=o[w];if("number"!=typeof I){if(!v)if(4&u){if(u=2|1&u,""!==I&&!IC(s,I,a)||""===I&&1===o.length){if(ho(u))return!1;v=!0}}else{const S=8&u?I:o[++w];if(8&u&&null!==s.attrs){if(!EC(s.attrs,S,a)){if(ho(u))return!1;v=!0}continue}const P=rR(8&u?"class":I,h,mb(s),a);if(-1===P){if(ho(u))return!1;v=!0;continue}if(""!==S){let G;G=P>m?"":h[P+1].toLowerCase();const ne=8&u?G:null;if(ne&&-1!==Yg(ne,S,0)||2&u&&S!==G){if(ho(u))return!1;v=!0}}}}else{if(!v&&!ho(u)&&!ho(I))return!1;if(v&&ho(I))continue;v=!1,u=I|1&u}}return ho(u)||v}function ho(s){return 0==(1&s)}function rR(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function CC(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Kh(s,o,a=!1){for(let u=0;u<o.length;u++)if(gb(s,o[u],a))return!0;return!1}function DC(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function Qg(s,o){return s?":not("+o.trim()+")":o}function TC(s){let o=s[0],a=1,u=2,h="",m=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const w=s[++a];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!ho(v)&&(o+=Qg(m,h),h=""),u=v,m=m||!ho(u);a++}return""!==h&&(o+=Qg(m,h)),o}const Bt={};function _b(s){Xg(qt(),Se(),tr()+s,!1)}function Xg(s,o,a,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Ys(o,m,a)}else{const m=s.preOrderHooks;null!==m&&ko(o,m,0,a)}zr(a)}function bb(s,o=null,a=null,u){const h=RC(s,o,a,u);return h.resolveInjectorInitializers(),h}function RC(s,o=null,a=null,u,h=new Set){const m=[a||Rt,tC(s)];return u=u||("object"==typeof s?void 0:pe(s)),new Kg(m,o||zh(),u||null,h)}let vd=(()=>{class s{static create(a,u){if(Array.isArray(a))return bb({name:""},u,a,"");{const h=a.name??"";return bb({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=wi,s.NULL=new nb,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>_n(yd)}),s.__NG_ELEMENT_ID__=-1,s})();function Yh(s,o=Ye.Default){const a=Se();return null===a?_n(s,o):to(Rn(),a,Q(s),o)}function UC(){throw new Error("invalid")}function ey(s,o){return s<<17|o<<2}function ta(s){return s>>17&32767}function Db(s){return 2|s}function Gl(s){return(131068&s)>>2}function Tb(s,o){return-131069&s|o<<2}function Ab(s){return 1|s}function QC(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],m=a[u+1];if(-1!==m){const v=s.data[m];_a(h),v.contentQueries(2,o[m],m)}}}function ry(s,o,a,u,h,m,v,w,I,S,R){const P=o.blueprint.slice();return P[0]=h,P[2]=76|u,(null!==R||s&&1024&s[2])&&(P[2]|=1024),sl(P),P[3]=P[15]=s,P[8]=a,P[10]=v||s&&s[10],P[11]=w||s&&s[11],P[12]=I||s&&s[12]||null,P[9]=S||s&&s[9]||null,P[6]=m,P[20]=function Sg(){return Dh++}(),P[21]=R,P[16]=2==o.type?s[16]:P,P}function Qh(s,o,a,u,h){let m=s.data[o];if(null===m)m=function Pb(s,o,a,u,h){const m=dl(),v=fa(),I=s.data[o]=function LR(s,o,a,u,h,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(s,o,a,u,h),function dp(){return kt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=h;const v=function xo(){const s=kt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ni(m,!0),m}function Xh(s,o,a,u){if(0===a)return-1;const h=o.length;for(let m=0;m<a;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Fb(s,o,a){pl(o);try{const u=s.viewQuery;null!==u&&$b(1,u,a);const h=s.template;null!==h&&XC(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&QC(s,o),s.staticViewQueries&&$b(2,s.viewQuery,a);const m=s.components;null!==m&&function OR(s,o){for(let a=0;a<o.length;a++)dD(s,o[a])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ks()}}function iy(s,o,a,u){const h=o[2];if(128!=(128&h)){pl(o);try{sl(o),function Cu(s){return kt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&XC(s,o,a,2,u);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&Ys(o,S,null)}else{const S=s.preOrderHooks;null!==S&&ko(o,S,0,null),zc(o,0)}if(function jR(s){for(let o=Fa(s);null!==o;o=ao(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],m=h[3];0==(512&h[2])&&Mn(m,1),h[2]|=512}}}(o),function BR(s){for(let o=Fa(s);null!==o;o=ao(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];qs(u)&&iy(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&QC(s,o),v){const S=s.contentCheckHooks;null!==S&&Ys(o,S)}else{const S=s.contentHooks;null!==S&&ko(o,S,1),zc(o,1)}!function RR(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)zr(~h);else{const m=h,v=a[++u],w=a[++u];hp(v,m),w(2,o[m])}}}finally{zr(-1)}}(s,o);const w=s.components;null!==w&&function NR(s,o){for(let a=0;a<o.length;a++)ly(s,o[a])}(o,w);const I=s.viewQuery;if(null!==I&&$b(2,I,u),v){const S=s.viewCheckHooks;null!==S&&Ys(o,S)}else{const S=s.viewHooks;null!==S&&ko(o,S,2),zc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Mn(o[3],-1))}finally{Ks()}}}function XC(s,o,a,u,h){const m=tr(),v=2&u;try{zr(-1),v&&o.length>22&&Xg(s,o,22,!1),a(u,h)}finally{zr(m)}}function JC(s,o,a){if(ca(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,a[m],m)}}}function Lb(s,o,a){!Ji()||(function aD(s,o,a,u){const h=a.directiveStart,m=a.directiveEnd;s.firstCreatePass||eo(a,o),vr(u,o);const v=a.initialInputs;for(let w=h;w<m;w++){const I=s.data[w],S=Tr(I);S&&Hb(o,a,I);const R=ts(o,s,w,a);vr(R,o),null!==v&&cD(0,w-h,R,I,0,v),S&&(Qt(a.index,o)[8]=R)}}(s,o,a,Ar(a,o)),128==(128&a.flags)&&function UR(s,o,a){const u=a.directiveStart,h=a.directiveEnd,m=a.index,v=function Du(){return kt.lFrame.currentDirectiveIndex}();try{zr(m);for(let w=u;w<h;w++){const I=s.data[w],S=o[w];hl(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&lD(I,S)}}finally{zr(-1),hl(v)}}(s,o,a))}function Vb(s,o,a=Ar){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],w=-1===v?a(o,s):s[v];s[h++]=w}}}function eD(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ub(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ub(s,o,a,u,h,m,v,w,I,S){const R=22+u,P=R+h,G=function PR(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Bt);return a}(R,P),ne="function"==typeof S?S():S;return G[1]={type:s,blueprint:G,template:a,queries:null,viewQuery:w,declTNode:o,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:ne,incompleteFirstPass:!1}}function tD(s,o,a,u){const h=cy(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&fD(s).push(u,h.length-1))}function nD(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function rD(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,v=[];let w=null,I=null;for(let S=o.directiveStart;S<u;S++){const R=h[S],P=R.inputs,G=null===m||mb(o)?null:Yp(P,m);v.push(G),w=nD(P,S,w),I=nD(R.outputs,S,I)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=I}function Ps(s,o,a,u,h,m,v,w){const I=Ar(o,a);let R,S=o.inputs;!w&&null!=S&&(R=S[u])?(dy(s,a,R,u,h),To(o)&&Bb(a,o.index)):3&o.type&&(u=function iD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,m.setProperty(I,u,h))}function Bb(s,o){const a=Qt(o,s);16&a[2]||(a[2]|=32)}function bd(s,o,a,u){let h=!1;if(Ji()){const m=function zl(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];Kh(a,v.selectors,!1)&&(h||(h=[]),Ds(eo(a,o),s,v.type),Tr(v)?(uD(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===u?null:{"":-1};if(null!==m){h=!0,oy(a,s.data.length,m.length);for(let R=0;R<m.length;R++){const P=m[R];P.providersResolver&&P.providersResolver(P)}let w=!1,I=!1,S=Xh(s,o,m.length,null);for(let R=0;R<m.length;R++){const P=m[R];a.mergedAttrs=va(a.mergedAttrs,P.hostAttrs),oc(s,a,o,S,P),ql(S,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const G=P.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),I=!0),S++}rD(s,a)}v&&function sy(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=a[o[h+1]];if(null==m)throw new Ie(-301,!1);u.push(o[h],m)}}}(a,u,v)}return a.mergedAttrs=va(a.mergedAttrs,a.attrs),h}function Ha(s,o,a,u,h,m){const v=m.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const I=~o.index;(function oD(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=I&&w.push(I),w.push(u,h,v)}}function lD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function uD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ql(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Tr(o)&&(a[""]=s)}}function oy(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function oc(s,o,a,u,h){s.data[u]=h;const m=h.factory||(h.factory=Li(h.type)),v=new Cs(m,Tr(h),Yh);s.blueprint[u]=v,a[u]=v,Ha(s,o,0,u,Xh(s,a,h.hostVars,Bt),h)}function Hb(s,o,a){const u=Ar(o,s),h=eD(a),m=s[10],v=Kl(s,ry(s,h,null,a.onPush?32:16,u,o,m,m.createRenderer(u,a),null,null,null));s[o.index]=v}function fo(s,o,a,u,h,m){const v=Ar(s,o);!function ac(s,o,a,u,h,m,v){if(null==m)s.removeAttribute(o,h,a);else{const w=null==v?_e(m):v(m,u||"",h);s.setAttribute(o,h,w,a)}}(o[11],v,m,s.value,a,u,h)}function cD(s,o,a,u,h,m){const v=m[o];if(null!==v){const w=u.setInput;for(let I=0;I<v.length;){const S=v[I++],R=v[I++],P=v[I++];null!==w?u.setInput(a,P,S,R):a[R]=P}}}function Yp(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function Wl(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function ly(s,o){const a=Qt(o,s);if(qs(a)){const u=a[1];48&a[2]?iy(u,a,u.template,a[8]):a[5]>0&&uy(a)}}function uy(s){for(let u=Fa(s);null!==u;u=ao(u))for(let h=10;h<u.length;h++){const m=u[h];if(qs(m))if(512&m[2]){const v=m[1];iy(v,m,v.template,m[8])}else m[5]>0&&uy(m)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Qt(a[u],s);qs(h)&&h[5]>0&&uy(h)}}function dD(s,o){const a=Qt(o,s),u=a[1];(function HR(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Fb(u,a,a[8])}function Kl(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function os(s){for(;s;){s[2]|=32;const o=Pa(s);if(lh(s)&&!o)return s;s=o}return null}function Qp(s,o,a,u=!0){const h=o[10];h.begin&&h.begin();try{iy(s,o,s.template,a)}catch(v){throw u&&pD(o,v),v}finally{h.end&&h.end()}}function $b(s,o,a){_a(0),o(s,a)}function cy(s){return s[7]||(s[7]=[])}function fD(s){return s.cleanup||(s.cleanup=[])}function pD(s,o){const a=s[9],u=a?a.get(rc,null):null;u&&u.handleError(o)}function dy(s,o,a,u,h){for(let m=0;m<a.length;){const v=a[m++],w=a[m++],I=o[v],S=s.data[v];null!==S.setInput?S.setInput(I,h,u,w):I[w]=h}}function hy(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?h=me(h,w):2==m&&(u=me(u,w+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}function fy(s,o,a,u,h=!1){for(;null!==a;){const m=o[a.index];if(null!==m&&u.push(kn(m)),Or(m))for(let w=10;w<m.length;w++){const I=m[w],S=I[1].firstChild;null!==S&&fy(I[1],I,S,u)}const v=a.type;if(8&v)fy(s,o,a.child,u);else if(32&v){const w=sd(a,o);let I;for(;I=w();)u.push(I)}else if(16&v){const w=fd(o,a);if(Array.isArray(w))u.push(...w);else{const I=Pa(o[16]);fy(I[1],I,w,u,!0)}}a=h?a.projectionNext:a.next}return u}class Xp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return fy(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Or(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Mh(o,u),_r(a,u))}this._attachedToViewContainer=!1}kp(this._lView[1],this._lView)}onDestroy(o){tD(this._lView[1],this._lView,null,o)}markForCheck(){os(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xp(s,o){Ko(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=o}}class $R extends Xp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Qp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class zb extends jl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=J(o);return new Jp(a,this.ngModule)}}function mD(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class zR{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){const h=this.injector.get(o,Gp,u);return h!==Gp||a===Gp?h:this.parentInjector.get(o,a,u)}}class Jp extends uC{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function AC(s){return s.map(TC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return mD(this.componentDef.inputs)}get outputs(){return mD(this.componentDef.outputs)}create(o,a,u,h){let m=(h=h||this.ngModule)instanceof Bl?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new zR(o,m):o,w=v.get(qh,null);if(null===w)throw new Ie(407,!1);const I=v.get(mC,null),S=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",P=u?function FR(s,o,a){return s.selectRootElement(o,a===ct.ShadowDom)}(S,u,this.componentDef.encapsulation):Ll(S,R,function GR(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),G=this.componentDef.onPush?288:272,ne=Ub(0,null,null,1,0,null,null,null,null,null),ve=ry(null,ne,null,G,null,null,w,S,I,v,null);let Le,qe;pl(ve);try{const at=function yD(s,o,a,u,h,m){const v=a[1];a[22]=s;const I=Qh(v,22,2,"#host",null),S=I.mergedAttrs=o.hostAttrs;null!==S&&(hy(I,S,!0),null!==s&&(No(h,s,S),null!==I.classes&&Yo(h,s,I.classes),null!==I.styles&&$i(h,s,I.styles)));const R=u.createRenderer(s,o),P=ry(a,eD(o),null,o.onPush?32:16,a[22],I,u,R,m||null,null,null);return v.firstCreatePass&&(Ds(eo(I,a),v,o.type),uD(v,I),oy(I,a.length,1)),Kl(a,P),a[22]=P}(P,this.componentDef,ve,w,S);if(P)if(u)No(S,P,["ng-version",fb.full]);else{const{attrs:ft,classes:xe}=function SC(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&a.push(m);else{if(!ho(h))break;h=m}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);ft&&No(S,P,ft),xe&&xe.length>0&&Yo(S,P,xe.join(" "))}if(qe=Mo(ne,22),void 0!==a){const ft=qe.projection=[];for(let xe=0;xe<this.ngContentSelectors.length;xe++){const At=a[xe];ft.push(null!=At?Array.from(At):null)}}Le=function _D(s,o,a,u){const h=a[1],m=function sD(s,o,a){const u=Rn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),oc(s,u,o,Xh(s,o,1,null),a),rD(s,u));const h=ts(o,s,u.directiveStart,u);vr(h,o);const m=Ar(u,o);return m&&vr(m,o),h}(h,a,o);if(s[8]=a[8]=m,null!==u)for(const w of u)w(m,o);if(o.contentQueries){const w=Rn();o.contentQueries(1,m,w.directiveStart)}const v=Rn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zr(v.index),Ha(a[1],v,0,v.directiveStart,v.directiveEnd,o),lD(o,m)),m}(at,this.componentDef,ve,[vD]),Fb(ne,ve,null)}finally{Ks()}return new gD(this.componentType,Le,Hl(qe,ve),ve,qe)}}class gD extends class ub{}{constructor(o,a,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new $R(h),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const m=this._rootLView;dy(m[1],m,h,o,a),Bb(m,this._tNode.index)}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function vD(){const s=Rn();yl(Se()[1],s)}function qb(s){let o=function py(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Tr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ie(903,!1);h=o.\u0275dir}if(h){if(a){u.push(h);const v=s;v.inputs=Wb(s.inputs),v.declaredInputs=Wb(s.declaredInputs),v.outputs=Wb(s.outputs);const w=h.hostBindings;w&&QR(s,w);const I=h.viewQuery,S=h.contentQueries;if(I&&ZR(s,I),S&&YR(s,S),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),Tr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===qb&&(a=!1)}}o=Object.getPrototypeOf(o)}!function KR(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=va(h.hostAttrs,a=va(a,h.hostAttrs))}}(u)}function Wb(s){return s===Hr?{}:s===Rt?[]:s}function ZR(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function YR(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,m)=>{o(u,h,m),a(u,h,m)}:o}function QR(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let my=null;function wd(){if(!my){const s=an.Symbol;if(s&&s.iterator)my=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(my=u)}}}return my}function Ed(s){return!!gy(s)&&(Array.isArray(s)||!(s instanceof Map)&&wd()in s)}function gy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Di(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Yb(s,o,a,u){const h=Se();return Di(h,Ws(),o)&&(qt(),fo(En(),h,s,o,a,u)),Yb}function $a(s,o,a,u){return Di(s,Ws(),a)?o+_e(a)+u:Bt}function DD(s,o,a,u,h,m,v,w){const I=Se(),S=qt(),R=s+22,P=S.firstCreatePass?function nN(s,o,a,u,h,m,v,w,I){const S=o.consts,R=Qh(o,s,4,v||null,yi(S,w));bd(o,a,R,yi(S,I)),yl(o,R);const P=R.tViews=Ub(2,R,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),P.queries=o.queries.embeddedTView(R)),R}(R,S,I,o,a,u,h,m,v):S.data[R];ni(P,!1);const G=I[11].createComment("");hd(S,I,G,P),vr(G,I),Kl(I,I[R]=Wl(G,I,G,P)),pu(P)&&Lb(S,I,P),null!=v&&Vb(I,P,w)}function em(s,o,a){const u=Se();return Di(u,Ws(),o)&&Ps(qt(),En(),u,s,o,u[11],a,!1),em}function by(s,o,a,u,h){const v=h?"class":"style";dy(s,a,o.inputs[v],v,u)}function oi(s,o,a,u){const h=Se(),m=qt(),v=22+s,w=h[11],I=h[v]=Ll(w,o,function gl(){return kt.lFrame.currentNamespace}()),S=m.firstCreatePass?function TD(s,o,a,u,h,m,v){const w=o.consts,S=Qh(o,s,2,h,yi(w,m));return bd(o,a,S,yi(w,v)),null!==S.attrs&&hy(S,S.attrs,!1),null!==S.mergedAttrs&&hy(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,m,h,0,o,a,u):m.data[v];ni(S,!0);const R=S.mergedAttrs;null!==R&&No(w,I,R);const P=S.classes;null!==P&&Yo(w,I,P);const G=S.styles;return null!==G&&$i(w,I,G),64!=(64&S.flags)&&hd(m,h,I,S),0===function al(){return kt.lFrame.elementDepthCount}()&&vr(I,h),function ll(){kt.lFrame.elementDepthCount++}(),pu(S)&&(Lb(m,h,S),JC(m,S,h)),null!==u&&Vb(h,S),oi}function tm(){let s=Rn();fa()?pa():(s=s.parent,ni(s,!1));const o=s;!function bu(){kt.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(yl(a,s),ca(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function bl(s){return 0!=(16&s.flags)}(o)&&by(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Wc(s){return 0!=(32&s.flags)}(o)&&by(a,o,Se(),o.stylesWithoutHost,!1),tm}function Dd(s,o,a,u){return oi(s,o,a,u),tm(),Dd}function wy(s,o,a){const u=Se(),h=qt(),m=s+22,v=h.firstCreatePass?function AD(s,o,a,u,h){const m=o.consts,v=yi(m,u),w=Qh(o,s,8,"ng-container",v);return null!==v&&hy(w,v,!0),bd(o,a,w,yi(m,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(m,h,u,o,a):h.data[m];ni(v,!0);const w=u[m]=u[11].createComment("");return hd(h,u,w,v),vr(w,u),pu(v)&&(Lb(h,u,v),JC(h,v,u)),null!=a&&Vb(u,v),wy}function nm(){let s=Rn();const o=qt();return fa()?pa():(s=s.parent,ni(s,!1)),o.firstCreatePass&&(yl(o,s),ca(s)&&o.queries.elementEnd(s)),nm}function MD(){return Se()}function Ey(s){return!!s&&"function"==typeof s.then}function xD(s){return!!s&&"function"==typeof s.subscribe}const kD=xD;function ew(s,o,a,u){const h=Se(),m=qt(),v=Rn();return function ND(s,o,a,u,h,m,v,w){const I=pu(u),R=s.firstCreatePass&&fD(s),P=o[8],G=cy(o);let ne=!0;if(3&u.type||w){const qe=Ar(u,o),at=w?w(qe):qe,ft=G.length,xe=w?Wt=>w(kn(Wt[u.index])):u.index;let At=null;if(!w&&I&&(At=function sN(s,o,a,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===a&&h[m+1]===u){const w=o[7],I=h[m+2];return w.length>I?w[I]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=m,At.__ngLastListenerFn__=m,ne=!1;else{m=PD(u,o,P,m,!1);const Wt=a.listen(at,h,m);G.push(m,Wt),R&&R.push(h,xe,ft,ft+1)}}else m=PD(u,o,P,m,!1);const ve=u.outputs;let Le;if(ne&&null!==ve&&(Le=ve[h])){const qe=Le.length;if(qe)for(let at=0;at<qe;at+=2){const vn=o[Le[at]][Le[at+1]].subscribe(m),_o=G.length;G.push(m,vn),R&&R.push(h,u.index,_o,-(_o+1))}}}(m,h,h[11],v,s,o,0,u),ew}function OD(s,o,a,u){try{return!1!==a(u)}catch(h){return pD(s,h),!1}}function PD(s,o,a,u,h){return function m(v){if(v===Function)return u;os(2&s.flags?Qt(s.index,o):o);let I=OD(o,0,u,v),S=m.__ngNextListenerFn__;for(;S;)I=OD(o,0,S,v)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function FD(s=1){return function Zs(s){return(kt.lFrame.contextLView=function ml(s,o){for(;s>0;)o=o[15],s--;return o}(s,kt.lFrame.contextLView))[8]}(s)}function tw(s,o){let a=null;const u=function iR(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?Kh(s,m,!0):DC(u,m))return h}else a=h}return a}function LD(s){const o=Se()[16][6];if(!o.projection){const u=o.projection=Ss(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?tw(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function VD(s,o=0,a){const u=Se(),h=qt(),m=Qh(h,22+s,16,null,a||null);null===m.projection&&(m.projection=o),pa(),64!=(64&m.flags)&&function si(s,o,a){Zo(o[11],0,o,a,ld(s,a,o),Rh(a.parent||o[6],a,o))}(h,u,m)}function hc(s,o,a){return nw(s,"",o,"",a),hc}function nw(s,o,a,u,h){const m=Se(),v=$a(m,o,a,u);return v!==Bt&&Ps(qt(),En(),m,s,v,m[11],h,!1),nw}function aw(s,o,a,u,h){const m=s[a+1],v=null===o;let w=u?ta(m):Gl(m),I=!1;for(;0!==w&&(!1===I||v);){const R=s[w+1];aN(s[w],o)&&(I=!0,s[w+1]=u?Ab(R):Db(R)),w=u?ta(R):Gl(R)}I&&(s[a+1]=u?Db(m):Ab(m))}function aN(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&xs(s,o)>=0}function Sy(s,o){return function mo(s,o,a,u){const h=Se(),m=qt(),v=function es(s){const o=kt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);m.firstUpdatePass&&function My(s,o,a,u){const h=s.data;if(null===h[a+1]){const m=h[tr()],v=function lw(s,o){return o>=s.expandoStartIndex}(s,a);(function om(s,o){return 0!=(s.flags&(o?16:32))})(m,u)&&null===o&&!v&&(o=!1),o=function im(s,o,a,u){const h=function ya(s){const o=kt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Td(a=xy(null,s,o,a,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=xy(h,s,o,a,u),null===m){let I=function Xl(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Gl(u))return s[ta(u)]}(s,o,u);void 0!==I&&Array.isArray(I)&&(I=xy(null,s,o,I[1],u),I=Td(I,o.attrs,u),function mN(s,o,a,u){s[ta(a?o.classBindings:o.styleBindings)]=u}(s,o,u,I))}else m=function WD(s,o,a){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=Td(u,s[m].hostAttrs,a);return Td(u,o.attrs,a)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),a}(h,m,o,u),function UD(s,o,a,u,h,m){let v=m?o.classBindings:o.styleBindings,w=ta(v),I=Gl(v);s[u]=a;let R,S=!1;if(Array.isArray(a)){const P=a;R=P[1],(null===R||xs(P,R)>0)&&(S=!0)}else R=a;if(h)if(0!==I){const G=ta(s[w+1]);s[u+1]=ey(G,w),0!==G&&(s[G+1]=Tb(s[G+1],u)),s[w+1]=function IR(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=ey(w,0),0!==w&&(s[w+1]=Tb(s[w+1],u)),w=u;else s[u+1]=ey(I,0),0===w?w=u:s[I+1]=Tb(s[I+1],u),I=u;S&&(s[u+1]=Db(s[u+1])),aw(s,R,u,!0),aw(s,R,u,!1),function Ty(s,o,a,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&xs(m,o)>=0&&(a[u+1]=Ab(a[u+1]))}(o,R,s,u,m),v=ey(w,I),m?o.classBindings=v:o.styleBindings=v}(h,m,o,a,v,u)}}(m,s,v,u),o!==Bt&&Di(h,v,o)&&function Ad(s,o,a,u,h,m,v,w){if(!(3&o.type))return;const I=s.data,S=I[w+1];sm(function HC(s){return 1==(1&s)}(S)?Ur(I,o,a,h,Gl(S),v):void 0)||(sm(m)||function jC(s){return 2==(2&s)}(S)&&(m=Ur(I,null,a,h,w,v)),function Ug(s,o,a,u,h){if(o)h?s.addClass(a,u):s.removeClass(a,u);else{let m=-1===u.indexOf("-")?void 0:ss.DashCase;null==h?s.removeStyle(a,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=ss.Important),s.setStyle(a,u,h,m))}}(u,v,ti(tr(),a),h,m))}(m,m.data[tr()],h,h[11],s,h[v+1]=function cw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(rr(s)))),s}(o,a),u,v)}(s,o,null,!0),Sy}function xy(s,o,a,u,h){let m=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(m=o[w],u=Td(u,m.hostAttrs,h),m!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function Td(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qe(s,v,!!a||o[++m]))}return void 0===s?null:s}function Ur(s,o,a,u,h,m){const v=null===o;let w;for(;h>0;){const I=s[h],S=Array.isArray(I),R=S?I[1]:I,P=null===R;let G=a[h+1];G===Bt&&(G=P?Rt:void 0);let ne=P?xa(G,u):R===u?G:void 0;if(S&&!sm(ne)&&(ne=xa(I,u)),sm(ne)&&(w=ne,v))return w;const ve=s[h+1];h=v?ta(ve):Gl(ve)}if(null!==o){let I=m?o.residualClasses:o.residualStyles;null!=I&&(w=xa(I,u))}return w}function sm(s){return void 0!==s}function ZD(s,o=""){const a=Se(),u=qt(),h=s+22,m=u.firstCreatePass?Qh(u,h,1,o,null):u.data[h],v=a[h]=function od(s,o){return s.createText(o)}(a[11],o);hd(u,a,v,m),ni(m,!1)}function rf(s){return am("",s,""),rf}function am(s,o,a){const u=Se(),h=$a(u,s,o,a);return h!==Bt&&function Zl(s,o,a){const u=ti(o,s);!function Ah(s,o,a){s.setValue(o,a)}(s[11],u,a)}(u,tr(),h),am}function za(s,o,a){const u=Se();return Di(u,Ws(),o)&&Ps(qt(),En(),u,s,o,u[11],a,!0),za}const fc=void 0;var lm=["en",[["a","p"],["AM","PM"],fc],[["AM","PM"],fc,fc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fc,"{1} 'at' {0}",fc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ON(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let pc={};function Py(s){const o=function Ly(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Fy(o);if(a)return a;const u=o.split("-")[0];if(a=Fy(u),a)return a;if("en"===u)return lm;throw new Ie(701,!1)}function mw(s){return Py(s)[Tt.PluralCase]}function Fy(s){return s in pc||(pc[s]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[s]),pc[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const mc="en-US";let aT=mc;function Ow(s,o,a,u,h){if(s=Q(s),Array.isArray(s))for(let m=0;m<s.length;m++)Ow(s[m],o,a,u,h);else{const m=qt(),v=Se();let w=tc(s)?s:Q(s.provide),I=ab(s);const S=Rn(),R=1048575&S.providerIndexes,P=S.directiveStart,G=S.providerIndexes>>20;if(tc(s)||!s.multi){const ne=new Cs(I,h,Yh),ve=Fw(w,o,h?R:R+G,P);-1===ve?(Ds(eo(S,v),m,w),Pw(m,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ne),v.push(ne)):(a[ve]=ne,v[ve]=ne)}else{const ne=Fw(w,o,R+G,P),ve=Fw(w,o,R,R+G),Le=ne>=0&&a[ne],qe=ve>=0&&a[ve];if(h&&!qe||!h&&!Le){Ds(eo(S,v),m,w);const at=function $T(s,o,a,u,h){const m=new Cs(s,a,Yh);return m.multi=[],m.index=o,m.componentProviders=0,jT(m,h,u&&!a),m}(h?YN:HT,a.length,h,u,I);!h&&qe&&(a[ve].providerFactory=at),Pw(m,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(at),v.push(at)}else Pw(m,s,ne>-1?ne:ve,jT(a[h?ve:ne],I,!h&&u));!h&&u&&qe&&a[ve].componentProviders++}}}function Pw(s,o,a,u){const h=tc(o),m=function rC(s){return!!s.useClass}(o);if(h||m){const I=(m?Q(o.useClass):o).prototype.ngOnDestroy;if(I){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[u,I]):S[R+1].push(u,I)}else S.push(a,I)}}}function jT(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Fw(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function HT(s,o,a,u){return fm(this.multi,[])}function YN(s,o,a,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ts(a,a[1],this.providerFactory.index,u);m=w.slice(0,v),fm(h,m);for(let I=v;I<w.length;I++)m.push(w[I])}else m=[],fm(h,m);return m}function fm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Lw(s,o=[]){return a=>{a.providersResolver=(u,h)=>function Ky(s,o,a){const u=qt();if(u.firstCreatePass){const h=Tr(s);Ow(a,u.data,u.blueprint,h,!0),Ow(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class df{}class Vw{}function QN(s,o){return new Uw(s,o??null)}class Uw extends df{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zb(this);const u=yn(o);this._bootstrapComponents=ea(u.bootstrap),this._r3Injector=RC(o,a,[{provide:df,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class pm extends Vw{constructor(o){super(),this.moduleType=o}create(o){return new Uw(this.moduleType,o)}}class zT extends df{constructor(o,a,u){super(),this.componentFactoryResolver=new zb(this),this.instance=null;const h=new Kg([...o,{provide:df,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],a||zh(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Zy(s,o,a=null){return new zT(s,o,a).injector}let Bw=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=rb(0,a.type),h=u.length>0?Zy([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tn({token:s,providedIn:"environment",factory:()=>new s(_n(Bl))}),s})();function jw(s){s.getStandaloneInjector=o=>o.get(Bw).getOrCreateStandaloneInjector(s)}function pf(s){return o=>{setTimeout(s,void 0,o)}}const as=class o0 extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let h=o,m=a||(()=>null),v=u;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=pf(m),h&&(h=pf(h)),v&&(v=pf(v)));const w=super.subscribe({next:h,error:m,complete:v});return o instanceof te.w0&&o.add(w),w}};function a0(){return this._results[wd()]()}class mm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=wd(),u=mm.prototype;u[a]||(u[a]=a0)}get changes(){return this._changes||(this._changes=new as)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Tn(o);(this._changesDetected=!function Gn(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Rd=(()=>{class s{}return s.__NG_ELEMENT_ID__=l0,s})();const Ti=Rd,Wa=class extends Ti{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tViews,h=ry(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(u)),Fb(u,h,o),new Xp(h)}};function l0(){return r_(Rn(),Se())}function r_(s,o){return 4&s.type?new Wa(o,s,Hl(s,o)):null}let i_=(()=>{class s{}return s.__NG_ELEMENT_ID__=tA,s})();function tA(){return ym(Rn(),Se())}const nA=i_,gm=class extends nA{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cl(this._hostTNode,this._hostLView);if(Zc(o)){const a=wa(o,this._hostLView),u=cr(o);return new no(a[1].data[u+8],a)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=mf(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const v=o.createEmbeddedView(a||{},m);return this.insert(v,h),v}createComponent(o,a,u,h,m){const v=o&&!function vi(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const P=a||{};w=P.index,u=P.injector,h=P.projectableNodes,m=P.environmentInjector||P.ngModuleRef}const I=v?o:new Jp(J(o)),S=u||this.parentInjector;if(!m&&null==I.ngModule){const G=(v?S:this.parentInjector).get(Bl,null);G&&(m=G)}const R=I.create(S,h,void 0,m);return this.insert(R.hostView,w),R}insert(o,a){const u=o._lView,h=u[1];if(function il(s){return Or(s[3])}(u)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const P=u[3],G=new gm(P,P[6],P[3]);G.detach(G.indexOf(o))}}const m=this._adjustIndex(a),v=this._lContainer;!function Wu(s,o,a,u){const h=10+u,m=a.length;u>0&&(a[h-1][4]=o),u<m-10?(o[4]=a[h],Sa(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Lg(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(h,u,v,m);const w=Yu(m,v),I=u[11],S=Lr(I,v[7]);return null!==S&&function ad(s,o,a,u,h,m){u[0]=h,u[6]=o,Ko(s,u,a,1,h,m)}(h,v[6],I,u,S,w),o.attachToViewContainerRef(),Sa(s_(v),m,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=mf(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Mh(this._lContainer,a);u&&(_r(s_(this._lContainer),a),kp(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Mh(this._lContainer,a);return u&&null!=_r(s_(this._lContainer),a)?new Xp(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function mf(s){return s[8]}function s_(s){return s[8]||(s[8]=[])}function ym(s,o){let a;const u=o[s.index];if(Or(u))a=u;else{let h;if(8&s.type)h=kn(u);else{const m=o[11];h=m.createComment("");const v=Ar(s,o);co(m,Lr(m,v),h,function Va(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=a=Wl(u,o,h,s),Kl(o,a)}return new gm(a,s,o)}class u0{constructor(o){this.queryList=o,this.matches=null}clone(){return new u0(this.queryList)}setDirty(){this.queryList.setDirty()}}class c0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let m=0;m<u;m++){const v=a.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new c0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==_f(o,a).matches&&this.queries[a].setDirty()}}class iA{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class d0{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new d0(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class h0{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new h0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,a,sA(a,m)),this.matchTNodeWithReadOption(o,a,Oo(a,o,m,!1,!1))}else u===Rd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Oo(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===nc||h===i_||h===Rd&&4&a.type)this.addMatch(a.index,-2);else{const m=Oo(a,o,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function sA(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function oA(s,o,a,u){return-1===a?function f0(s,o){return 11&s.type?Hl(s,o):4&s.type?r_(s,o):null}(o,s):-2===a?function aA(s,o,a){return a===nc?Hl(o,s):a===Rd?r_(o,s):a===i_?ym(o,s):void 0}(s,o,u):ts(s,s[1],a,o)}function p0(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,v=a.matches,w=[];for(let I=0;I<v.length;I+=2){const S=v[I];w.push(S<0?null:oA(o,m[S],v[I+1],a.metadata.read))}h.matches=w}return h.matches}function gf(s,o,a,u){const h=s.queries.getByIndex(a),m=h.matches;if(null!==m){const v=p0(s,o,h,a);for(let w=0;w<m.length;w+=2){const I=m[w];if(I>0)u.push(v[w/2]);else{const S=m[w+1],R=o[-I];for(let P=10;P<R.length;P++){const G=R[P];G[17]===G[3]&&gf(G[1],G,S,u)}if(null!==R[9]){const P=R[9];for(let G=0;G<P.length;G++){const ne=P[G];gf(ne[1],ne,S,u)}}}}}return u}function Nd(s){const o=Se(),a=qt(),u=Tu();_a(u+1);const h=_f(a,u);if(s.dirty&&function rl(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?gf(a,o,u,[]):p0(a,o,h,u);s.reset(m,hC),s.notifyOnChanges()}return!0}return!1}function yf(s,o,a){const u=qt();u.firstCreatePass&&(_m(u,new iA(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),a_(u,Se(),o)}function yc(s,o,a,u){const h=qt();if(h.firstCreatePass){const m=Rn();_m(h,new iA(o,a,u),m.index),function m0(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}a_(h,Se(),a)}function Od(){return function o_(s,o){return s[19].queries[o].queryList}(Se(),Tu())}function a_(s,o,a){const u=new mm(4==(4&a));tD(s,o,u,u.destroy),null===o[19]&&(o[19]=new c0),o[19].queries.push(new u0(u))}function _m(s,o,a){null===s.queries&&(s.queries=new d0),s.queries.track(new h0(o,a))}function _f(s,o){return s.queries.getByIndex(o)}function bf(...s){}const wf=new In("Application Initializer");let Sm=(()=>{class s{constructor(a){this.appInits=a,this.resolve=bf,this.reject=bf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Ey(m))a.push(m);else if(kD(m)){const v=new Promise((w,I)=>{m.subscribe({complete:w,error:I})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(_n(wf,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Mm=new In("AppId",{providedIn:"root",factory:function C0(){return`${xm()}${xm()}${xm()}`}});function xm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const T0=new In("Platform Initializer"),A0=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),S0=new In("appBootstrapListener"),DA=new In("AnimationModuleType");let y_=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const km=new In("LocaleId",{providedIn:"root",factory:()=>C(km,Ye.Optional|Ye.SkipSelf)||function TA(){return typeof $localize<"u"&&$localize.locale||mc}()}),M0=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AA{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let k0=(()=>{class s{compileModuleSync(a){return new pm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=ea(yn(a).declarations).reduce((v,w)=>{const I=J(w);return I&&v.push(new Jp(I)),v},[]);return new AA(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xA=(()=>Promise.resolve(0))();function Ef(s){typeof Zone>"u"?xA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new as(!1),this.onMicrotaskEmpty=new as(!1),this.onStable=new as(!1),this.onError=new as(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function O0(){let s=an.requestAnimationFrame,o=an.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function kA(s){const o=()=>{!function F0(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(an,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Rm(s),s.isCheckStableRunning=!0,v_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Rm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,m,v,w)=>{try{return L0(s),a.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),b_(s)}},onInvoke:(a,u,h,m,v,w,I)=>{try{return L0(s),a.invoke(h,m,v,w,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),b_(s)}},onHasTask:(a,u,h,m)=>{a.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Rm(s),v_(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,h,m)=>(a.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new Ie(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,P0,bf,bf);try{return m.runTask(v,a,u)}finally{m.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const P0={};function v_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Rm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function L0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function b_(s){s._nesting--,v_(s)}class hO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new as,this.onMicrotaskEmpty=new as,this.onStable=new as,this.onError=new as}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}const RA=new In(""),NA=new In("");let w_,fO=(()=>{class s{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,w_||(function pO(s){w_=s}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),Ef(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ef(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(_n(Fs),_n(OA),_n(NA))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),OA=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return w_?.findTestabilityInTree(this,a,u)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),vc=null;const PA=new In("AllowMultipleToken"),V0=new In("PlatformDestroyListeners");class yO{constructor(o,a){this.name=o,this.token=a}}function B0(s,o,a=[]){const u=`Platform: ${o}`,h=new In(u);return(m=[])=>{let v=E_();if(!v||v.injector.get(PA,!1)){const w=[...a,...m,{provide:h,useValue:!0}];s?s(w):function FA(s){if(vc&&!vc.get(PA,!1))throw new Ie(400,!1);vc=s;const o=s.get(UA);(function U0(s){const o=s.get(T0,null);o&&o.forEach(a=>a())})(s)}(function j0(s=[],o){return vd.create({name:o,providers:[{provide:Wg,useValue:"platform"},{provide:V0,useValue:new Set([()=>vc=null])},...s]})}(w,u))}return function VA(s){const o=E_();if(!o)throw new Ie(401,!1);return o}()}}function E_(){return vc?.get(UA)??null}let UA=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function H0(s,o){let a;return a="noop"===s?new hO:("zone.js"===s?void 0:s)||new Fs(o),a}(u?.ngZone,function BA(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:Fs,useValue:h}];return h.run(()=>{const v=vd.create({providers:m,parent:this.injector,name:a.moduleType.name}),w=a.create(v),I=w.injector.get(rc,null);if(!I)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{I.handleError(R)}});w.onDestroy(()=>{Om(this._modules,w),S.unsubscribe()})}),function $0(s,o,a){try{const u=a();return Ey(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(I,h,()=>{const S=w.injector.get(Sm);return S.runInitializers(),S.donePromise.then(()=>(function lT(s){zt(s,"Expected localeId to be defined"),"string"==typeof s&&(aT=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(km,mc)||mc),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,u=[]){const h=G0({},u);return function mO(s,o,a){const u=new pm(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const u=a.injector.get(Nm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ie(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(V0,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(_n(vd))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function G0(s,o){return Array.isArray(o)?o.reduce(G0,s):{...s,...o}}let Nm=(()=>{class s{constructor(a,u,h){this._zone=a,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new O.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),Ef(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,le.T)(m,v.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof uC;if(!this._injector.get(Sm).done)throw!h&&Jt(a),new Ie(405,false);let v;v=h?a:this._injector.get(jl).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const w=function gO(s){return s.isBoundToModule}(v)?void 0:this._injector.get(df),S=v.create(vd.NULL,[],u||v.selector,w),R=S.location.nativeElement,P=S.injector.get(RA,null);return P?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Om(this.components,S),P?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Om(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(S0,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Om(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ie(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(_n(Fs),_n(Bl),_n(rc))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Om(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let HA=!0,q0=!1;function $A(){return q0=!0,HA}function GA(){if(q0)throw new Error("Cannot enable prod mode after platform setup.");HA=!1}let qA=(()=>{class s{}return s.__NG_ELEMENT_ID__=WA,s})();function WA(s){return function KA(s,o,a){if(To(s)&&!a){const u=Qt(s.index,o);return new Xp(u,u)}return 47&s.type?new Xp(o[16],o):null}(Rn(),Se(),16==(16&s))}class Y0{constructor(){}supports(o){return Ed(o)}create(o){return new eS(o)}}const JA=(s,o)=>o;class eS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||JA}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,m=null;for(;a||u;){const v=!u||a&&a.currentIndex<X0(u,h,m)?a:u,w=X0(v,h,m),I=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{m||(m=[]);const S=w-h,R=I-h;if(S!=R){for(let G=0;G<S;G++){const ne=G<m.length?m[G]:m[G]=0,ve=ne+G;R<=ve&&ve<S&&(m[G]=ne+1)}m[v.previousIndex]=R-S}}w!==I&&o(v,w,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ed(o))throw new Ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,m,v,w)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,v,w),u=!0),a=a._next}else h=0,function bD(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[wd()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{v=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,w,v,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,m,h)):o=this._addAfter(new tS(a,u),m,h),o}_verifyReinsertion(o,a,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Q0),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class tS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Q0{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new nS,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X0(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class rS{constructor(){}supports(o){return o instanceof Map||gy(o)}create(){return new iS}}class iS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||gy(o)))throw new Ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new sS(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class sS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function J0(){return new If([new Y0])}let If=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||J0()),deps:[[s,new ut,new Be]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ie(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:J0}),s})();function S_(){return new Cf([new rS])}let Cf=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||S_()),deps:[[s,new ut,new Be]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Ie(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:S_}),s})();const k_=B0(null,"core",[]);let eE=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(_n(Nm))},s.\u0275mod=jt({type:s}),s.\u0275inj=Vt({}),s})();function tE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,Me,F)=>{F.d(Me,{Z:()=>Ie});var d=F(2090),te=F(4859),O=F(9681),le=F(1877);class ae{constructor(_e,ge){this._delegate=_e,this.firebase=ge,(0,O._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(_e,ge=O._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(_e);return!lt.isInitialized()&&"EXPLICIT"===(null===(tt=lt.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:ge})}_removeServiceInstance(_e,ge=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(ge)}_addComponent(_e){(0,O._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,O._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const st=function pe(st){const _e={},ge={__esModule:!0,initializeApp:function ke($e,B={}){const ye=O.initializeApp($e,B);if((0,d.r3)(_e,ye.name))return _e[ye.name];const W=new st(ye,ge);return _e[ye.name]=W,W},app:lt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ce($e){const B=$e.name,ye=B.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const W=(ee=lt())=>{if("function"!=typeof ee[ye])throw se.create("invalid-app-argument",{appName:B});return ee[ye]()};void 0!==$e.serviceProps&&(0,d.ZB)(W,$e.serviceProps),ge[ye]=W,st.prototype[ye]=function(...ee){return this._getService.bind(this,B).apply(this,$e.multipleInstances?ee:[])}}return"PUBLIC"===$e.type?ge[ye]:null},removeApp:function tt($e){delete _e[$e]},useAsService:function He($e,B){return"serverAuth"===B?null:B},modularAPIs:O}};function lt($e){if(!(0,d.r3)(_e,$e=$e||O._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:$e});return _e[$e]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function be(){return Object.keys(_e).map($e=>_e[$e])}}),lt.App=st,ge}(ae);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function _e(ge){(0,d.ZB)(st,ge)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),st}(),H=new le.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=j;!function Re(st){(0,O.registerVersion)("@firebase/app-compat","0.2.0",st)}()},9681:(ht,Me,F)=>{F.r(Me),F.d(Me,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Bs,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>tn,_apps:()=>un,_clearComponents:()=>Wi,_components:()=>Cn,_getProvider:()=>Vt,_registerComponent:()=>kr,_removeServiceInstance:()=>fn,deleteApp:()=>la,getApp:()=>Qr,getApps:()=>Xr,initializeApp:()=>mi,onLog:()=>ms,registerVersion:()=>Dr,setLogLevel:()=>Qn});var d=F(5861),te=F(4859),O=F(1877),le=F(2090),ae=F(8766);class fe{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function se(it){return"VERSION"===it.getComponent()?.type}(nt)){const xt=nt.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(nt=>nt).join(" ")}}const pe="@firebase/app",j=new O.Yd("@firebase/app"),zt="[DEFAULT]",Ke={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,Cn=new Map;function Xt(it,Ae){try{it.container.addComponent(Ae)}catch(nt){j.debug(`Component ${Ae.name} failed to register with FirebaseApp ${it.name}`,nt)}}function tn(it,Ae){it.container.addOrOverwriteComponent(Ae)}function kr(it){const Ae=it.name;if(Cn.has(Ae))return j.debug(`There were multiple attempts to register component ${Ae}.`),!1;Cn.set(Ae,it);for(const nt of un.values())Xt(nt,it);return!0}function Vt(it,Ae){const nt=it.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),it.container.getProvider(Ae)}function fn(it,Ae,nt=zt){Vt(it,Ae).clearInstance(nt)}function Wi(){Cn.clear()}const Rr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jr{constructor(Ae,nt,xt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const Bs="9.15.0";function mi(it,Ae={}){let nt=it;"object"!=typeof Ae&&(Ae={name:Ae});const xt=Object.assign({name:zt,automaticDataCollectionEnabled:!1},Ae),Nt=xt.name;if("string"!=typeof Nt||!Nt)throw Rr.create("bad-app-name",{appName:String(Nt)});if(nt||(nt=(0,le.aH)()),!nt)throw Rr.create("no-options");const jt=un.get(Nt);if(jt){if((0,le.vZ)(nt,jt.options)&&(0,le.vZ)(xt,jt.config))return jt;throw Rr.create("duplicate-app",{appName:Nt})}const $=new te.H0(Nt);for(const K of Cn.values())$.addComponent(K);const U=new jr(nt,xt,$);return un.set(Nt,U),U}function Qr(it=zt){const Ae=un.get(it);if(!Ae&&it===zt)return mi();if(!Ae)throw Rr.create("no-app",{appName:it});return Ae}function Xr(){return Array.from(un.values())}function la(it){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,d.Z)(function*(it){const Ae=it.name;un.has(Ae)&&(un.delete(Ae),yield Promise.all(it.container.getProviders().map(nt=>nt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Dr(it,Ae,nt){var xt;let Nt=null!==(xt=Ke[it])&&void 0!==xt?xt:it;nt&&(Nt+=`-${nt}`);const jt=Nt.match(/\s|\//),$=Ae.match(/\s|\//);if(jt||$){const U=[`Unable to register library "${Nt}" with version "${Ae}":`];return jt&&U.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),jt&&$&&U.push("and"),$&&U.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void j.warn(U.join(" "))}kr(new te.wA(`${Nt}-version`,()=>({library:Nt,version:Ae}),"VERSION"))}function ms(it,Ae){if(null!==it&&"function"!=typeof it)throw Rr.create("invalid-log-argument");(0,O.Am)(it,Ae)}function Qn(it){(0,O.Ub)(it)}const Pn="firebase-heartbeat-store";let Bn=null;function wn(){return Bn||(Bn=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(it,Ae)=>{0===Ae&&it.createObjectStore(Pn)}}).catch(it=>{throw Rr.create("idb-open",{originalErrorMessage:it.message})})),Bn}function ct(){return(ct=(0,d.Z)(function*(it){try{return(yield wn()).transaction(Pn).objectStore(Pn).get(jn(it))}catch(Ae){if(Ae instanceof le.ZR)j.warn(Ae.message);else{const nt=Rr.create("idb-get",{originalErrorMessage:Ae?.message});j.warn(nt.message)}}})).apply(this,arguments)}function an(it,Ae){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(it,Ae){try{const xt=(yield wn()).transaction(Pn,"readwrite");return yield xt.objectStore(Pn).put(Ae,jn(it)),xt.done}catch(nt){if(nt instanceof le.ZR)j.warn(nt.message);else{const xt=Rr.create("idb-set",{originalErrorMessage:nt?.message});j.warn(xt.message)}}})).apply(this,arguments)}function jn(it){return`${it.name}!${it.options.appId}`}class gs{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new rn(nt),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Ae=this;return(0,d.Z)(function*(){const xt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=nn();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Ae._heartbeatsCache.heartbeats.some(jt=>jt.date===Nt))return Ae._heartbeatsCache.heartbeats.push({date:Nt,agent:xt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(jt=>{const $=new Date(jt.date).valueOf();return Date.now()-$<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,d.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const nt=nn(),{heartbeatsToSend:xt,unsentEntries:Nt}=function Pi(it,Ae=1024){const nt=[];let xt=it.slice();for(const Nt of it){const jt=nt.find($=>$.agent===Nt.agent);if(jt){if(jt.dates.push(Nt.date),Xn(nt)>Ae){jt.dates.pop();break}}else if(nt.push({agent:Nt.agent,dates:[Nt.date]}),Xn(nt)>Ae){nt.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:xt}}(Ae._heartbeatsCache.heartbeats),jt=(0,le.L)(JSON.stringify({version:2,heartbeats:xt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=nt,Nt.length>0?(Ae._heartbeatsCache.heartbeats=Nt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),jt})()}}function nn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,d.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function Et(it){return ct.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var nt=this;return(0,d.Z)(function*(){var xt;if(yield nt._canUseIndexedDBPromise){const jt=yield nt.read();return an(nt.app,{lastSentHeartbeatDate:null!==(xt=Ae.lastSentHeartbeatDate)&&void 0!==xt?xt:jt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var nt=this;return(0,d.Z)(function*(){var xt;if(yield nt._canUseIndexedDBPromise){const jt=yield nt.read();return an(nt.app,{lastSentHeartbeatDate:null!==(xt=Ae.lastSentHeartbeatDate)&&void 0!==xt?xt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Ae.heartbeats]})}})()}}function Xn(it){return(0,le.L)(JSON.stringify({version:2,heartbeats:it})).length}!function Nr(it){kr(new te.wA("platform-logger",Ae=>new fe(Ae),"PRIVATE")),kr(new te.wA("heartbeat",Ae=>new gs(Ae),"PRIVATE")),Dr(pe,"0.9.0",it),Dr(pe,"0.9.0","esm2017"),Dr("fire-js","")}("")},4859:(ht,Me,F)=>{F.d(Me,{H0:()=>pe,wA:()=>O});var d=F(5861),te=F(2090);class O{constructor(j,H,Q){this.name=j,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class ae{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Q=new te.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:H});Ve&&Q.resolve(Ve)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Q=this.normalizeInstanceIdentifier(j?.identifier),Ve=null!==(H=j?.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Re){if(Ve)return null;throw Re}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function se(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[H,Q]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(H);try{const Re=this.getOrInitializeService({instanceIdentifier:Ve});Q.resolve(Re)}catch{}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,d.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[Re,Ie]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Re)&&Ie.resolve(Ve);return Ve}onInit(j,H){var Q;const Ve=this.normalizeInstanceIdentifier(H),Re=null!==(Q=this.onInitCallbacks.get(Ve))&&void 0!==Q?Q:new Set;Re.add(j),this.onInitCallbacks.set(Ve,Re);const Ie=this.instances.get(Ve);return Ie&&j(Ie,Ve),()=>{Re.delete(j)}}invokeOnInitCallbacks(j,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Ve of Q)try{Ve(j,H)}catch{}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===le?void 0:me),options:H}),this.instances.set(j,Q),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch{}var me;return Q||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new ae(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Me,F)=>{F.d(Me,{Am:()=>me,Ub:()=>pe,Yd:()=>se,in:()=>te});const d=[];var te=(()=>{return(j=te||(te={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",te;var j})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,ae={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},fe=(j,H,...Q)=>{if(H<j.logLevel)return;const Ve=(new Date).toISOString(),Re=ae[H];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Re](`[${Ve}]  ${j.name}:`,...Q)};class se{constructor(H){this.name=H,this._logLevel=le,this._logHandler=fe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in te))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...H),this._logHandler(this,te.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...H),this._logHandler(this,te.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,te.INFO,...H),this._logHandler(this,te.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,te.WARN,...H),this._logHandler(this,te.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...H),this._logHandler(this,te.ERROR,...H)}}function pe(j){d.forEach(H=>{H.setLogLevel(j)})}function me(j,H){for(const Q of d){let Ve=null;H&&H.level&&(Ve=O[H.level]),Q.userLogHandler=null===j?null:(Re,Ie,...st)=>{const _e=st.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ie>=(Ve??Re.logLevel)&&j({level:te[Ie].toLowerCase(),message:_e,args:st,type:Re.name})}}}},259:(ht,Me,F)=>{F.d(Me,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=F(9681);(0,d.registerVersion)("firebase","9.15.0","app")},9260:(ht,Me,F)=>{F.d(Me,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(ht,Me,F)=>{F.r(Me);var d=F(5861),te=F(3942),O=F(2090),le=F(9681),ae=F(1877),fe=F(655),se=F(4859);const Ie=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},st=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tt=new ae.Yd("@firebase/auth");function lt(_,...p){tt.logLevel<=ae.in.ERROR&&tt.error(`Auth (${le.SDK_VERSION}): ${_}`,...p)}function ke(_,...p){throw $e(_,...p)}function be(_,...p){return $e(_,...p)}function Ce(_,p,g){const b=Object.assign(Object.assign({},st()),{[p]:g});return new O.LL("auth","Firebase",b).create(p,{appName:_.name})}function He(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ke(_,"argument-error"),Ce(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...p){if("string"!=typeof _){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return _e.create(_,...p)}function B(_,p,...g){if(!_)throw $e(p,...g)}function ye(_){const p="INTERNAL ASSERTION FAILED: "+_;throw lt(p),new Error(p)}function W(_,p){_||ye(p)}const ee=new Map;function oe(_){W(_ instanceof Function,"Expected a class definition");let p=ee.get(_);return p?(W(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,ee.set(_,p),p)}function Oe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function mt(){return"http:"===en()||"https:"===en()}function en(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class un{constructor(p,g){this.shortDelay=p,this.longDelay=g,W(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cn(_,p){W(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Xt{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},kr=new un(3e4,6e4);function Vt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function fn(_,p,g,b){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(_,p,g,b,M={}){return pi(_,M,(0,d.Z)(function*(){let N={},q={};b&&("GET"===p?q=b:N={body:JSON.stringify(b)});const de=(0,O.xO)(Object.assign({key:_.config.apiKey},q)).slice(1),je=yield _._getAdditionalHeaders();return je["Content-Type"]="application/json",_.languageCode&&(je["X-Firebase-Locale"]=_.languageCode),Xt.fetch()(mi(_,_.config.apiHost,g,de),Object.assign({method:p,headers:je,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function pi(_,p,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(_,p,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},tn),p);try{const M=new Qr(_),N=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const q=yield N.json();if("needConfirmation"in q)throw Xr(_,"account-exists-with-different-credential",q);if(N.ok&&!("errorMessage"in q))return q;{const de=N.ok?q.errorMessage:q.error.message,[je,Je]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw Xr(_,"credential-already-in-use",q);if("EMAIL_EXISTS"===je)throw Xr(_,"email-already-in-use",q);if("USER_DISABLED"===je)throw Xr(_,"user-disabled",q);const Dt=b[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw Ce(_,Dt,Je);ke(_,Dt)}}catch(M){if(M instanceof O.ZR)throw M;ke(_,"network-request-failed")}})).apply(this,arguments)}function jr(_,p,g,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(_,p,g,b,M={}){const N=yield fn(_,p,g,b,M);return"mfaPendingCredential"in N&&ke(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function mi(_,p,g,b){const M=`${p}${g}?${b}`;return _.config.emulator?Cn(_.config,M):`${_.config.apiScheme}://${M}`}class Qr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(be(this.auth,"network-request-failed")),kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xr(_,p,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const M=be(_,p,b);return M.customData._tokenResponse=g,M}function Ye(){return(Ye=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Dr(_,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qn(_,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Oi(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function wn(){return(wn=(0,d.Z)(function*(_,p=!1){const g=(0,O.m9)(_),b=yield g.getIdToken(p),M=ct(b);B(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,q=N?.sign_in_provider;return{claims:M,token:b,authTime:Oi(Et(M.auth_time)),issuedAtTime:Oi(Et(M.iat)),expirationTime:Oi(Et(M.exp)),signInProvider:q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Et(_){return 1e3*Number(_)}function ct(_){const[p,g,b]=_.split(".");if(void 0===p||void 0===g||void 0===b)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,O.tV)(g);return M?JSON.parse(M):(lt("Failed to decode base64 JWT payload"),null)}catch(M){return lt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function mr(_,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof O.ZR&&Hr(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Hr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Rt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class gs{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nn(_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,d.Z)(function*(_){var p;const g=_.auth,b=yield _.getIdToken(),M=yield mr(_,Qn(g,{idToken:b}));B(M?.users.length,g,"internal-error");const N=M.users[0];_._notifyReloadListener(N);const q=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?it(N.providerUserInfo):[],de=Nr(_.providerData,q),Dt=!!_.isAnonymous&&!(_.email&&N.passwordHash||de?.length),vt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:de,metadata:new gs(N.createdAt,N.lastLoginAt),isAnonymous:Dt};Object.assign(_,vt)})).apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(_){const p=(0,O.m9)(_);yield nn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Nr(_,p){return[..._.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}function it(_){return _.map(p=>{var{providerId:g}=p,b=(0,fe._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function nt(){return(nt=(0,d.Z)(function*(_,p){const g=yield pi(_,{},(0,d.Z)(function*(){const b=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:N}=_.config,q=mi(_,M,"/v1/token",`key=${N}`),de=yield _._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Xt.fetch()(q,{method:"POST",headers:de,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){B(p.idToken,"internal-error"),B(typeof p.idToken<"u","internal-error"),B(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function an(_){const p=ct(_);return B(p,"internal-error"),B(typeof p.exp<"u","internal-error"),B(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,d.Z)(function*(){return B(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:q}=yield function Ae(_,p){return nt.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(M,N,Number(q))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:M,expirationTime:N}=g,q=new xt;return b&&(B("string"==typeof b,"internal-error",{appName:p}),q.refreshToken=b),M&&(B("string"==typeof M,"internal-error",{appName:p}),q.accessToken=M),N&&(B("number"==typeof N,"internal-error",{appName:p}),q.expirationTime=N),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xt,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Nt(_,p){B("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class jt{constructor(p){var{uid:g,auth:b,stsTokenManager:M}=p,N=(0,fe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new gs(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const b=yield mr(g,g.stsTokenManager.getToken(g.auth,p));return B(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Bn(_){return wn.apply(this,arguments)}(this,p)}reload(){return function rn(_){return Xn.apply(this,arguments)}(this)}_assign(p){this!==p&&(B(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new jt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield nn(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield mr(p,function la(_,p){return Ye.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,M,N,q,de,je,Je,Dt;const vt=null!==(b=g.displayName)&&void 0!==b?b:void 0,cn=null!==(M=g.email)&&void 0!==M?M:void 0,rr=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Ii=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Op=null!==(de=g.tenantId)&&void 0!==de?de:void 0,Vh=null!==(je=g._redirectEventId)&&void 0!==je?je:void 0,Uh=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,ec=null!==(Dt=g.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Bh,emailVerified:Pp,isAnonymous:Xo,providerData:Ua,stsTokenManager:Fp}=g;B(Bh&&Fp,p,"internal-error");const Bg=xt.fromJSON(this.name,Fp);B("string"==typeof Bh,p,"internal-error"),Nt(vt,p.name),Nt(cn,p.name),B("boolean"==typeof Pp,p,"internal-error"),B("boolean"==typeof Xo,p,"internal-error"),Nt(rr,p.name),Nt(Ii,p.name),Nt(Op,p.name),Nt(Vh,p.name),Nt(Uh,p.name),Nt(ec,p.name);const Ba=new jt({uid:Bh,auth:p,email:cn,emailVerified:Pp,displayName:vt,isAnonymous:Xo,photoURL:Ii,phoneNumber:rr,tenantId:Op,stsTokenManager:Bg,createdAt:Uh,lastLoginAt:ec});return Ua&&Array.isArray(Ua)&&(Ba.providerData=Ua.map(Jo=>Object.assign({},Jo))),Vh&&(Ba._redirectEventId=Vh),Ba}static _fromIdTokenResponse(p,g,b=!1){return(0,d.Z)(function*(){const M=new xt;M.updateFromServerResponse(g);const N=new jt({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield nn(N),N})()}}const U=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,b){var M=this;return(0,d.Z)(function*(){M.storage[g]=b})()}_get(g){var b=this;return(0,d.Z)(function*(){const M=b.storage[g];return void 0===M?null:M})()}_remove(g){var b=this;return(0,d.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function K(_,p,g){return`firebase:${_}:${p}:${g}`}class we{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:M,name:N}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,N),this.fullPersistenceKey=K("persistence",M.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?jt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,d.Z)(function*(){if(!g.length)return new we(oe(U),p,b);const M=(yield Promise.all(g.map(function(){var Je=(0,d.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let N=M[0]||oe(U);const q=K(b,p.config.apiKey,p.name);let de=null;for(const Je of g)try{const Dt=yield Je._get(q);if(Dt){const vt=jt._fromJSON(p,Dt);Je!==N&&(de=vt),N=Je;break}}catch{}const je=M.filter(Je=>Je._shouldAllowMigration);return N._shouldAllowMigration&&je.length?(N=je[0],de&&(yield N._set(q,de.toJSON())),yield Promise.all(g.map(function(){var Je=(0,d.Z)(function*(Dt){if(Dt!==N)try{yield Dt._remove(q)}catch{}});return function(Dt){return Je.apply(this,arguments)}}())),new we(N,p,b)):new we(N,p,b)})()}}function J(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(yn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ze(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ue(p))return"Blackberry";if(Ge(p))return"Webos";if(gt(p))return"Safari";if((p.includes("chrome/")||Jt(p))&&!p.includes("edge/"))return"Chrome";if(Yt(p))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function ze(_=(0,O.z$)()){return/firefox\//i.test(_)}function gt(_=(0,O.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Jt(_=(0,O.z$)()){return/crios\//i.test(_)}function yn(_=(0,O.z$)()){return/iemobile/i.test(_)}function Yt(_=(0,O.z$)()){return/android/i.test(_)}function Ue(_=(0,O.z$)()){return/blackberry/i.test(_)}function Ge(_=(0,O.z$)()){return/webos/i.test(_)}function Ht(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function js(_=(0,O.z$)()){return Ht(_)||Yt(_)||Ge(_)||Ue(_)||/windows phone/i.test(_)||yn(_)}function ys(_,p=[]){let g;switch(_){case"Browser":g=J((0,O.z$)());break;case"Worker":g=`${J((0,O.z$)())}-${_}`;break;default:g=_}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Do{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=N=>new Promise((q,de)=>{try{q(p(N))}catch(je){de(je)}});b.onAbort=g,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===p)return;const b=[];try{for(const M of g.queue)yield M(p),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const N of b)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Ut{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hs(this),this.idTokenSubscription=new Hs(this),this.beforeStateQueue=new Do(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,N;if(!b._deleted&&(b.persistenceManager=yield we.create(b,p),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(N=b.currentUser)||void 0===N?void 0:N.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var b;const M=yield g.assertedPersistence.getCurrentUser();let N=M,q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const de=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,je=N?._redirectEventId,Je=yield g.tryRedirectSignIn(p);(!de||de===je)&&Je?.user&&(N=Je.user,q=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(N)}catch(de){N=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(de))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return B(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield nn(p)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const b=p?(0,O.m9)(p):null;return b&&B(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&B(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,d.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&oe(p)||g._popupRedirectResolver;B(b,g,"argument-error"),g.redirectPersistenceManager=yield we.create(g,[oe(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var b,M;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,M){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return B(q,this,"internal-error"),q.then(()=>N(this.currentUser)),"function"==typeof g?p.addObserver(g,b,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function An(_){return(0,O.m9)(_)}class Hs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fi(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function _s(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class gr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,g){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function $n(_,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:resetPassword",Vt(_,p))})).apply(this,arguments)}function pn(_,p){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hu(_,p){return $s.apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:update",Vt(_,p))})).apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithPassword",Vt(_,p))})).apply(this,arguments)}function bs(_,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:sendOobCode",Vt(_,p))})).apply(this,arguments)}function lr(_,p){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(_,p){return bs(_,p)})).apply(this,arguments)}function ur(_,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(_,p){return bs(_,p)})).apply(this,arguments)}function ca(_,p){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(_,p){return bs(_,p)})).apply(this,arguments)}function pu(_,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(_,p){return bs(_,p)})).apply(this,arguments)}function Oc(){return(Oc=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,p))})).apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,p))})).apply(this,arguments)}class gu extends gr{constructor(p,g,b,M=null){super("password",b),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new gu(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new gu(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){switch(g.signInMethod){case"password":return function ua(_,p){return Gs.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function lh(_,p){return Oc.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ke(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return pn(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function uh(_,p){return mu.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function er(_,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithIdp",Vt(_,p))})).apply(this,arguments)}class Ki extends gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ki(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=g,N=(0,fe._T)(g,["providerId","signInMethod"]);if(!b||!M)return null;const q=new Ki(b,M);return q.idToken=N.idToken||void 0,q.accessToken=N.accessToken||void 0,q.secret=N.secret,q.nonce=N.nonce,q.pendingToken=N.pendingToken||null,q}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,er(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,er(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,O.xO)(g)}return p}}function ap(_,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:sendVerificationCode",Vt(_,p))})).apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,p))})).apply(this,arguments)}function Lc(){return(Lc=(0,d.Z)(function*(_,p){const g=yield jr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,p));if(g.temporaryProof)throw Xr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const up={USER_NOT_FOUND:"user-not-found"};function Vc(){return(Vc=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),up)})).apply(this,arguments)}class Es extends gr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Es({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Es({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function yu(_,p){return ws.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function lp(_,p){return Lc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function cp(_,p){return Vc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:N}=p;return b||g||M||N?new Es({verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:N}):null}}class Ja{constructor(p){var g,b,M,N,q,de;const je=(0,O.zd)((0,O.pd)(p)),Je=null!==(g=je.apiKey)&&void 0!==g?g:null,Dt=null!==(b=je.oobCode)&&void 0!==b?b:null,vt=function Uc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=je.mode)&&void 0!==M?M:null);B(Je&&Dt&&vt,"argument-error"),this.apiKey=Je,this.operation=vt,this.code=Dt,this.continueUrl=null!==(N=je.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(q=je.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(de=je.tenantId)&&void 0!==de?de:null}static parseLink(p){const g=function Bc(_){const p=(0,O.zd)((0,O.pd)(_)).link,g=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,b=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(b?(0,O.zd)((0,O.pd)(b)).link:null)||b||g||p||_}(p);try{return new Ja(g)}catch{return null}}}let Li=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return gu._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const M=Ja.parseLink(b);return B(M,"argument-error"),gu._fromEmailAndCode(g,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Zi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Yi extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class zs extends Yi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return B("providerId"in g&&"signInMethod"in g,"argument-error"),Ki._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return B(p.idToken||p.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return zs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return zs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:N,nonce:q,providerId:de}=p;if(!b&&!M&&!g&&!N||!de)return null;try{return new zs(de)._credential({idToken:g,accessToken:b,nonce:q,pendingToken:N})}catch{return null}}}let da=(()=>{class _ extends Yi{constructor(){super("facebook.com")}static credential(g){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),el=(()=>{class _ extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:M}=g;if(!b&&!M)return null;try{return _.credential(b,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),_u=(()=>{class _ extends Yi{constructor(){super("github.com")}static credential(g){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ao extends gr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,er(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,er(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:N}=g;return b&&M&&N&&b===M?new Ao(b,N):null}static _create(p,g){return new Ao(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ei extends Zi{constructor(p){B(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ei.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ei.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ao.fromJSON(p);return B(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Ao._create(b,g)}catch{return null}}}let Gr=(()=>{class _ extends Yi{constructor(){super("twitter.com")}static credential(g,b){return Ki._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=g;if(!b||!M)return null;try{return _.credential(b,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function So(_,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signUp",Vt(_,p))})).apply(this,arguments)}class yr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,M=!1){return(0,d.Z)(function*(){const N=yield jt._fromIdTokenResponse(p,b,M),q=hh(b);return new yr({user:N,providerId:q,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=hh(b);return new yr({user:p,providerId:M,_tokenResponse:b,operationType:g})})()}}function hh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function kn(){return(kn=(0,d.Z)(function*(_){var p;const g=An(_);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new yr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield So(g,{returnSecureToken:!0}),M=yield yr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class tl extends O.ZR{constructor(p,g,b,M){var N;super(g.code,g.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,M){return new tl(p,g,b,M)}}function ph(_,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?tl._fromErrorAndOperation(_,N,p,b):N})}function ti(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function nl(){return(nl=(0,d.Z)(function*(_,p){const g=(0,O.m9)(_);yield Qt(!0,g,p);const{providerUserInfo:b}=yield Dr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=ti(b||[]);return g.providerData=g.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Mo(_,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(_,p,g=!1){const b=yield mr(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return yr._forOperation(_,"link",b)})).apply(this,arguments)}function Qt(_,p,g){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(_,p,g){yield nn(p);const M=!1===_?"provider-already-linked":"no-such-provider";B(ti(p.providerData).has(g)===_,p.auth,M)})).apply(this,arguments)}function qs(_,p){return il.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(_,p,g=!1){const{auth:b}=_,M="reauthenticate";try{const N=yield mr(_,ph(b,M,p,_),g);B(N.idToken,b,"internal-error");const q=ct(N.idToken);B(q,b,"internal-error");const{sub:de}=q;return B(_.uid===de,b,"user-mismatch"),yr._forOperation(_,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&ke(b,"user-mismatch"),N}})).apply(this,arguments)}function yi(_,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(_,p,g=!1){const b="signIn",M=yield ph(_,b,p),N=yield yr._fromIdTokenResponse(_,b,M);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Mn(_,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(_,p){return yi(An(_),p)})).apply(this,arguments)}function ol(_,p){return mh.apply(this,arguments)}function mh(){return(mh=(0,d.Z)(function*(_,p){const g=(0,O.m9)(_);return yield Qt(!1,g,p.providerId),Mo(g,p)})).apply(this,arguments)}function al(_,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(_,p){return qs((0,O.m9)(_),p)})).apply(this,arguments)}function bu(_,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,d.Z)(function*(_,p){return jr(_,"POST","/v1/accounts:signInWithCustomToken",Vt(_,p))})).apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(_,p){const g=An(_),b=yield bu(g,{token:p,returnSecureToken:!0}),M=yield yr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Se{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?qt._fromServerResponse(p,g):ke(p,"internal-error")}}class qt extends Se{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new qt(g)}}function ul(_,p,g){var b;B((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),B(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(B(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(B(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Rn(){return(Rn=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_),M={requestType:"PASSWORD_RESET",email:p};g&&ul(b,M,g),yield ur(b,M)})).apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(_,p,g){yield $n((0,O.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(_,p){yield hu((0,O.m9)(_),{oobCode:p})})).apply(this,arguments)}function pa(_,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,d.Z)(function*(_,p){const g=(0,O.m9)(_),b=yield $n(g,{oobCode:p}),M=b.requestType;switch(B(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(b.mfaInfo,g,"internal-error");default:B(b.email,g,"internal-error")}let N=null;return b.mfaInfo&&(N=Se._fromServerResponse(An(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(_,p){const{data:g}=yield pa((0,O.m9)(_),p);return g.email})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(_,p,g){const b=An(_),M=yield So(b,{returnSecureToken:!0,email:p,password:g}),N=yield yr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(N.user),N})).apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_),M={requestType:"EMAIL_SIGNIN",email:p};B(g.handleCodeInApp,b,"argument-error"),g&&ul(b,M,g),yield ca(b,M)})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_),M=Li.credentialWithLink(p,g||Oe());return B(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Mn(b,M)})).apply(this,arguments)}function hp(_,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:createAuthUri",Vt(_,p))})).apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(_,p){const b={identifier:p,continueUri:mt()?Oe():"http://localhost"},{signinMethods:M}=yield hp((0,O.m9)(_),b);return M||[]})).apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(_,p){const g=(0,O.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&ul(g.auth,M,p);const{email:N}=yield lr(g.auth,M);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function fl(){return(fl=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&ul(b.auth,N,g);const{email:q}=yield pu(b.auth,N);q!==_.email&&(yield _.reload())})).apply(this,arguments)}function pl(_,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(_,p){return fn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,O.m9)(_),N={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield mr(b,pl(b.auth,N));b.displayName=q.displayName||null,b.photoURL=q.photoUrl||null;const de=b.providerData.find(({providerId:je})=>"password"===je);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(q)})).apply(this,arguments)}function Zs(_,p,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(_,p,g){const{auth:b}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(N.email=p),g&&(N.password=g);const q=yield mr(_,pn(b,N));yield _._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class zr{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class En extends zr{constructor(p,g,b,M){super(p,g,b),this.username=M}}class $c extends zr{constructor(p,g){super(p,"facebook.com",g)}}class ku extends En{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class gh extends zr{constructor(p,g){super(p,"google.com",g)}}class Ru extends En{constructor(p,g,b){super(p,"twitter.com",g,b)}}function gl(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function tr(_){var p,g;if(!_)return null;const{providerId:b}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const q=null===(g=null===(p=ct(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new zr(N,"anonymous"!==q&&"custom"!==q?q:null)}if(!b)return null;switch(b){case"facebook.com":return new $c(N,M);case"github.com":return new ku(N,M);case"google.com":return new gh(N,M);case"twitter.com":return new Ru(N,M,_.screenName||null);case"custom":case"anonymous":return new zr(N,null);default:return new zr(N,b,M)}}(g)}class Qs{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Qs("enroll",p,g)}static _fromMfaPendingCredential(p){return new Qs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Qs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Qs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class _l{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=An(p),M=g.customData._serverResponse,N=(M.mfaInfo||[]).map(de=>Se._fromServerResponse(b,de));B(M.mfaPendingCredential,b,"internal-error");const q=Qs._fromMfaPendingCredential(M.mfaPendingCredential);return new _l(q,N,function(){var de=(0,d.Z)(function*(je){const Je=yield je._process(b,q);delete M.mfaInfo,delete M.mfaPendingCredential;const Dt=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const vt=yield yr._fromIdTokenResponse(b,g.operationType,Dt);return yield b._updateCurrentUser(vt.user),vt;case"reauthenticate":return B(g.user,b,"internal-error"),yr._forOperation(g.user,g.operationType,Dt);default:ke(b,"internal-error")}});return function(je){return de.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function vl(_,p){return fn(_,"POST","/v2/accounts/mfaEnrollment:start",Vt(_,p))}class yh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Se._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new yh(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Qs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,d.Z)(function*(){const M=p,N=yield b.getSession(),q=yield mr(b.user,M._process(b.user.auth,N,g));return yield b.user._updateTokensIfNecessary(q),b.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield g.user.getIdToken(),N=yield mr(g.user,function Wc(_,p){return fn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(_,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==b),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const Xs=new WeakMap,Js="__sak";class wl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ba=(()=>{class _ extends wl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function va(){const _=(0,O.z$)();return gt(_)||Ht(_)}()&&function Dn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=js(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),N=this.localCache[b];M!==N&&g(b,N,M)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((de,je,Je)=>{this.notifyListeners(de,Je)});const M=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(M);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!b)return}const N=()=>{const de=this.storage.getItem(M);!b&&this.localCache[M]===de||this.notifyListeners(M,de)},q=this.storage.getItem(M);!function Jn(){return(0,O.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const N of Array.from(M))N(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var M=()=>super._set,N=this;return(0,d.Z)(function*(){yield M().call(N,g,b),N.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,M=this;return(0,d.Z)(function*(){const N=yield b().call(M,g);return M.localCache[g]=JSON.stringify(N),N})()}_remove(g){var b=()=>super._remove,M=this;return(0,d.Z)(function*(){yield b().call(M,g),delete M.localCache[g]})()}}return _.type="LOCAL",_})(),Ui=(()=>{class _ extends wl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Yc=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(N=>N.isListeningto(g));if(b)return b;const M=new _(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,d.Z)(function*(){const M=g,{eventId:N,eventType:q,data:de}=M.data,je=b.handlersMap[q];if(!je?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:q});const Je=Array.from(je).map(function(){var vt=(0,d.Z)(function*(cn){return cn(M.origin,de)});return function(cn){return vt.apply(this,arguments)}}()),Dt=yield function Ea(_){return Promise.all(_.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:N,eventType:q,response:Dt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ia(_="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return _+g}class Nu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var M=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let q,de;return new Promise((je,Je)=>{const Dt=Ia("",20);N.port1.start();const vt=setTimeout(()=>{Je(new Error("unsupported_event"))},b);de={messageChannel:N,onMessage(cn){const rr=cn;if(rr.data.eventId===Dt)switch(rr.data.status){case"ack":clearTimeout(vt),q=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),je(rr.data.response);break;default:clearTimeout(vt),clearTimeout(q),Je(new Error("invalid_response"))}}},M.handlers.add(de),N.port1.addEventListener("message",de.onMessage),M.target.postMessage({eventType:p,eventId:Dt,data:g},[N.port2])}).finally(()=>{de&&M.removeMessageHandler(de)})})()}}function Fn(){return window}function El(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function Ca(){return(Ca=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ds="firebaseLocalStorageDb",Ts="firebaseLocalStorage",Dl="fbase_key";class to{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Da(_,p){return _.transaction([Ts],p?"readwrite":"readonly").objectStore(Ts)}function Oo(){const _=indexedDB.open(Ds,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Ts,{keyPath:Dl})}catch(M){g(M)}}),_.addEventListener("success",(0,d.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Ts)?p(b):(b.close(),yield function Xc(){const _=indexedDB.deleteDatabase(Ds);return new to(_).toPromise()}(),p(yield Oo()))}))})}function ts(_,p,g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,d.Z)(function*(_,p,g){const b=Da(_,!0).put({[Dl]:p,value:g});return new to(b).toPromise()})).apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(_,p){const g=Da(_,!1).get(p),b=yield new to(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function no(_,p){const g=Da(_,!0).delete(p);return new to(g).toPromise()}const Po=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Oo()),g.db})()}_withRetries(g){var b=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const N=yield b._openDb();return yield g(N)}catch(N){if(M++>3)throw N;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return El()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=Yc._getInstance(function Cl(){return El()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(M,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(M,N){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var b,M;if(g.activeServiceWorker=yield function eo(){return Ca.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nu(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(b=N[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Il(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Oo();return yield ts(g,Js,"1"),yield no(g,Js),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(N=>ts(N,g,b)),M.localCache[g]=b,M.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,d.Z)(function*(){const M=yield b._withRetries(N=>function Tl(_,p){return Ta.apply(this,arguments)}(N,g));return b.localCache[g]=M,M})()}_remove(g){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(M=>no(M,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const b=yield g._withRetries(q=>{const de=Da(q,!1).getAll();return new to(de).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:q,value:de}of b)N.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(de)&&(g.notifyListeners(q,de),M.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!N.has(q)&&(g.notifyListeners(q,null),M.push(q));return M})()}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const N of Array.from(M))N(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Fo(_,p){return fn(_,"POST","/v2/accounts/mfaSignIn:start",Vt(_,p))}function As(){return(As=(0,d.Z)(function*(_){return(yield fn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vo(_){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=p,b.onerror=M=>{const N=be("internal-error");N.customData=M,g(N)},b.type="text/javascript",b.charset="UTF-8",function Lo(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(b)})}function Ml(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Aa=1e12;class In{constructor(p){this.auth=p,this.counter=Aa,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new fp(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Aa;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Aa))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var b;return null===(b=g._widgets.get(p||Aa))||void 0===b||b.execute(),""})()}}class fp{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;B(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _g(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pp=Ml("rcb"),vg=new un(3e4,6e4);class _h{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Fn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return B(function Gv(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Fn().grecaptcha):new Promise((b,M)=>{const N=Fn().setTimeout(()=>{M(be(p,"network-request-failed"))},vg.get());Fn()[pp]=()=>{Fn().clearTimeout(N),delete Fn()[pp];const de=Fn().grecaptcha;if(!de)return void M(be(p,"internal-error"));const je=de.render;de.render=(Je,Dt)=>{const vt=je(Je,Dt);return this.counter++,vt},this.hostLanguage=g,b(de)},Vo(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:pp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),M(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Fn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bo{load(p){return(0,d.Z)(function*(){return new In(p)})()}clearedOneInstance(){}}const mp="recaptcha",gp={theme:"light",type:"image"};class dr{constructor(p,g=Object.assign({},gp),b){this.parameters=g,this.type=mp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(b),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;B(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bo:new _h,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(N=>{const q=de=>{!de||(p.tokenChangeListeners.delete(q),N(de))};p.tokenChangeListeners.add(q),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Fn()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){B(mt()&&!El(),p.auth,"internal-error"),yield function mn(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function qr(_){return As.apply(this,arguments)}(p.auth);B(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vi{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Es._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Gn(){return(Gn=(0,d.Z)(function*(_,p,g){const b=An(_),M=yield Ss(b,p,(0,O.m9)(g));return new vi(M,N=>Mn(b,N))})).apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_);yield Qt(!1,b,"phone");const M=yield Ss(b.auth,p,(0,O.m9)(g));return new vi(M,N=>ol(b,N))})).apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_),M=yield Ss(b.auth,p,(0,O.m9)(g));return new vi(M,N=>al(b,N))})).apply(this,arguments)}function Ss(_,p,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(_,p,g){var b;const M=yield g.verify();try{let N;if(B("string"==typeof M,_,"argument-error"),B(g.type===mp,_,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const q=N.session;if("phoneNumber"in N)return B("enroll"===q.type,_,"internal-error"),(yield vl(_,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{B("signin"===q.type,_,"internal-error");const de=(null===(b=N.multiFactorHint)||void 0===b?void 0:b.uid)||N.multiFactorUid;return B(de,_,"missing-multi-factor-info"),(yield Fo(_,{mfaPendingCredential:q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield ap(_,{phoneNumber:N.phoneNumber,recaptchaToken:M});return q}}finally{g._reset()}})).apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(_,p){yield Mo((0,O.m9)(_),p)})).apply(this,arguments)}let Ma=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=An(g)}verifyPhoneNumber(g,b){return Ss(this.auth,g,(0,O.m9)(b))}static credential(g,b){return Es._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:M}=g;return b&&M?Es._fromTokenResponse(b,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function jo(_,p){return p?oe(p):(B(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ms extends gr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return er(p,this._buildIdpRequest())}_linkToIdToken(p,g){return er(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return er(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Qe(_){return yi(_.auth,new Ms(_),_.bypassAuthState)}function xa(_){const{auth:p,user:g}=_;return B(g,p,"internal-error"),qs(g,new Ms(_),_.bypassAuthState)}function xs(_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(_){const{auth:p,user:g}=_;return B(g,p,"internal-error"),Mo(g,new Ms(_),_.bypassAuthState)})).apply(this,arguments)}class $o{constructor(p,g,b,M,N=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(b,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:N,tenantId:q,error:de,type:je}=p;if(de)return void g.reject(de);const Je={auth:g.auth,requestUri:b,sessionId:M,tenantId:q||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(je)(Je))}catch(Dt){g.reject(Dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qe;case"linkViaPopup":case"linkViaRedirect":return xs;case"reauthViaPopup":case"reauthViaRedirect":return xa;default:ke(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new un(2e3,1e4);function Go(){return(Go=(0,d.Z)(function*(_,p,g){const b=An(_);He(_,p,Zi);const M=jo(b,g);return new ks(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_);He(b.auth,p,Zi);const M=jo(b.auth,g);return new ks(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_);He(b.auth,p,Zi);const M=jo(b.auth,g);return new ks(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let ks=(()=>{class _ extends $o{constructor(g,b,M,N,q){super(g,b,N,q),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const b=yield g.execute();return B(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,d.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const b=Ia();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ln.get())};g()}}return _.currentPopupAction=null,_})();const wi=new Map;class Uu extends $o{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let b=wi.get(g.auth._key());if(!b){try{const N=(yield function Wr(_,p){return Pr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(N)}catch(M){b=()=>Promise.reject(M)}wi.set(g.auth._key(),b)}return g.bypassAuthState||wi.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Pr(){return(Pr=(0,d.Z)(function*(_,p){const g=zn(p),b=rs(_);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(g));return yield b._remove(g),M})).apply(this,arguments)}function ji(_,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.Z)(function*(_,p){return rs(_)._set(zn(p),"true")})).apply(this,arguments)}function Rs(_,p){wi.set(_._key(),p)}function rs(_){return oe(_._redirectPersistence)}function zn(_){return K("pendingRedirect",_.config.apiKey,_.name)}function C(){return(C=(0,d.Z)(function*(_,p,g){const b=An(_);He(_,p,Zi);const M=jo(b,g);return yield ji(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_);He(b.auth,p,Zi);const M=jo(b.auth,g);yield ji(M,b.auth);const N=yield Ct(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function Te(){return(Te=(0,d.Z)(function*(_,p,g){const b=(0,O.m9)(_);He(b.auth,p,Zi);const M=jo(b.auth,g);yield Qt(!1,b,p.providerId),yield ji(M,b.auth);const N=yield Ct(b);return M._openRedirect(b.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function Xe(){return(Xe=(0,d.Z)(function*(_,p){return yield An(_)._initializationPromise,ut(_,p,!1)})).apply(this,arguments)}function ut(_,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(_,p,g=!1){const b=An(_),M=jo(b,p),q=yield new Uu(b,M,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield b._persistUserIfCurrent(q.user),yield b._setRedirectUser(null,p)),q})).apply(this,arguments)}function Ct(_){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(_){const p=Ia(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class zo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Un(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pt(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Pt(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(be(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(p))}saveEventToCache(p){this.cachedEventUids.add(so(p)),this.lastProcessedEventTime=Date.now()}}function so(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Pt({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function Kr(_){return is.apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(_,p={}){return fn(_,"GET","/v1/projects",p)})).apply(this,arguments)}const zv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vp=/^https?/;function vh(){return(vh=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Kr(_);for(const g of p)try{if(bp(g))return}catch{}ke(_,"unauthorized-domain")})).apply(this,arguments)}function bp(_){const p=Oe(),{protocol:g,hostname:b}=new URL(p);if(_.startsWith("chrome-extension://")){const q=new URL(_);return""===q.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===b}if(!vp.test(g))return!1;if(zv.test(_))return b===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const wp=new un(3e4,6e4);function wg(){const _=Fn().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Hi=null;function bh(_){return Hi=Hi||function nr(_){return new Promise((p,g)=>{var b,M,N;function q(){wg(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{wg(),g(be(_,"network-request-failed"))},timeout:wp.get()})}if(null!==(M=null===(b=Fn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(N=Fn().gapi)||void 0===N||!N.load){const de=Ml("iframefcb");return Fn()[de]=()=>{gapi.load?q():g(be(_,"network-request-failed"))},Vo(`https://apis.google.com/js/api.js?onload=${de}`).catch(je=>g(je))}q()}}).catch(p=>{throw Hi=null,p})}(_),Hi}const Ep=new un(5e3,15e3),Eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ig=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ip(_){const p=_.config;B(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?Cn(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:_.name,v:le.SDK_VERSION},M=Ig.get(_.config.apiHost);M&&(b.eid=M);const N=_._getFrameworks();return N.length&&(b.fw=N.join(",")),`${g}?${(0,O.xO)(b).slice(1)}`}function Ih(){return Ih=(0,d.Z)(function*(_){const p=yield bh(_),g=Fn().gapi;return B(g,_,"internal-error"),p.open({where:document.body,url:Ip(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eg,dontclear:!0},b=>new Promise(function(){var M=(0,d.Z)(function*(N,q){yield b.restyle({setHideOnLeave:!1});const de=be(_,"network-request-failed"),je=Fn().setTimeout(()=>{q(de)},Ep.get());function Je(){Fn().clearTimeout(je),N(b)}b.ping(Je).then(Je,()=>{q(de)})});return function(N,q){return M.apply(this,arguments)}}()))}),Ih.apply(this,arguments)}const Cg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ed(_,p,g,b,M,N){B(_.config.authDomain,_,"auth-domain-config-required"),B(_.config.apiKey,_,"invalid-api-key");const q={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:M};if(p instanceof Zi){p.setDefaultLanguage(_.languageCode),q.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[je,Je]of Object.entries(N||{}))q[je]=Je}if(p instanceof Yi){const je=p.getScopes().filter(Je=>""!==Je);je.length>0&&(q.scopes=je.join(","))}_.tenantId&&(q.tid=_.tenantId);const de=q;for(const je of Object.keys(de))void 0===de[je]&&delete de[je];return`${function ju({config:_}){return _.emulator?Cn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(de).slice(1)}`}const qo="webStorageSupport";class $u extends class Ag{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new $u(p)}_finalizeEnroll(p,g,b){return function bl(_,p){return fn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(_,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Sl(_,p){return fn(_,"POST","/v2/accounts/mfaSignIn:finalize",Vt(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gu=(()=>{class _{constructor(){}static assertion(g){return $u._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var zu="@firebase/auth";class Sg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oo(){return window}function nd(){return(nd=(0,d.Z)(function*(_,p,g){var b;const{BuildInfo:M}=oo();W(p.sessionId,"AuthEvent did not contain a session ID");const N=yield Pl(p.sessionId),q={};return Ht()?q.ibi=M.packageName:Yt()?q.apn=M.packageName:ke(_,"operation-not-supported-in-this-environment"),M.displayName&&(q.appDisplayName=M.displayName),q.sessionId=N,ed(_,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,q)})).apply(this,arguments)}function qu(){return(qu=(0,d.Z)(function*(_){const{BuildInfo:p}=oo(),g={};Ht()?g.iosBundleId=p.packageName:Yt()?g.androidPackageName=p.packageName:ke(_,"operation-not-supported-in-this-environment"),yield Kr(_,g)})).apply(this,arguments)}function rd(){return(rd=(0,d.Z)(function*(_,p,g){const{cordova:b}=oo();let M=()=>{};try{yield new Promise((N,q)=>{let de=null;function je(){var vt;N();const cn=null===(vt=b.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof cn&&cn(),"function"==typeof g?.close&&g.close()}function Je(){de||(de=window.setTimeout(()=>{q(be(_,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===document?.visibilityState&&Je()}p.addPassiveListener(je),document.addEventListener("resume",Je,!1),Yt()&&document.addEventListener("visibilitychange",Dt,!1),M=()=>{p.removePassiveListener(je),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",Dt,!1),de&&window.clearTimeout(de)}})}finally{M()}})).apply(this,arguments)}function Pl(_){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(_){const p=Fl(_),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fl(_){if(W(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),g=new Uint8Array(p);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}(0,O.Pz)("authIdTokenMaxAge"),function Cp(_){(0,le._registerComponent)(new se.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),{apiKey:N,authDomain:q}=b.options;return((de,je)=>{B(N&&!N.includes(":"),"invalid-api-key",{appName:de.name}),B(!q?.includes(":"),"argument-error",{appName:de.name});const Je={apiKey:N,authDomain:q,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ys(_)},Dt=new Ut(de,je,Je);return function Fe(_,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(oe);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(b,p?.popupRedirectResolver)}(Dt,g),Dt})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new se.wA("auth-internal",p=>{const g=An(p.getProvider("auth").getImmediate());return new Sg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(zu,"0.21.0",function Mg(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(zu,"0.21.0","esm2017")}("Browser");class sd extends zo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Tp(_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(_){const p=yield Fa()._get(ao(_));return p&&(yield Fa()._remove(ao(_))),p})).apply(this,arguments)}function Pg(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);_.push(p.charAt(b))}return _.join("")}function Fa(){return oe(ba)}function ao(_){return K("authEvent",_.config.apiKey,_.name)}function lo(_){if(!_?.includes("?"))return{};const[p,...g]=_.split("?");return(0,O.zd)(g.join("?"))}function Ll(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Wu(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Sh(_=(0,O.z$)()){return!("file:"!==Wu()&&"ionic:"!==Wu()&&"capacitor:"!==Wu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rp(){try{const _=self.localStorage,p=Ia();if(_)return _.setItem(p,"1"),_.removeItem(p),!function Vg(_=(0,O.z$)()){return function kp(){return(0,O.w1)()&&11===document?.documentMode}()||function xh(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch{return ld()&&(0,O.hl)()}return!1}function ld(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ud(){return(function Lg(){return"http:"===Wu()||"https:"===Wu()}()||(0,O.ru)()||Sh())&&!function Mh(){return(0,O.b$)()||(0,O.UG)()}()&&Rp()&&!ld()}function co(){return Sh()&&typeof document<"u"}function Ku(){return(Ku=(0,d.Z)(function*(){return!!co()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},Lr=B,Va="persistence";function Zu(_){return cd.apply(this,arguments)}function cd(){return(cd=(0,d.Z)(function*(_){yield _._initializationPromise;const p=dd(),g=K(Va,_.config.apiKey,_.name);p&&p.setItem(g,_._getPersistence())})).apply(this,arguments)}function dd(){var _;try{return(null===(_=function kh(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const hd=B;class ii{constructor(){this.browserResolver=oe(class ss{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ui,this._completeRedirectFn=ut,this._overrideRedirectResult=Rs}_openPopup(p,g,b,M){var N=this;return(0,d.Z)(function*(){var q;W(null===(q=N.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const de=ed(p,g,b,Oe(),M);return function Ol(_,p,g,b=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),q=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const je=Object.assign(Object.assign({},Cg),{width:b.toString(),height:M.toString(),top:N,left:q}),Je=(0,O.z$)().toLowerCase();g&&(de=Jt(Je)?"_blank":g),ze(Je)&&(p=p||"http://localhost",je.scrollbars="yes");const Dt=Object.entries(je).reduce((cn,[rr,Ii])=>`${cn}${rr}=${Ii},`,"");if(function $r(_=(0,O.z$)()){var p;return Ht(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==de)return function Tg(_,p){const g=document.createElement("a");g.href=_,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",de),new Dg(null);const vt=window.open(p||"",de,Dt);B(vt,_,"popup-blocked");try{vt.focus()}catch{}return new Dg(vt)}(p,de,Ia())})()}_openRedirect(p,g,b,M){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(p),function _i(_){Fn().location.href=_}(ed(p,g,b,Oe(),M)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:N}=this.eventManagers[g];return M?Promise.resolve(M):(W(N,"If manager is not set, promise should be"),N)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const b=yield function Eh(_){return Ih.apply(this,arguments)}(p),M=new zo(p);return b.register("authEvent",N=>(B(N?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(qo,{type:qo},M=>{var N;const q=null===(N=M?.[0])||void 0===N?void 0:N[qo];void 0!==q&&g(!!q),ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ns(_){return vh.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return js()||gt()||Ht()}}),this.cordovaResolver=oe(class Ah{constructor(){this._redirectPersistence=Ui,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ut,this._overrideRedirectResult=Rs}_initialize(p){var g=this;return(0,d.Z)(function*(){const b=p._key();let M=g.eventManagers.get(b);return M||(M=new sd(p),g.eventManagers.set(b,M),g.attachCallbackListeners(p,M)),M})()}_openPopup(p){ke(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,M){var N=this;return(0,d.Z)(function*(){!function Og(_){var p,g,b,M,N,q,de,je,Je,Dt;const vt=oo();B("function"==typeof(null===(p=vt?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(g=vt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(N=null===(M=null===(b=vt?.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(je=null===(de=null===(q=vt?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===je?void 0:je.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Dt=null===(Je=vt?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===Dt?void 0:Dt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield N._initialize(p);yield q.initialized(),q.resetRedirect(),function hr(){wi.clear()}(),yield N._originValidation(p);const de=function Dp(_,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Pg(),postBody:null,tenantId:_.tenantId,error:be(_,"no-auth-event")}}(p,b,M);yield function Oa(_,p){return Fa()._set(ao(_),p)}(p,de);const je=yield function Wo(_,p,g){return nd.apply(this,arguments)}(p,de,g),Je=yield function Rg(_){const{cordova:p}=oo();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let M=null;b?p.plugins.browsertab.openUrl(_):M=p.InAppBrowser.open(_,function ar(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(M)})})}(je);return function Ng(_,p,g){return rd.apply(this,arguments)}(p,q,Je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ra(_){return qu.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:M,BuildInfo:N}=oo(),q=setTimeout((0,d.Z)(function*(){yield Tp(p),g.onEvent(Ll())}),500),de=function(){var Dt=(0,d.Z)(function*(vt){clearTimeout(q);const cn=yield Tp(p);let rr=null;cn&&vt?.url&&(rr=function Ap(_,p){var g,b;const M=function Mp(_){const p=lo(_),g=p.link?decodeURIComponent(p.link):void 0,b=lo(g).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return lo(M).link||M||b||g||_}(p);if(M.includes("/__/auth/callback")){const N=lo(M),q=N.firebaseError?function Sp(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,de=null===(b=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],je=de?be(de):null;return je?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:M,postBody:null}}return null}(cn,vt.url)),g.onEvent(rr||Ll())});return function(cn){return Dt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,de);const je=M,Je=`${N.packageName.toLowerCase()}://`;oo().handleOpenURL=function(){var Dt=(0,d.Z)(function*(vt){if(vt.toLowerCase().startsWith(Je)&&de({url:vt}),"function"==typeof je)try{je(vt)}catch(cn){console.error(cn)}});return function(vt){return Dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ui,this._completeRedirectFn=ut,this._overrideRedirectResult=Rs}_initialize(p){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,M){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(p,g,b,M)})()}_openRedirect(p,g,b,M){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(p,g,b,M)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return co()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Np(){return Ku.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function fd(_){return _.unwrap()}function pd(_){return Ko(_)}function Ko(_){const{_tokenResponse:p}=_ instanceof O.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ma.credentialFromResult(_);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=el;break;case"facebook.com":b=da;break;case"github.com":b=_u;break;case"twitter.com":b=Gr;break;default:const{oauthIdToken:M,oauthAccessToken:N,oauthTokenSecret:q,pendingToken:de,nonce:je}=p;return N||q||M||de?de?g.startsWith("saml.")?Ao._create(g,de):Ki._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:M,accessToken:N}):new zs(g).credential({idToken:M,accessToken:N,rawNonce:je}):null}return _ instanceof O.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function si(_,p){return p.catch(g=>{throw g instanceof O.ZR&&function Qu(_,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Ug(_,function On(_,p){var g;const b=(0,O.m9)(_),M=p;return B(p.customData.operationType,b,"argument-error"),B(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),_l._fromError(b,M)}(_,p));else if(b){const M=Ko(p),N=p;M&&(N.credential=M,N.tenantId=b.tenantId||void 0,N.email=b.email||void 0,N.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:pd(g),additionalUserInfo:gl(g),user:$i.getOrCreate(M)}})}function Zo(_,p){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,d.Z)(function*(_,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>si(_,g.confirm(b))}})).apply(this,arguments)}class Ug{constructor(p,g){this.resolver=g,this.auth=function Yu(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return si(fd(this.auth),this.resolver.resolveSignIn(p))}}class $i{constructor(p){this._delegate=p,this.multiFactor=function No(_){const p=(0,O.m9)(_);return Xs.has(p)||Xs.set(p,yh._fromUser(p)),Xs.get(p)}(p)}static getOrCreate(p){return $i.USER_MAP.has(p)||$i.USER_MAP.set(p,new $i(p)),$i.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,d.Z)(function*(){return si(g.auth,ol(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,d.Z)(function*(){return Zo(b.auth,function Tn(_,p,g){return bi.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,d.Z)(function*(){return si(g.auth,function kl(_,p,g){return ka.apply(this,arguments)}(g._delegate,p,ii))})()}linkWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Zu(An(g.auth)),function X(_,p,g){return function re(_,p,g){return Te.apply(this,arguments)}(_,p,g)}(g._delegate,p,ii)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,d.Z)(function*(){return si(g.auth,al(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Zo(this.auth,function Sa(_,p,g){return _r.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return si(this.auth,function _p(_,p,g){return Vu.apply(this,arguments)}(this._delegate,p,ii))}reauthenticateWithRedirect(p){var g=this;return(0,d.Z)(function*(){return yield Zu(An(g.auth)),function D(_,p,g){return function k(_,p,g){return V.apply(this,arguments)}(_,p,g)}(g._delegate,p,ii)})()}sendEmailVerification(p){return function Tu(_,p){return _a.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,d.Z)(function*(){return yield function Ar(_,p){return nl.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Hc(_,p){return Zs((0,O.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function Ks(_,p){return Zs((0,O.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yp(_,p){return Fu.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Mu(_,p){return xu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Au(_,p,g){return fl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$i.USER_MAP=new WeakMap;const Yo=B;let Vl=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Yo(M,"invalid-api-key",{appName:g.name}),Yo(M,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?ii:void 0;this._delegate=b.initialize({options:{persistence:Qo(M,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$i.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Qa(_,p,g){const b=An(_);B(b._canInitEmulator,b,"emulator-config-failed"),B(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!g?.disableWarnings,N=Fi(p),{host:q,port:de}=function Hn(_){const p=Fi(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const N=M[1];return{host:N,port:_s(b.substr(N.length+1))}}{const[N,q]=b.split(":");return{host:N,port:_s(q)}}}(p);b.config.emulator={url:`${N}//${q}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:q,port:de,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function vs(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function ni(_,p){return fa.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return pa(this._delegate,g)}confirmPasswordReset(g,b){return function dl(_,p,g){return xo.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var M=this;return(0,d.Z)(function*(){return si(M._delegate,function ma(_,p,g){return Nn.apply(this,arguments)}(M._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function hl(_,p){return ya.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function es(_,p){return"EMAIL_SIGNIN"===Ja.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){Yo(ud(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Be(_,p){return Xe.apply(this,arguments)}(g._delegate,ii);return b?si(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function La(_,p){An(_)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,M){const{next:N,error:q,complete:de}=Xu(g,b,M);return this._delegate.onAuthStateChanged(N,q,de)}onIdTokenChanged(g,b,M){const{next:N,error:q,complete:de}=Xu(g,b,M);return this._delegate.onIdTokenChanged(N,q,de)}sendSignInLinkToEmail(g,b){return function Cu(_,p,g){return Ws.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function cl(_,p,g){return Rn.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,d.Z)(function*(){let M;switch(function Rh(_,p){Lr(Object.values(ri).includes(p),_,"invalid-persistence-type"),(0,O.b$)()?Lr(p!==ri.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Lr(p===ri.NONE,_,"unsupported-persistence-type"):ld()?Lr(p===ri.NONE||p===ri.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Lr(p===ri.NONE||Rp(),_,"unsupported-persistence-type")}(b._delegate,g),g){case ri.SESSION:M=Ui;break;case ri.LOCAL:M=(yield oe(Po)._isAvailable())?Po:ba;break;case ri.NONE:M=U;break;default:return ke("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return si(this._delegate,function fh(_){return kn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return si(this._delegate,Mn(this._delegate,g))}signInWithCustomToken(g){return si(this._delegate,function wu(_,p){return ha.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return si(this._delegate,function Vi(_,p,g){return Mn((0,O.m9)(_),Li.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return si(this._delegate,function dp(_,p,g){return ga.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Zo(this._delegate,function rt(_,p,g){return Gn.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,d.Z)(function*(){return Yo(ud(),b._delegate,"operation-not-supported-in-this-environment"),si(b._delegate,function Lu(_,p,g){return Go.apply(this,arguments)}(b._delegate,g,ii))})()}signInWithRedirect(g){var b=this;return(0,d.Z)(function*(){return Yo(ud(),b._delegate,"operation-not-supported-in-this-environment"),yield Zu(b._delegate),function _n(_,p,g){return function io(_,p,g){return C.apply(this,arguments)}(_,p,g)}(b._delegate,g,ii)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Iu(_,p){return jc.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ri,_})();function Xu(_,p,g){let b=_;"function"!=typeof _&&({next:b,error:p,complete:g}=_);const M=b;return{next:q=>M(q&&$i.getOrCreate(q)),error:p,complete:g}}function Qo(_,p){const g=function Os(_,p){const g=dd();if(!g)return[];const b=K(Va,_,p);switch(g.getItem(b)){case ri.NONE:return[U];case ri.LOCAL:return[Po,Ui];case ri.SESSION:return[Ui];default:return[]}}(_,p);if(typeof self<"u"&&!g.includes(Po)&&g.push(Po),typeof window<"u")for(const b of[ba,Ui])g.includes(b)||g.push(b);return g.includes(U)||g.push(U),g}class Oh{constructor(){this.providerId="phone",this._delegate=new Ma(fd(te.Z.auth()))}static credential(p,g){return Ma.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Oh.PHONE_SIGN_IN_METHOD=Ma.PHONE_SIGN_IN_METHOD,Oh.PROVIDER_ID=Ma.PROVIDER_ID;const Ju=B;class Ph{constructor(p,g,b=te.Z.app()){var M;Ju(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new dr(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lh(_){_.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Vl(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Li,FacebookAuthProvider:da,GithubAuthProvider:_u,GoogleAuthProvider:el,OAuthProvider:zs,SAMLAuthProvider:ei,PhoneAuthProvider:Oh,PhoneMultiFactorGenerator:Gu,RecaptchaVerifier:Ph,TwitterAuthProvider:Gr,Auth:Vl,AuthCredential:gr,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(te.Z)},8766:(ht,Me,F)=>{F.d(Me,{Lj:()=>ke,X3:()=>lt});var d=F(5861);let O,le;const se=new WeakMap,pe=new WeakMap,me=new WeakMap,j=new WeakMap,H=new WeakMap;let Re={get(B,ye,W){if(B instanceof IDBTransaction){if("done"===ye)return pe.get(B);if("objectStoreNames"===ye)return B.objectStoreNames||me.get(B);if("store"===ye)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return ge(B[ye])},set:(B,ye,W)=>(B[ye]=W,!0),has:(B,ye)=>B instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in B};function _e(B){return"function"==typeof B?function st(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ye){return B.apply(tt(this),ye),ge(se.get(this))}:function(...ye){return ge(B.apply(tt(this),ye))}:function(ye,...W){const ee=B.call(tt(this),ye,...W);return me.set(ee,ye.sort?ye.sort():[ye]),ge(ee)}}(B):(B instanceof IDBTransaction&&function Ve(B){if(pe.has(B))return;const ye=new Promise((W,ee)=>{const oe=()=>{B.removeEventListener("complete",ie),B.removeEventListener("error",Fe),B.removeEventListener("abort",Fe)},ie=()=>{W(),oe()},Fe=()=>{ee(B.error||new DOMException("AbortError","AbortError")),oe()};B.addEventListener("complete",ie),B.addEventListener("error",Fe),B.addEventListener("abort",Fe)});pe.set(B,ye)}(B),((B,ye)=>ye.some(W=>B instanceof W))(B,function ae(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,Re):B)}function ge(B){if(B instanceof IDBRequest)return function Q(B){const ye=new Promise((W,ee)=>{const oe=()=>{B.removeEventListener("success",ie),B.removeEventListener("error",Fe)},ie=()=>{W(ge(B.result)),oe()},Fe=()=>{ee(B.error),oe()};B.addEventListener("success",ie),B.addEventListener("error",Fe)});return ye.then(W=>{W instanceof IDBCursor&&se.set(W,B)}).catch(()=>{}),H.set(ye,B),ye}(B);if(j.has(B))return j.get(B);const ye=_e(B);return ye!==B&&(j.set(B,ye),H.set(ye,B)),ye}const tt=B=>H.get(B);function lt(B,ye,{blocked:W,upgrade:ee,blocking:oe,terminated:ie}={}){const Fe=indexedDB.open(B,ye),Oe=ge(Fe);return ee&&Fe.addEventListener("upgradeneeded",mt=>{ee(ge(Fe.result),mt.oldVersion,mt.newVersion,ge(Fe.transaction))}),W&&Fe.addEventListener("blocked",()=>W()),Oe.then(mt=>{ie&&mt.addEventListener("close",()=>ie()),oe&&mt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Oe}function ke(B,{blocked:ye}={}){const W=indexedDB.deleteDatabase(B);return ye&&W.addEventListener("blocked",()=>ye()),ge(W).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],He=new Map;function $e(B,ye){if(!(B instanceof IDBDatabase)||ye in B||"string"!=typeof ye)return;if(He.get(ye))return He.get(ye);const W=ye.replace(/FromIndex$/,""),ee=ye!==W,oe=Ce.includes(W);if(!(W in(ee?IDBIndex:IDBObjectStore).prototype)||!oe&&!be.includes(W))return;const ie=function(){var Fe=(0,d.Z)(function*(Oe,...mt){const en=this.transaction(Oe,oe?"readwrite":"readonly");let zt=en.store;return ee&&(zt=zt.index(mt.shift())),(yield Promise.all([zt[W](...mt),oe&&en.done]))[0]});return function(mt){return Fe.apply(this,arguments)}}();return He.set(ye,ie),ie}!function Ie(B){Re=B(Re)}(B=>({...B,get:(ye,W,ee)=>$e(ye,W)||B.get(ye,W,ee),has:(ye,W)=>!!$e(ye,W)||B.has(ye,W)}))},5861:(ht,Me,F)=>{function d(O,le,ae,fe,se,pe,me){try{var j=O[pe](me),H=j.value}catch(Q){return void ae(Q)}j.done?le(H):Promise.resolve(H).then(fe,se)}function te(O){return function(){var le=this,ae=arguments;return new Promise(function(fe,se){var pe=O.apply(le,ae);function me(H){d(pe,fe,se,me,j,"next",H)}function j(H){d(pe,fe,se,me,j,"throw",H)}me(void 0)})}}F.d(Me,{Z:()=>te})}},ht=>{ht(ht.s=1898)}]);